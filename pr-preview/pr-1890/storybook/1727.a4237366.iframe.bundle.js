"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[1727],{"./packages/react/src/date-picker/DatePicker.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>DatePicker});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/core/index.ts"),_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/_popover/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/react/src/date-picker/utils.ts"),_Calendar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/react/src/date-picker/Calendar.tsx"),_CalendarContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/react/src/date-picker/CalendarContext.tsx"),_DatePickerInput__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/react/src/date-picker/DatePickerInput.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["allowedDateFormats","dateFormat","initialMonth","inputRef","invalid","maxDate","maxWidth","minDate","onBlur","onChange","onInputChange","value","yearRange"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _ref2={name:"1coh6b9",styles:"min-height:200px"};const DatePicker=_ref=>{let{allowedDateFormats:allowedDateFormatsProp=_utils__WEBPACK_IMPORTED_MODULE_7__.e,dateFormat="dd/MM/yyyy",initialMonth,inputRef,invalid=!1,maxDate,maxWidth="md",minDate,onBlur:onBlurProp,onChange,onInputChange:onInputChangeProp,value,yearRange}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_ref,_excluded);const allowedDateFormats=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>Array.from(new Set([dateFormat,...allowedDateFormatsProp.filter((dateFormat=>_utils__WEBPACK_IMPORTED_MODULE_7__.e.includes(dateFormat)))]))),[dateFormat,allowedDateFormatsProp]),triggerRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),{0:hasCalendarOpened,1:setHasCalendarOpened}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isCalendarOpen,openCalendar,closeCalendar]=(0,_core__WEBPACK_IMPORTED_MODULE_2__.C6)(!1),toggleCalendar=isCalendarOpen?closeCalendar:openCalendar,popover=(0,_popover__WEBPACK_IMPORTED_MODULE_3__.f)(),onSelect=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((_,selectedDay,modifiers)=>{modifiers.disabled||(setInputValue((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Yq)(selectedDay,dateFormat)),onChange(selectedDay),closeCalendar())}),[onChange,closeCalendar,dateFormat]),{0:inputValue,1:setInputValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Lp)(value,dateFormat));(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setInputValue((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Lp)(value,dateFormat))}),[dateFormat,value]);const handleClickOutside=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{isCalendarOpen&&closeCalendar()}),[isCalendarOpen,closeCalendar]);(0,_core__WEBPACK_IMPORTED_MODULE_2__.Ls)([popover.popoverRef,triggerRef],handleClickOutside),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const handleKeyDown=e=>{isCalendarOpen&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),closeCalendar())};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[isCalendarOpen,closeCalendar]);const disabledCalendarDays=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>{if(minDate||maxDate)return[minDate?{before:minDate}:void 0,maxDate?{after:maxDate}:void 0].filter((x=>Boolean(x)))}),[minDate,maxDate]),valueAsDateOrUndefined="string"==typeof value?(0,_utils__WEBPACK_IMPORTED_MODULE_7__.A9)(value):value,defaultMonth=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.O4)(valueAsDateOrUndefined,initialMonth,yearRange),popoverProps=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>popover.getPopoverProps()),[popover]),calendarProps=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>({defaultMonth,disabled:disabledCalendarDays,initialFocus:!0,numberOfMonths:1,onSelect,selected:valueAsDateOrUndefined})),[defaultMonth,disabledCalendarDays,onSelect,valueAsDateOrUndefined]);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.FD)("div",_objectSpread(_objectSpread({},popover.getReferenceProps()),{},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_DatePickerInput__WEBPACK_IMPORTED_MODULE_6__.J,_objectSpread(_objectSpread({},props),{},{dateFormat,maxWidth,invalid:{field:invalid,input:invalid},ref:inputRef,value:inputValue,onBlur:e=>{const inputValue=e.target.value,parsedDate=(0,_utils__WEBPACK_IMPORTED_MODULE_7__._U)(inputValue,allowedDateFormats),constrainedDate=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.QO)(parsedDate,minDate,maxDate);!inputValue||constrainedDate?onChange(constrainedDate):onInputChangeProp?.(inputValue),onBlurProp?.(e)},onChange:e=>{const inputValue=e.target.value;setInputValue(inputValue)},buttonRef:triggerRef,buttonOnClick:()=>{toggleCalendar(),setHasCalendarOpened(!0)},buttonAriaLabel:(0,_utils__WEBPACK_IMPORTED_MODULE_7__.oo)({allowedDateFormats,value:inputValue})})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_CalendarContext__WEBPACK_IMPORTED_MODULE_5__.S,{yearRange,children:hasCalendarOpened?isCalendarOpen&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_popover__WEBPACK_IMPORTED_MODULE_3__.A,_objectSpread(_objectSpread({},popoverProps),{},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_Calendar__WEBPACK_IMPORTED_MODULE_4__.ND,_objectSpread({},calendarProps))})):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_popover__WEBPACK_IMPORTED_MODULE_3__.A,_objectSpread(_objectSpread({},popoverProps),{},{visibility:isCalendarOpen?"visible":"hidden",css:_ref2,children:isCalendarOpen&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_Calendar__WEBPACK_IMPORTED_MODULE_4__.ND,_objectSpread({},calendarProps))}))})]}))};DatePicker.__docgenInfo={description:"",methods:[],displayName:"DatePicker",props:{autoComplete:{required:!1,tsType:{name:"InputHTMLAttributes['autoComplete']",raw:"NativeInputProps['autoComplete']"},description:""},autoFocus:{required:!1,tsType:{name:"InputHTMLAttributes['autoFocus']",raw:"NativeInputProps['autoFocus']"},description:""},disabled:{required:!1,tsType:{name:"InputHTMLAttributes['disabled']",raw:"NativeInputProps['disabled']"},description:""},id:{required:!1,tsType:{name:"InputHTMLAttributes['id']",raw:"NativeInputProps['id']"},description:""},name:{required:!1,tsType:{name:"InputHTMLAttributes['name']",raw:"NativeInputProps['name']"},description:""},onBlur:{required:!1,tsType:{name:"InputHTMLAttributes['onBlur']",raw:"NativeInputProps['onBlur']"},description:""},onFocus:{required:!1,tsType:{name:"InputHTMLAttributes['onFocus']",raw:"NativeInputProps['onFocus']"},description:""},label:{required:!0,tsType:{name:"string"},description:"Describes the purpose of the field."},hideOptionalLabel:{required:!1,tsType:{name:"boolean"},description:'If true, "(optional)" will never be appended to the label.'},required:{required:!1,tsType:{name:"boolean"},description:'If false, "(optional)" will be appended to the label.'},hint:{required:!1,tsType:{name:"string"},description:"Provides extra information about the field."},message:{required:!1,tsType:{name:"string"},description:"Message to show when the field is invalid."},invalid:{required:!1,tsType:{name:"boolean"},description:"If true, the invalid state will be rendered.",defaultValue:{value:"false",computed:!1}},block:{required:!1,tsType:{name:"boolean"},description:"If true, the field will stretch to the fill the width of its container."},maxWidth:{required:!1,tsType:{name:"Extract",elements:[{name:"unknown"},{name:"union",raw:"'md' | 'lg' | 'xl'",elements:[{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"},{name:"literal",value:"'xl'"}]}],raw:"Extract<FieldMaxWidth, 'md' | 'lg' | 'xl'>"},description:"The maximum width of the field.",defaultValue:{value:"'md'",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"If set, any days before this date will not be selectable."},maxDate:{required:!1,tsType:{name:"Date"},description:"If set, any days after this date will not be selectable."},initialMonth:{required:!1,tsType:{name:"Date"},description:"The calendar month to initially show if no value is set."},yearRange:{required:!1,tsType:{name:"signature",type:"object",raw:"{ from: number; to: number }",signature:{properties:[{key:"from",value:{name:"number",required:!0}},{key:"to",value:{name:"number",required:!0}}]}},description:"The range of options to display in calendar year select."},allowedDateFormats:{required:!1,tsType:{name:"ReadonlyArray",elements:[{name:"unknown[number]",raw:"(typeof acceptedDateFormats)[number]"}],raw:"ReadonlyArray<AcceptedDateFormats>"},description:"Specifies the date formats that can be parsed.",defaultValue:{value:"[\n\t'dd/MM/yyyy', // e.g. 18/02/2023\n\t'dd-MM-yyyy', // e.g. 18-02-2023\n\t'dd MM yyyy', // e.g. 18 02 2023\n\t'MM/dd/yyyy', // e.g. 02/18/2023\n\t'MM-dd-yyyy', // e.g. 02-18-2023\n\t'MM dd yyyy', // e.g. 02 18 2023\n\t'do MMMM yyyy', // e.g. 8th February 2023\n\t'do MMM yyyy', // e.g. 8th Feb 2023\n\t'MMMM do yyyy', // e.g. February 8th 2023\n\t'MMM do yyyy', // e.g. Feb 8th 2023\n\t'd MMMM yyyy', // e.g. 8 February 2023\n\t'd MMM yyyy', // e.g. 8 Feb 2023\n\t'MMMM d yyyy', // e.g. February 8 2023\n\t'MMM d yyyy', // e.g. Feb 8 2023\n\t'dd MMMM yyyy', // e.g. 08 February 2023\n\t'dd MMM yyyy', // e.g. 08 Feb 2023\n\t'MMMM dd yyyy', // e.g. February 08 2023\n\t'MMM dd yyyy', // e.g. Feb 08 2023\n]",computed:!1}},value:{required:!0,tsType:{name:"union",raw:"Date | string | undefined",elements:[{name:"Date"},{name:"string"},{name:"undefined"}]},description:"The value of the field."},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(day: Date | undefined) => void",signature:{arguments:[{type:{name:"union",raw:"Date | undefined",elements:[{name:"Date"},{name:"undefined"}]},name:"day"}],return:{name:"void"}}},description:"Function to be fired following a change event."},onInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(inputValue: string) => void",signature:{arguments:[{type:{name:"string"},name:"inputValue"}],return:{name:"void"}}},description:"Function to be fired when the input value is updated."},inputRef:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:"Ref to the input element."},dateFormat:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof acceptedDateFormats)[number]"},description:"Used to adjust the date format displayed in the text input and secondary label.",defaultValue:{value:"'dd/MM/yyyy'",computed:!1}}}}}}]);