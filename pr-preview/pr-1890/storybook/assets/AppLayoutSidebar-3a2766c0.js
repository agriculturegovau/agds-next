import{j as e,a as p,u as $,c as v,d as c,t as u,p as S,G as V}from"./responsive-22d1c539.js";import{r as k}from"./index-f0f3a68d.js";import{S as A,F as R}from"./Stack-e6a92433.js";import{c as U,B as z}from"./Box-cc8e6f8e.js";import{a as O}from"./Button-1a082b6d.js";import"./ButtonGroup-5c583b5f.js";import{a as j,o as H,n as K}from"./WebsiteIcon-03a55100.js";import{u as P,a as I,b as W,f as Q}from"./utils-ba2ed83c.js";import{r as X}from"./index-33ec0502.js";import{a as F,u as Y}from"./react-spring-web.esm-283dcba6.js";import{F as J}from"./Combination-2983c2b6.js";import{c as Z}from"./useId-bf1c3739.js";import{u as ee}from"./usePrefersReducedMotion-f6a12f32.js";import{u as oe}from"./useAriaModalPolyfill-194cdec9.js";import{V as ne}from"./ExternalLinkCallout-896682bb.js";const _=(o,a=0)=>n=>{var i,l;const r="href"in n&&n.href===o||C(n.items,o);return{...n,isActive:r,items:r||(i=n.items)!=null&&i.length?(l=n==null?void 0:n.items)==null?void 0:l.map(_(o,a+1)):void 0,level:a+1}},B=({activePath:o,background:a,items:n,subLevelVisible:t})=>e(A,{as:"nav","aria-label":"main",paddingBottom:1.5,children:e(A,{as:"ul",children:n.map((r,i)=>{var b,y;const l=i===0,s=(Array.isArray(r)?r:r.items).map(_(o)),d=Array.isArray(r)?!1:!!((b=r.options)!=null&&b.disableGroupPadding),m=n[i-1],h=m?Array.isArray(m)?!1:!!((y=m.options)!=null&&y.disableGroupPadding):!1;return p(k.Fragment,{children:[l?null:e(re,{disablePaddingTop:h,disablePaddingBottom:d}),s.map((g,w)=>{const f=C(g.items,o);return e(q,{activePath:o,background:a,isActiveGroup:f,isOpen:t==="always"||f,item:g,subLevelVisible:t},w)})]},i)})})});function q({activePath:o,background:a,isActiveGroup:n,isOpen:t,item:r,subLevelVisible:i}){var E,x,N;const l=$(),{endElement:s,icon:d,isActive:m,items:h,label:b,level:y,...g}=r,{closeMobileMenu:w}=P(),f=(h==null?void 0:h.length)||0,M=f>0&&i!=="always";if("href"in r){const L=r.href===o;return p(T,{background:a,hasEndElement:!!s,isCurrentPage:L,isActive:n,isOpen:t,level:r.level,onClick:w,children:[p(l,{"aria-current":L?"page":void 0,...g,children:[d&&y===1&&e(d,{color:"inherit"}),y===2&&e("span",{"aria-hidden":!0,children:"â€“"}),e("span",{css:{flexGrow:1},children:b}),s,M&&(m?e(j,{"aria-hidden":!1,"aria-label":`. Sub-level ${f===1?"link":"links"} below.`,size:"md"}):e(H,{"aria-hidden":!1,"aria-label":`. Has ${f} sub-level ${f===1?"link":"links"}.`,size:"md"}))]}),!!((E=r.items)!=null&&E.length)&&(t||L)&&e(A,{as:"ul",children:(N=(x=r.items)==null?void 0:x.map)==null?void 0:N.call(x,G=>{var D;return e(q,{activePath:o,background:a,isActiveGroup:!!m,isOpen:t,item:G,subLevelVisible:i},(D=G.label)==null?void 0:D.toString())})})]})}return"onClick"in r?e(T,{background:a,hasEndElement:!!s,isActive:!1,isCurrentPage:!1,isOpen:!1,onClick:w,children:p(O,{...g,children:[d?e(d,{color:"inherit"}):null,e("span",{children:b}),s]})}):e(T,{background:a,isActive:!1,isCurrentPage:!1,isOpen:!1,hasEndElement:!1,children:e(A,{as:"span",gap:.25,children:b})})}function T({background:o,children:a,hasEndElement:n,isCurrentPage:t,isActive:r,isOpen:i,level:l,onClick:s}){return e("li",{css:{"> a, > button, > span":{width:"100%",boxSizing:"border-box",wordBreak:"break-word",paddingTop:v(1),paddingBottom:v(1),paddingLeft:v(l===2?3:1.5),paddingRight:v(1),"& > svg":{flexShrink:0}},"> a, > button":{position:"relative",display:"flex",alignItems:"center",gap:v(.75),color:r&&l!==2||t?c.foregroundText:c.foregroundAction,...(r||t||i)&&{fontWeight:t?u.fontWeight.bold:u.fontWeight.normal,background:t?c.selectedMuted:void 0,"&::before":{content:"''",position:"absolute",top:0,left:0,bottom:0,borderLeftStyle:"solid",borderLeftWidth:u.borderWidth.xl,...t&&{borderLeftColor:c.selected},...!t&&r&&{borderLeftColor:c.borderMuted},...!t&&!r&&i&&{borderLeft:"none"}}},...n&&{"& > :last-child":{marginLeft:"auto"}},"&:hover":{background:c[o==="body"?"backgroundShade":"backgroundShadeAlt"],color:c.foregroundText,[`& > span:nth-of-type(${l})`]:S.underline},...U,":focus-visible":{zIndex:u.zIndex.elevated,outlineOffset:`-${S.outline.outlineWidth}`,"&::before":{zIndex:-1}}},"> span":{color:c.foregroundText},"> a":{textDecoration:"none"}},onClick:s,children:a})}function re({disablePaddingTop:o,disablePaddingBottom:a}){return e(z,{as:"li",paddingTop:o?0:1,paddingBottom:a?0:1,"aria-hidden":"true",children:e("hr",{css:{boxSizing:"content-box",height:0,margin:0,overflow:"visible",border:"none",borderTopWidth:u.borderWidth.sm,borderTopStyle:"solid",borderColor:c.borderMuted,width:"100%"}})})}function C(o,a){return o!=null&&o.length&&a?o.some(n=>"href"in n&&n.href===a||"items"in n&&C(n.items,a)):!1}B.__docgenInfo={description:"",methods:[],displayName:"AppLayoutSidebarNav",props:{activePath:{required:!1,tsType:{name:"string"},description:""},background:{required:!0,tsType:{name:"union",raw:"'body' | 'bodyAlt'",elements:[{name:"literal",value:"'body'"},{name:"literal",value:"'bodyAlt'"}]},description:""},items:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:`(
	| NavItem[]
	| { items: NavItem[]; options?: { disableGroupPadding: boolean } }
)[]`},description:""},subLevelVisible:{required:!1,tsType:{name:"union",raw:"AppLayoutSidebarProps['subLevelVisible']"},description:""}}};function ae({children:o,palette:a}){const{isMobileMenuOpen:n,closeMobileMenu:t}=P(),{modalContainerRef:r}=oe(n);k.useEffect(()=>{const s=d=>{d.code==="Escape"&&(d.preventDefault(),d.stopPropagation(),t())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[t]);const i=ee(),l=Y([n],{from:{translateX:"-100%",opacity:0},enter:{translateX:"0%",opacity:1},leave:{translateX:"-100%",opacity:0},config:{duration:150},immediate:i});return Z()?X.createPortal(p(k.Fragment,{children:[n&&e(ie,{}),l(({translateX:s,opacity:d},m)=>m?p("div",{ref:r,children:[e(se,{onClick:t,style:{opacity:d}}),e(J,{returnFocus:!0,children:p(te,{"aria-label":"Menu","aria-modal":"true",background:"shade",css:{position:"fixed",zIndex:u.zIndex.dialog,top:0,left:0,bottom:0,overflowY:"auto"},display:{[I]:"none"},palette:a,role:"dialog",style:{translateX:s},width:W,children:[e(le,{onClick:t}),o]})})]}):null)]}),document.body):null}const te=F(z);function ie(){return e(V,{styles:{body:{overflow:"hidden"},[u.mediaQuery.min[I]]:{body:{overflow:"unset"}}}})}function se({onClick:o,style:a}){return e(F.div,{css:{display:"block",position:"fixed",inset:0,backgroundColor:c.overlay,zIndex:u.zIndex.overlay,[u.mediaQuery.min[I]]:{display:"none"}},onClick:o,style:a})}function le({onClick:o}){return e(R,{alignItems:"center",borderBottom:!0,borderColor:"muted",flexShrink:0,paddingLeft:1,children:p(R,{alignItems:"center",as:O,color:"action",css:{":focus":{outlineOffset:`-${S.outline.outlineWidth}`}},flexDirection:"column",focusRingFor:"keyboard",fontSize:"xs",gap:.5,onClick:o,padding:1,children:[e(K,{}),e("span",{"aria-hidden":"true",children:"Close"}),e(ne,{children:"Close menu"})]})})}function de({activePath:o,background:a="bodyAlt",items:n,palette:t,subLevelVisible:r="whenActive"}){const{focusMode:i}=P(),s={activePath:Q(n,o),items:n,subLevelVisible:r};return p(k.Fragment,{children:[e(A,{background:a,borderColor:"muted",borderRight:!0,css:{display:"none",width:W,[u.mediaQuery.min[I]]:{display:i?"none":"flex"}},flexGrow:1,gap:1,palette:t,children:e(B,{...s,background:a})}),e(ae,{palette:t,children:e(B,{...s,background:"bodyAlt"})})]})}de.__docgenInfo={description:"",methods:[],displayName:"AppLayoutSidebar",props:{activePath:{required:!1,tsType:{name:"string"},description:"Used for highlighting the active element."},background:{required:!1,tsType:{name:"union",raw:"'body' | 'bodyAlt'",elements:[{name:"literal",value:"'body'"},{name:"literal",value:"'bodyAlt'"}]},description:"",defaultValue:{value:"'bodyAlt'",computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:`(
	| NavItem[]
	| { items: NavItem[]; options?: { disableGroupPadding: boolean } }
)[]`},description:"Groups of navigation items to display."},palette:{required:!1,tsType:{name:"union",raw:`| Partial<Record<NamedBreakpoint, T>>
| (T | null)[] // [xs, sm, md, lg, xl]
| T`,elements:[{name:"Partial",elements:[{name:"Record",elements:[{name:"unknown"},{name:"boxPalettes"}],raw:"Record<NamedBreakpoint, T>"}],raw:"Partial<Record<NamedBreakpoint, T>>"},{name:"Array",elements:[{name:"unknown"}],raw:"(T | null)[]"},{name:"boxPalettes"}]},description:""},subLevelVisible:{required:!1,tsType:{name:"union",raw:"'always' | 'whenActive'",elements:[{name:"literal",value:"'always'"},{name:"literal",value:"'whenActive'"}]},description:"When to show sub-level navigation items.",defaultValue:{value:"'whenActive'",computed:!1}}}};export{de as A};
