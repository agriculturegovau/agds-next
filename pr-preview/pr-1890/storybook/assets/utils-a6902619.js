var U=function(e,n){if(e&&n){var t=Array.isArray(n)?n:n.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(o){var s=o.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?a===s.replace(/\/.*$/,""):i===s})}return!0};function m(e){return W(e)||z(e)||E(e)||$()}function $(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function W(e){if(Array.isArray(e))return p(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(r){T(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e,n){return k(e)||H(e,n)||E(e,n)||Y()}function Y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(e,n){if(e){if(typeof e=="string")return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}}function p(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function H(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,o,s;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(r.push(o.value),!(n&&r.length===n));i=!0);}catch(u){a=!0,s=u}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw s}}return r}}function k(e){if(Array.isArray(e))return e}var O="file-invalid-type",w="file-too-large",I="file-too-small",M="too-many-files",d={FileInvalidType:O,FileTooLarge:w,FileTooSmall:I,TooManyFiles:M},K=function(n){n=Array.isArray(n)&&n.length===1?n[0]:n;var t=Array.isArray(n)?"one of ".concat(n.join(", ")):n;return{code:O,message:"File type must be ".concat(t)}},x=function(n){return{code:w,message:"File is larger than ".concat(n," ").concat(n===1?"byte":"bytes")}},b=function(n){return{code:I,message:"File is smaller than ".concat(n," ").concat(n===1?"byte":"bytes")}},ne={code:M,message:"Too many files"};function q(e,n){var t=e.type==="application/x-moz-file"||U(e,n);return[t,t?null:K(n)]}function G(e,n,t){if(l(e.size))if(l(n)&&l(t)){if(e.size>t)return[!1,x(t)];if(e.size<n)return[!1,b(n)]}else{if(l(n)&&e.size<n)return[!1,b(n)];if(l(t)&&e.size>t)return[!1,x(t)]}return[!0,null]}function l(e){return e!=null}function te(e){var n=e.files,t=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles,s=e.validator;return!a&&n.length>1||a&&o>=1&&n.length>o?!1:n.every(function(u){var R=q(u,t),L=c(R,1),P=L[0],B=G(u,r,i),N=c(B,1),C=N[0],D=s?s(u):null;return P&&C&&!D})}function v(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function re(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(n){return n==="Files"||n==="application/x-moz-file"}):!!e.target&&!!e.target.files}function ie(e){e.preventDefault()}function X(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function J(e){return e.indexOf("Edge/")!==-1}function oe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return X(e)||J(e)}function ae(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return n.some(function(s){return!v(r)&&s&&s.apply(void 0,[r].concat(a)),v(r)})}}function se(){return"showOpenFilePicker"in window}function le(e){if(l(e)){var n=Object.entries(e).filter(function(t){var r=c(t,2),i=r[0],a=r[1],o=!0;return _(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(a)||!a.every(S))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(t,r){var i=c(r,2),a=i[0],o=i[1];return y(y({},t),{},T({},a,o))},{});return[{description:"Files",accept:n}]}return e}function ue(e){if(l(e))return Object.entries(e).reduce(function(n,t){var r=c(t,2),i=r[0],a=r[1];return[].concat(m(n),[i],m(a))},[]).filter(function(n){return _(n)||S(n)}).join(",")}function ce(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function fe(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function _(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function S(e){return/^.*\.[\w]+$/.test(e)}const f=1e3,F=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],V="Unknown",h=F.length-1,Z=(e,n,t)=>Math.min(Math.max(e,n),t);function Q(e){let n=Number(e),t,r;if(isNaN(n))return V;const i=n<0;i&&(n=-n),r=Z(Math.floor(Math.log(n)/Math.log(f)),0,h);const a=n/Math.pow(f,r),o=Math.pow(10,r>0?2:0);return t=Math.round(a*o)/o,t===f&&r<h&&(t=1,r++),i&&(t=-t),`${t} ${F[r]}`}function pe(e){return Q(e)}function de(e){return e.length===0?"":`${e.length} ${e.length===1?"file":"files"} selected`}const ee={"application/msword":{extensions:[".doc"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{extensions:[".docx"]},"application/pdf":{extensions:[".pdf"]},"application/rtf":{extensions:[".rtf"]},"application/vnd.ms-excel":{extensions:[".xls"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{extensions:[".xlsx"]},"application/vnd.ms-outlook":{extensions:[".msg"]},"application/zip":{extensions:[".zip"]},"application/xml":{extensions:[".xml"]},"audio/*":{extensions:[],label:"Any audio file"},"audio/mpeg":{extensions:[".mp3"]},"audio/wav":{extensions:[".wav"]},"image/*":{extensions:[],label:"Any image file"},"image/gif":{extensions:[".gif"]},"image/heic":{extensions:[".heic"]},"image/jpg":{extensions:[".jpeg",".jpg"]},"image/jpeg":{extensions:[".jpeg",".jpg"]},"image/png":{extensions:[".png"]},"image/svg+xml":{extensions:[".svg"]},"image/tiff":{extensions:[".tif",".tiff"]},"image/webp":{extensions:[".webp"]},"text/*":{extensions:[],label:"Any text file"},"text/csv":{extensions:[".csv"]},"text/plain":{extensions:[".txt"]},"text/rtf":{extensions:[".rtf"]},"text/xml":{extensions:[".xml"]},"video/*":{extensions:[],label:"Any video file"},"video/mp4":{extensions:[".mp4"]},"video/mpeg":{extensions:[".mpeg"]}};function me(e){if(!(e!=null&&e.length))return;const n=[];return e.forEach(t=>{if(typeof t=="string"){const r=ee[t];"label"in r?n.push(r.label):r.extensions.forEach(i=>{n.push(A(i))})}else t!=null&&t.label?n.push(t.label):t.extensions.forEach(r=>{n.push(A(r))})}),n.filter((t,r,i)=>i.indexOf(t)===r).join(", ")}function A(e){return e.replace(/^\./,"")}const j={code:d.TooManyFiles,message:"Too many files"};function ge(e,n){if(!(e!=null&&e.length))return;const t=Array.from(new Set(e.map(({code:r})=>r)));return t.includes(d.FileInvalidType)?"Invalid file type":t.includes(d.FileTooLarge)?`File is over ${n}`:j.message}function ye(e){const n=/image\/(png|jpg|jpeg|webp|heic)/i;return e.type.match(n)?URL.createObjectURL(e):void 0}function xe(e){return{file:e,errors:[j]}}function be(e,n){const t=[...e];return t.splice(n,1),t}export{ne as T,pe as a,ue as b,se as c,v as d,te as e,ee as f,ye as g,q as h,re as i,G as j,ce as k,fe as l,oe as m,ae as n,ie as o,le as p,me as q,de as r,ge as s,be as t,xe as u};
