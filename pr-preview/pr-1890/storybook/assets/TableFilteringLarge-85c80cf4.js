import{j as e,a as r}from"./responsive-22d1c539.js";import{S as p,F as k}from"./Stack-e6a92433.js";import{b as I,B as h}from"./Button-1a082b6d.js";import{B as $}from"./ButtonGroup-5c583b5f.js";import{a2 as v,R as P,x as z,a as U}from"./WebsiteIcon-03a55100.js";import{b as D}from"./Heading-85d6cea8.js";import{B as g}from"./Box-cc8e6f8e.js";import{c as J,b as R,e as T,h as A,k as F,m as B,l as q,f as j,F as O,A as H,i as K,j as Q,S as V}from"./ActiveFilters-4645d700.js";import{r as f}from"./index-f0f3a68d.js";import{u as X}from"./useToggleState-e0319b87.js";import{b as Z,a as ee}from"./react-spring-web.esm-283dcba6.js";import{D as E}from"./DateRangePicker-ee10f16f.js";import{u as te}from"./usePrefersReducedMotion-f6a12f32.js";import{u as re}from"./useTernaryState-ed86673f.js";import{F as _}from"./Fieldset-6d712801.js";import{F as L}from"./FormStack-3173ac7e.js";import{D as ie}from"./Divider-6f447906.js";import{D as oe}from"./Drawer-4bdabcbe.js";import{C as ne}from"./Checkbox-1a56878a.js";const S=({children:t})=>e(p,{as:"section",gap:1,"aria-label":"data filtering",borderBottom:!0,paddingBottom:1.5,children:t}),y=({children:t})=>e(k,{columnGap:1,rowGap:1.5,alignItems:{xs:"stretch",lg:"flex-end"},justifyContent:{xs:"flex-start",md:"space-between"},flexDirection:{xs:"column",lg:"row"},children:t}),w=({children:t})=>e(k,{flexWrap:"wrap",columnGap:1,rowGap:1.5,flexDirection:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"flex-end"},children:t});S.__docgenInfo={description:"",methods:[],displayName:"FilterRegion",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};y.__docgenInfo={description:"",methods:[],displayName:"FilterBar",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};w.__docgenInfo={description:"",methods:[],displayName:"FilterBarGroup",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const C=()=>{const{data:t}=J(),{toggleAllRowsSelected:i,isSelectAllCheckboxChecked:n,isSelectAllCheckboxIndeterminate:s}=se(t);return e(ne,{size:"sm",checked:n,indeterminate:s,onChange:i,children:"Select all rows"})};function se(t){const{selection:i,selectRows:n,clearRowSelections:s}=R(),o=f.useMemo(()=>t.map(m=>m.id),[t]),d=f.useMemo(()=>i.length>0,[i]),l=f.useMemo(()=>o.length<0&&o.every(m=>i.includes(m)),[o,i]);return{isSelectAllCheckboxChecked:l,isSelectAllCheckboxIndeterminate:l?!1:d,toggleAllRowsSelected:()=>{l?s():n(o)}}}C.__docgenInfo={description:"",methods:[],displayName:"DataTableSelectAllCheckbox"};const N="table-heading",ae=({selectable:t})=>r(p,{gap:1.5,children:[e(D,{id:N,children:"Audits"}),e("div",{children:e(I,{href:"#new",iconBefore:v,children:"Create request"})}),r(p,{gap:0,children:[e(S,{children:r(y,{children:[r(w,{children:[e(T,{}),e(A,{})]}),e(F,{})]})}),t&&e(g,{paddingLeft:.75,paddingY:.75,borderBottom:!0,children:e(C,{})}),e(B,{headingId:N})]}),e(q,{})]});ae.__docgenInfo={description:"",methods:[],displayName:"TableFilteringSmall",props:{selectable:{required:!1,tsType:{name:"boolean"},description:""}}};const W=({ariaLabelledBy:t,id:i,isOpen:n})=>{const{filters:s,setFilter:o}=R(),d=f.useRef(null),l=te(),b=Z({from:{display:"none",height:0},to:async a=>{var u;n&&await a({display:"block"}),await a({height:n?(u=d.current)==null?void 0:u.offsetHeight:0,immediate:l}),await a(n?{height:"auto"}:{display:"none"})}});return e(ee.section,{id:i,"aria-labelledby":t,style:b,css:{overflow:"hidden"},children:r(k,{ref:d,columnGap:1,rowGap:1.5,alignItems:{xs:"stretch",md:"flex-end"},flexDirection:{xs:"column",md:"row"},background:"shade",flexWrap:"wrap",padding:1,rounded:!0,border:!0,borderColor:"muted",children:[e(j,{}),e(A,{}),e(E,{fromLabel:"Registered from",toLabel:"Registered to",hideOptionalLabel:!0,onChange:a=>o({requestDate:a}),onFromInputChange:a=>o({requestDate:{...s.requestDate,from:a}}),onToInputChange:a=>o({requestDate:{...s.requestDate,to:a}}),value:s.requestDate})]})})};W.__docgenInfo={description:"",methods:[],displayName:"FilterAccordion",props:{ariaLabelledBy:{required:!0,tsType:{name:"string"},description:""},id:{required:!0,tsType:{name:"string"},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""}}};const G="table-heading",le=({selectable:t})=>{const[i,n]=X(!1,!0),s="filter-button",o="filter-body";return r(p,{gap:1.5,children:[e(D,{id:G,children:"Audits"}),e("div",{children:e(I,{href:"#new",iconBefore:v,children:"Create request"})}),r(p,{gap:0,children:[r(S,{children:[r(y,{children:[r(w,{children:[e(g,{display:{xs:"block",lg:"none"},children:e(F,{})}),e(O,{}),e(T,{}),e(h,{onClick:n,variant:"secondary",iconBefore:P,iconAfter:i?z:U,"aria-label":"more filters",id:s,"aria-controls":o,"aria-expanded":i,children:i?"Hide filters":"Show filters"})]}),e(g,{display:{xs:"none",lg:"block"},children:e(F,{})})]}),e(W,{id:o,ariaLabelledBy:s,isOpen:i}),e(H,{})]}),t&&e(g,{paddingLeft:.75,paddingY:.75,borderBottom:!0,children:e(C,{})}),e(B,{selectable:t,headingId:G})]}),e(q,{})]})};le.__docgenInfo={description:"",methods:[],displayName:"TableFilteringMedium",props:{selectable:{required:!1,tsType:{name:"boolean"},description:""}}};const Y=({isDrawerOpen:t,closeDrawer:i})=>{const{filters:n,setFilters:s,resetFilters:o}=R(),[d,l]=f.useState(n),b=()=>{s(d),i()},a=x=>{l({...d,...x})},u=()=>{o(),l({assignee:void 0,businessName:void 0,requestDate:{from:void 0,to:void 0},state:void 0,status:void 0,services:void 0,destinations:void 0})},m=()=>{i(),l(n)},c=()=>{throw new Error("Not implemented")};return e(V,{value:{filters:d,setFilters:l,setFilter:a,sort:{field:"requestDate",order:"ASC"},setSort:c,removeFilter:c,resetFilters:c,pagination:{page:1,perPage:1},setPagination:c,selection:[],isRowSelected:c,toggleRowSelected:c,selectRows:c,clearRowSelections:c},children:e(oe,{title:"Filter by",isOpen:t,onClose:m,actions:r($,{children:[e(h,{onClick:b,children:"Apply filters"}),e(h,{variant:"secondary",onClick:u,children:"Clear filters"}),e(h,{variant:"tertiary",onClick:m,children:"Cancel"})]}),children:r(p,{gap:3,children:[e(_,{legend:"Fieldset",children:r(L,{children:[e(T,{block:!0}),e(j,{block:!0}),e(K,{block:!0}),e(Q,{block:!0})]})}),e(ie,{}),e(_,{legend:"Fieldset",children:r(L,{children:[e(A,{block:!0}),e(E,{fromLabel:"Registered from",toLabel:"Registered to",onChange:x=>l({...d,requestDate:x}),value:d.requestDate})]})})]})})})};Y.__docgenInfo={description:"",methods:[],displayName:"DashboardFilterDrawer",props:{isDrawerOpen:{required:!0,tsType:{name:"boolean"},description:""},closeDrawer:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const M="table-heading",de=({selectable:t,tableRef:i})=>{const[n,s,o]=re(!1);return r(p,{gap:1.5,children:[e(D,{id:M,children:"Audits"}),e("div",{children:e(I,{href:"#new",iconBefore:v,children:"Create request"})}),r(p,{gap:0,children:[r(S,{children:[r(y,{children:[r(w,{children:[e(O,{}),e(h,{onClick:s,variant:"secondary",iconBefore:P,children:"Show filters"})]}),e(F,{})]}),e(Y,{isDrawerOpen:n,closeDrawer:o}),e(H,{})]}),t&&e(g,{padding:1,borderBottom:!0,children:e(C,{})}),e(B,{ref:i,headingId:M,selectable:t})]}),e(q,{})]})};de.__docgenInfo={description:"",methods:[],displayName:"TableFilteringLarge",props:{selectable:{required:!1,tsType:{name:"boolean"},description:""},tableRef:{required:!1,tsType:{name:"RefObject",elements:[{name:"HTMLTableElement"}],raw:"RefObject<HTMLTableElement>"},description:""}}};export{ae as T,le as a,de as b};
