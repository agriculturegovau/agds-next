import{j as C}from"./responsive-22d1c539.js";import{r as g}from"./index-f0f3a68d.js";import{u as I,C as S}from"./ComboboxBase-4263de0d.js";import{u as O}from"./ComboboxListItem-78231edd.js";import{f as q}from"./utils-63a6309c.js";function W(n,r="",e){const t=(r==null?void 0:r.toLowerCase().replace(/\W/g,""))??"",o=q(t,"HH:mm");return n.filter(function(a){const[i,f]=a.value.split(":"),u=`${i}${f}`,m=o===a.value||u.includes(t)||a.label.toLowerCase().includes(t)||t.length<4&&(t.startsWith("12")||t.startsWith("24"))&&i==="00"||a.label.toLowerCase().replace(/\W/g,"").includes(t);return e?m&&!(e!=null&&e.some(l=>l.label===a.label&&l.value===a.value)):m})}function N({interval:n,max:r,min:e,timeFormat:t}){const[o,d]=w(e),[a,i]=w(r),f=isNaN(Number(n))?60:Math.round(y(Number(n),1,180));let u,m,l,c;o>a?(u=a,m=i,l=o,c=d):o===a&&d>i?(u=o,m=i,l=a,c=d):(u=o,m=d,l=a,c=i);const M=u*60+m,T=l*60+c,h=[];for(let p=M;p<=T;p+=f){const s=Math.floor(p/60),b=p%60,v=k(s,b);if(s!==24){const H={label:q(v,t),value:v};h.push(H)}}return h}function y(n,r,e){const t=Math.min(Math.max(n,r),e);return isNaN(t)?0:t}function w(n){const[r,e]=n.split(":").map(Number);return[y(r,0,24),y(e,0,59)]}function k(n,r){const e=String(n).padStart(2,"0"),t=String(r).padStart(2,"0");return`${e}:${t}`}function A({id:n,inputRef:r,interval:e=15,loading:t=!1,max:o="24:00",maxWidth:d="md",min:a="00:00",onChange:i,timeFormat:f="h:mm aaa",value:u,...m}){const l=O(n),[c,M]=g.useState(N({interval:e,max:o,min:a,timeFormat:f})),[T,h]=g.useState(c);g.useEffect(()=>{M(N({interval:e,max:o,min:a,timeFormat:f}))},[e,o,a,f]);const p=I({inputId:l,items:T,itemToString:s=>(s==null?void 0:s.label)??"",selectedItem:u,onSelectedItemChange:({selectedItem:s=null})=>{i==null||i(s)},onInputValueChange:({inputValue:s,isOpen:b})=>{s=(s==null?void 0:s.toLowerCase())??"",h(b?W(c,s):c)},stateReducer:(s,b)=>{var x;const{type:v,changes:H}=b;switch(v){case I.stateChangeTypes.InputBlur:return{...H,inputValue:((x=s.selectedItem)==null?void 0:x.label)??""};default:return H}}});return C(S,{combobox:p,inputItems:T,inputId:l,inputRef:r,isAutocomplete:!1,loading:t,maxWidth:d,...m,renderItem:void 0})}A.__docgenInfo={description:"",methods:[],displayName:"TimePicker",props:{interval:{required:!1,tsType:{name:"number"},description:"A number of minutes between 1 & 180 to create options at appropriate intervals.",defaultValue:{value:"15",computed:!1}},loading:{required:!1,tsType:{name:"boolean"},description:"A boolean indicating whether to render the option's loading state.",defaultValue:{value:"false",computed:!1}},max:{required:!1,tsType:{name:"string"},description:"The maximum time for options to end (HH:mm).",defaultValue:{value:"'24:00'",computed:!1}},min:{required:!1,tsType:{name:"string"},description:"The minimum time for options to start (HH:mm).",defaultValue:{value:"'00:00'",computed:!1}},options:{required:!1,tsType:{name:"never"},description:"Options are automatically generated with interval, max and min."},renderItem:{required:!1,tsType:{name:"never"},description:"Item rendering is handled internally by TimePicker."},timeFormat:{required:!1,tsType:{name:"union",raw:"keyof typeof timeFormats",elements:[{name:"literal",value:"'h:mm aaa'"},{name:"literal",value:"'hh:mm aaa'"},{name:"literal",value:"'HH:mm'"}]},description:"The format to render the options' labels.",defaultValue:{value:"'h:mm aaa'",computed:!1}},maxWidth:{defaultValue:{value:"'md'",computed:!1},required:!1}}};export{A as T};
