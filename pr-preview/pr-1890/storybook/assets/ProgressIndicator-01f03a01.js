import{d as h,j as t,a as m,p as P,F as j,c as w,t as k}from"./responsive-22d1c539.js";import{u as R}from"./useId-bf1c3739.js";import"./index-f0f3a68d.js";import{C as G}from"./CollapsingSideBar-1a689e5d.js";import{T as z}from"./TextLink-a2918464.js";import"./TextLinkExternal-af289221.js";import{S as E,F as B}from"./Stack-e6a92433.js";import{b as U,B as u}from"./Box-cc8e6f8e.js";import{T as v}from"./Text-03708b2d.js";import{P as V,h as S,i as H,S as Q,k as X,f as Y,F as J}from"./WebsiteIcon-03a55100.js";import{a as K}from"./Button-1a082b6d.js";import"./ButtonGroup-5c583b5f.js";const I={body:h.backgroundShade,bodyAlt:h.backgroundShadeAlt},y="data-agds-progress-indicator-item-timeline-action",$="data-agds-progress-indicator-item-ring",D="data-agds-progress-indicator-item-text-container",O="data-agds-progress-indicator-item-text",q={blocked:{label:"Cannot start yet",icon:V,iconColor:"border"},doing:{label:"In progress",icon:S,iconColor:"border"},started:{label:"In progress",icon:S,iconColor:"border"},todo:{label:"Not started",icon:H,iconColor:"border"},done:{label:"Completed",icon:Q,iconColor:"success"},saved:{label:"Saved",icon:X,iconColor:"success"},error:{label:"Error",icon:Y,iconColor:"error"}},L={isActive:!1,label:""},C=({as:e,background:r="body",children:s,isActive:a,items:n,status:c,...l})=>{const{label:p}=q[c],o=a&&(n==null?void 0:n.find(b=>b.isActive))||L,{label:i,isActive:d,...g}=o;return t(u,{as:"li",background:r,css:{"&:first-of-type":{[`[${y}]:first-of-type`]:{opacity:0}},"&:last-of-type":{[`[${y}]:last-of-type`]:{opacity:0},[`[${D}]`]:{borderBottomWidth:0}}},children:m(u,{as:"span",columnGap:.5,css:{display:"grid",gridTemplateColumns:"min-content 1fr",textDecoration:"none",width:"100%",[`[${$}]::before`]:{backgroundColor:U[r]}},focusRingFor:"keyboard",children:[t(Z,{status:c,isActive:a}),m(E,{[D]:"","aria-current":a||void 0,as:e,css:{textDecoration:"none","&:hover":{backgroundColor:I[r]},"&:hover span:not(:last-of-type)":{...P.underline}},flexGrow:1,fontFamily:"body",gap:.25,justifyContent:"center",paddingX:.5,paddingY:1,...!n&&{borderBottom:!0,borderColor:"muted"},...l,children:[t(v,{fontWeight:a?"bold":"normal",[O]:"",children:s}),t(v,{color:"muted",fontSize:"xs",lineHeight:"nospace",children:p})]}),i&&m(j,{children:[t(T,{}),t(u,{as:"ul",children:t(u,{as:"li",css:{position:"relative"},children:m(B,{...g,alignItems:"center","aria-current":!0,as:e,borderBottom:!0,borderColor:"muted",color:"text",css:{textDecoration:"none","&:hover":{backgroundColor:I[r],...P.underline,":not(:focus-visible)::before":{backgroundColor:I[r],content:'""',height:w(.5),left:0,position:"absolute",top:`-${w(.5)}`,width:"100%"}}},gap:.5,padding:.5,paddingBottom:1,children:[t(J,{color:"selected"}),t(v,{color:"inherit",fontSize:"xs",fontWeight:"bold",children:i})]})})})]})]})})},T=()=>t("span",{css:{backgroundColor:h.border,flex:1,justifySelf:"center",width:k.borderWidth.md,"@media (forced-colors: active)":{backgroundColor:"GrayText"}},[y]:""}),Z=({status:e,isActive:r})=>{const{icon:s,iconColor:a}=q[e],n=k.borderWidth.md,l=n+3,p=r&&a==="border"?"selected":a;return m(B,{alignItems:"center",as:"span",flexDirection:"column",children:[t(T,{}),t("span",{[$]:"",css:{position:"relative",paddingLeft:l,paddingRight:l,...r&&{"::before":{position:"absolute",top:-l,bottom:-l,left:0,right:0,borderRadius:"100%",content:'""',border:`${n}px solid ${h.selected}`}}},children:t(s,{size:"md",color:p,css:{position:"relative",display:"block",margin:-1}})}),t(T,{})]})};C.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicatorItem",props:{background:{defaultValue:{value:"'body'",computed:!1},required:!1}}};const W=({children:e,isActive:r,status:s,...a})=>t(C,{as:z,isActive:!!r,status:s,...a,children:e});W.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicatorItemLink",props:{status:{required:!0,tsType:{name:"union",raw:"keyof typeof statusMap",elements:[{name:"literal",value:"blocked"},{name:"literal",value:"doing"},{name:"literal",value:"started"},{name:"literal",value:"todo"},{name:"literal",value:"done"},{name:"literal",value:"saved"},{name:"literal",value:"error"}]},description:"Determines what style the item displays as.\n\n`blocked` = This step is not yet available for the user to start.\n\n`doing` = **(deprecated)** This step has been started and the user is actively working on this step.\n\n`done` = This step is complete. The user has submitted valid data and it has been verified (where necessary).\n\n`error` = This step has an error that requires attention.\n\n`saved` = This step has valid saved data that can still be changed.\n\n`started` = This step has been started and still needs to be completed.\n\n`todo` = This step is available for the user to start."},background:{required:!1,tsType:{name:"union",raw:"keyof typeof hoverColorMap",elements:[{name:"literal",value:"body"},{name:"literal",value:"bodyAlt"}]},description:"Determines the background colour of the progress indicator item."},isActive:{required:!1,tsType:{name:"boolean"},description:"@deprecated use `activePath`."}}};const _=({children:e,...r})=>t(C,{as:K,...r,children:e});_.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicatorItemButton",props:{status:{required:!0,tsType:{name:"union",raw:"keyof typeof statusMap",elements:[{name:"literal",value:"blocked"},{name:"literal",value:"doing"},{name:"literal",value:"started"},{name:"literal",value:"todo"},{name:"literal",value:"done"},{name:"literal",value:"saved"},{name:"literal",value:"error"}]},description:""},background:{required:!1,tsType:{name:"union",raw:"keyof typeof hoverColorMap",elements:[{name:"literal",value:"body"},{name:"literal",value:"bodyAlt"}]},description:""},isActive:{required:!1,tsType:{name:"boolean"},description:""}}};function F({children:e}){return t(u,{as:"ul",borderTop:!0,borderBottom:!0,css:{[k.mediaQuery.max.sm]:{borderTopWidth:0}},children:e})}F.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicatorList"};const ee=({activePath:e,background:r,items:s,hideSubtitle:a=!1})=>{const n="Progress",c=a?void 0:`${s.filter(({status:o})=>o==="done").length} of ${s.length} steps completed`,p=s.some(({isActive:o})=>o)?s:s.map(o=>{var A,x;const i=o.status==="doing",d="href"in o?o.href:o.label,g=`${d}${d!=null&&d.endsWith("/")?"":"/"}`,b=!!((A=e==null?void 0:e.split(g)[1])!=null&&A.length),M=i||!!d&&(e===d||b)||!1,N="items"in o?(x=o.items)==null?void 0:x.map(f=>({...f,isActive:"href"in f&&f.href===e})):void 0;return{...o,isActive:M,items:N}});return t(G,{background:r,subTitle:c,title:n,children:t(F,{children:p.map(({label:o,...i})=>te(i)?t(W,{background:r,...i,children:o},o):t(_,{background:r,...i,children:o},o))})})},ge=()=>{const e=R();return{buttonId:`progress-indicator-${e}-button`,bodyId:`progress-indicator-${e}-body`}},te=e=>"href"in e;ee.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicator",props:{activePath:{required:!1,tsType:{name:"string"},description:"Used for highlighting the active step. This should match the active item's `href` (or label if no href is supplied)."},background:{required:!1,tsType:{name:"union",raw:"'body' | 'bodyAlt'",elements:[{name:"literal",value:"'body'"},{name:"literal",value:"'bodyAlt'"}]},description:`If the ProgressIndicator is placed on a page with 'bodyAlt' background, please set this to "bodyAlt".`},hideSubtitle:{required:!1,tsType:{name:"boolean"},description:"If true, the `subTitle` above the list of items will not be rendered.",defaultValue:{value:"false",computed:!1}},items:{required:!0,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(ProgressIndicatorItem | ProgressIndicatorItemWithLevelTwoItems)[]"},description:"The list of items, including level 2 items, to display. Use in conjunction with `activePath`. Note level 2 items are only available when using links."}}};export{ee as P,C as a,_ as b,W as c,F as d,te as i,ge as u};
