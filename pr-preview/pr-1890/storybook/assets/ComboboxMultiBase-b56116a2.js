import{j as r,a as c,t as f,d as n,p as w,c as O,f as K}from"./responsive-22d1c539.js";import{r as i}from"./index-f0f3a68d.js";import{u as J,P as Q}from"./Popover-4e65a303.js";import{u as X}from"./useTernaryState-ed86673f.js";import{m as Y}from"./mergeRefs-868b543a.js";import{F as Z}from"./Field-ef82e19c.js";import{F as ee}from"./Stack-e6a92433.js";import{r as re,b as te,c as ne,d as oe,e as ae,f as ie}from"./ComboboxBase-89095c8a.js";import{a as se,l as le,g as de}from"./ComboboxListItem-78231edd.js";import{C as ue}from"./ComboboxListLoading-39269b7f.js";import{C as pe}from"./ComboboxListError-00d85f32.js";import{C as me}from"./ComboboxListEmptyResults-235dd900.js";import{C as ce}from"./ComboboxTag-bd9661e2.js";function fe({label:g,hideOptionalLabel:b,required:y,hint:h,message:C,invalid:u=!1,inputId:T,disabled:l=!1,block:B,maxWidth:k="xl",renderItem:E,emptyResultsMessage:I="No options found.",loading:P,networkError:D,combobox:o,inputItems:a,selectedItems:p,setSelectedItems:M,multiSelection:v,inputRef:L,onBlur:x,onFocus:q,...R}){const d=i.useRef(null),H=se(),[N,A,U]=X(!1),S=J({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:o.isOpen}),F=(p==null?void 0:p.length)>0,m=ge({block:B,disabled:l,inputValue:o.inputValue,invalid:u||!!R["aria-invalid"],isInputFocused:N,maxWidth:k,showClearButton:F}),V=i.useMemo(()=>a!=null&&a.length?a.map(t=>re(t.label)):[],[a]),W=i.useRef(null),j=i.useCallback(t=>{var e;t.target===W.current&&((e=d.current)==null||e.focus())},[d]),$=i.useCallback(()=>{var t;M([]),(t=d.current)==null||t.focus()},[M]),_=L?Y([d,L]):d,{id:z}=o.getLabelProps(),G=t=>{var e;H&&!((e=t.nativeEvent)!=null&&e.relatedTarget)&&(t.nativeEvent.preventDownshiftDefault=!0),x==null||x(t),U()};return r(Z,{label:g,labelId:z,hideOptionalLabel:b,required:y,hint:h,maxWidth:k,message:C,invalid:u,id:T,children:t=>c("div",{...S.getReferenceProps(),css:m.fieldContainer,onClick:j,children:[c(ee,{ref:W,gap:.5,flexWrap:"wrap",alignItems:"center",css:m.container,children:[p.map((e,s)=>r(ce,{onRemove:()=>v.removeSelectedItem(e),disabled:l,...v.getSelectedItemProps({selectedItem:e,index:s}),children:e.label},`selected-item-${s}`)),r("div",{css:m.inputContainer,children:r("input",{disabled:l,...o.getInputProps(v.getDropdownProps({...t,"aria-describedby":R["aria-describedby"]||t["aria-describedby"],"aria-invalid":R["aria-invalid"]||t["aria-invalid"],ref:_,type:"text",preventKeyAction:!1,onFocus:e=>{q==null||q(e),A()},onBlur:G})),css:m.input})}),c(te,{children:[F&&c(i.Fragment,{children:[r(ne,{disabled:l,onClick:$}),r(oe,{})]}),r(ae,{...o.getToggleButtonProps({isOpen:o.isOpen,disabled:l})})]})]}),r(Q,{as:"ul",...o.getMenuProps(S.getPopoverProps()),visibility:o.isOpen?"visible":"hidden",children:o.isOpen?r(i.Fragment,{children:P?r(ue,{}):D?r(pe,{}):r(i.Fragment,{children:a!=null&&a.length?a.map((e,s)=>r("li",{"data-combobox-list-item":"interactive",...o.getItemProps({item:e,index:s}),tabIndex:H?void 0:-1,children:E?E({...e,label:V[s]}):r(ie,{children:V[s]})},`${e.value}-${s}`)):r(me,{message:I})})}):null})]})})}function ge({block:g,disabled:b,inputValue:y,invalid:h,isInputFocused:C,maxWidth:u,showClearButton:T}){return{fieldContainer:{...le,...de(y),...!g&&{maxWidth:f.maxWidth.field[u]}},container:{position:"relative",cursor:"text",background:n.backgroundBody,borderWidth:f.borderWidth.lg,borderStyle:"solid",borderColor:n.border,borderRadius:f.borderRadius,color:n.foregroundText,...w.input.md,height:"auto",minHeight:w.input.md.height,margin:0,paddingTop:O(.25),paddingBottom:O(.25),paddingLeft:O(.5),paddingRight:T?"5rem":"3rem",...b&&{cursor:"not-allowed",borderColor:n.borderMuted,backgroundColor:n.backgroundShade,color:n.foregroundMuted},...h&&{backgroundColor:n.systemErrorMuted,borderColor:n.systemError},...C&&w.outline},inputContainer:{display:"flex",flex:"1 1 2rem"},input:{appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:n.backgroundBody,color:n.foregroundText,fontFamily:f.font.body,...K("sm","default"),'&[aria-invalid="true"]':{backgroundColor:n.systemErrorMuted,borderColor:n.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:n.foregroundMuted,backgroundColor:n.backgroundShade}}}}fe.__docgenInfo={description:"",methods:[],displayName:"ComboboxMultiBase",props:{label:{required:!0,tsType:{name:"string"},description:""},hideOptionalLabel:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},hint:{required:!1,tsType:{name:"string"},description:""},message:{required:!1,tsType:{name:"string"},description:""},invalid:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},inputId:{required:!0,tsType:{name:"string"},description:""},inputName:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},block:{required:!0,tsType:{name:"boolean"},description:""},maxWidth:{required:!1,tsType:{name:"unknown[number]",raw:"(typeof comboboxMaxWidthValues)[number]"},description:"",defaultValue:{value:"'xl'",computed:!1}},showDropdownTrigger:{required:!1,tsType:{name:"boolean"},description:""},clearable:{required:!1,tsType:{name:"boolean"},description:""},combobox:{required:!0,tsType:{name:"UseComboboxReturnValue",elements:[{name:"Option"}],raw:"UseComboboxReturnValue<Option>"},description:""},multiSelection:{required:!0,tsType:{name:"UseMultipleSelectionReturnValue",elements:[{name:"Option"}],raw:"UseMultipleSelectionReturnValue<Option>"},description:""},selectedItems:{required:!0,tsType:{name:"Array",elements:[{name:"Option"}],raw:"Option[]"},description:""},setSelectedItems:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: Option[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"Option"}],raw:"Option[]"},name:"value"}],return:{name:"void"}}},description:""},loading:{required:!1,tsType:{name:"boolean"},description:""},inputItems:{required:!1,tsType:{name:"Array",elements:[{name:"Option"}],raw:"Option[]"},description:""},networkError:{required:!1,tsType:{name:"boolean"},description:""},emptyResultsMessage:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'No options found.'",computed:!1}},renderItem:{required:!1,tsType:{name:"signature",type:"function",raw:"(item: Option, inputValue?: string) => ReactNode",signature:{arguments:[{type:{name:"Option"},name:"item"},{type:{name:"string"},name:"inputValue"}],return:{name:"ReactNode"}}},description:""},"aria-describedby":{required:!1,tsType:{name:"string"},description:""},"aria-invalid":{required:!1,tsType:{name:"boolean"},description:""},inputRef:{required:!1,tsType:{name:"Ref",elements:[{name:"HTMLInputElement"}],raw:"Ref<HTMLInputElement>"},description:""},onBlur:{required:!1,tsType:{name:"FocusEventHandler",elements:[{name:"HTMLInputElement"}],raw:"FocusEventHandler<HTMLInputElement>"},description:""},onFocus:{required:!1,tsType:{name:"FocusEventHandler",elements:[{name:"HTMLInputElement"}],raw:"FocusEventHandler<HTMLInputElement>"},description:""}}};export{fe as C};
