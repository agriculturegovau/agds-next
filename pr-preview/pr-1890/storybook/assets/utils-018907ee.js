import{r as p}from"./index-3b9dd0eb.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function De(e,i,t,n){function a(r){return r instanceof t?r:new t(function(s){s(r)})}return new(t||(t=Promise))(function(r,s){function l(f){try{u(n.next(f))}catch(v){s(v)}}function d(f){try{u(n.throw(f))}catch(v){s(v)}}function u(f){f.done?r(f.value):a(f.value).then(l,d)}u((n=n.apply(e,i||[])).next())})}function Ie(e,i){var t={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},n,a,r,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(u){return function(f){return d([u,f])}}function d(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(r=u[0]&2?a.return:u[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,u[1])).done)return r;switch(a=0,r&&(u=[u[0]&2,r.value]),u[0]){case 0:case 1:r=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,a=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(r=t.trys,!(r=r.length>0&&r[r.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!r||u[1]>r[0]&&u[1]<r[3])){t.label=u[1];break}if(u[0]===6&&t.label<r[1]){t.label=r[1],r=u;break}if(r&&t.label<r[2]){t.label=r[2],t.ops.push(u);break}r[2]&&t.ops.pop(),t.trys.pop();continue}u=i.call(e,t)}catch(f){u=[6,f],a=0}finally{n=r=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var I=function(){},E=I(),te=Object,w=function(e){return e===E},_=function(e){return typeof e=="function"},M=function(e,i){return te.assign({},e,i)},pe="undefined",be=function(){return typeof window!=pe},He=function(){return typeof document!=pe},Pe=function(){return be()&&typeof window.requestAnimationFrame!=pe},ee=new WeakMap,ke=0,Y=function(e){var i=typeof e,t=e&&e.constructor,n=t==Date,a,r;if(te(e)===e&&!n&&t!=RegExp){if(a=ee.get(e),a)return a;if(a=++ke+"~",ee.set(e,a),t==Array){for(a="@",r=0;r<e.length;r++)a+=Y(e[r])+",";ee.set(e,a)}if(t==te){a="#";for(var s=te.keys(e).sort();!w(r=s.pop());)w(e[r])||(a+=r+":"+Y(e[r])+",");ee.set(e,a)}}else a=n?e.toJSON():i=="symbol"?e.toString():i=="string"?JSON.stringify(e):""+e;return a},ve=!0,qe=function(){return ve},Ae=be(),we=He(),de=Ae&&window.addEventListener?window.addEventListener.bind(window):I,ze=we?document.addEventListener.bind(document):I,me=Ae&&window.removeEventListener?window.removeEventListener.bind(window):I,Je=we?document.removeEventListener.bind(document):I,Ke=function(){var e=we&&document.visibilityState;return w(e)||e!=="hidden"},je=function(e){return ze("visibilitychange",e),de("focus",e),function(){Je("visibilitychange",e),me("focus",e)}},Be=function(e){var i=function(){ve=!0,e()},t=function(){ve=!1};return de("online",i),de("offline",t),function(){me("online",i),me("offline",t)}},Ge={isOnline:qe,isVisible:Ke},$e={initFocus:je,initReconnect:Be},ne=!be()||"Deno"in window,Ye=function(e){return Pe()?window.requestAnimationFrame(e):setTimeout(e,1)},re=ne?p.useEffect:p.useLayoutEffect,le=typeof navigator<"u"&&navigator.connection,Se=!ne&&le&&(["slow-2g","2g"].includes(le.effectiveType)||le.saveData),Ve=function(e){if(_(e))try{e=e()}catch{e=""}var i=[].concat(e);e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Y(e):"";var t=e?"$swr$"+e:"";return[e,i,t]},P=new WeakMap,Fe=0,xe=1,We=2,$=function(e,i,t,n,a,r,s){s===void 0&&(s=!0);var l=P.get(e),d=l[0],u=l[1],f=l[3],v=d[i],c=u[i];if(s&&c)for(var A=0;A<c.length;++A)c[A](t,n,a);return r&&(delete f[i],v&&v[0])?v[0](We).then(function(){return e.get(i)}):e.get(i)},Qe=0,he=function(){return++Qe},_e=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return De(void 0,void 0,void 0,function(){var t,n,a,r,s,l,d,u,f,v,c,A,Q,R,m,o,z,N,V,C,U;return Ie(this,function(x){switch(x.label){case 0:if(t=e[0],n=e[1],a=e[2],r=e[3],s=typeof r=="boolean"?{revalidate:r}:r||{},l=w(s.populateCache)?!0:s.populateCache,d=s.revalidate!==!1,u=s.rollbackOnError!==!1,f=s.optimisticData,v=Ve(n),c=v[0],A=v[2],!c)return[2];if(Q=P.get(t),R=Q[2],e.length<3)return[2,$(t,c,t.get(c),E,E,d,!0)];if(m=a,z=he(),R[c]=[z,0],N=!w(f),V=t.get(c),N&&(C=_(f)?f(V):f,t.set(c,C),$(t,c,C)),_(m))try{m=m(t.get(c))}catch(L){o=L}return m&&_(m.then)?[4,m.catch(function(L){o=L})]:[3,2];case 1:if(m=x.sent(),z!==R[c][0]){if(o)throw o;return[2,m]}else o&&N&&u&&(l=!0,m=V,t.set(c,V));x.label=2;case 2:return l&&(o||(_(l)&&(m=l(m,V)),t.set(c,m)),t.set(A,M(t.get(A),{error:o}))),R[c][1]=he(),[4,$(t,c,m,o,E,d,!!l)];case 3:if(U=x.sent(),o)throw o;return[2,l?U:m]}})})},Ce=function(e,i){for(var t in e)e[t][0]&&e[t][0](i)},Xe=function(e,i){if(!P.has(e)){var t=M($e,i),n={},a=_e.bind(E,e),r=I;if(P.set(e,[n,{},{},{},a]),!ne){var s=t.initFocus(setTimeout.bind(E,Ce.bind(E,n,Fe))),l=t.initReconnect(setTimeout.bind(E,Ce.bind(E,n,xe)));r=function(){s&&s(),l&&l(),P.delete(e)}}return[e,a,r]}return[e,P.get(e)[4]]},Ze=function(e,i,t,n,a){var r=t.errorRetryCount,s=a.retryCount,l=~~((Math.random()+.5)*(1<<(s<8?s:8)))*t.errorRetryInterval;!w(r)&&s>r||setTimeout(n,l,a)},Me=Xe(new Map),et=Me[0],tt=Me[1],rt=M({onLoadingSlow:I,onSuccess:I,onError:I,onErrorRetry:Ze,onDiscarded:I,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Se?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Se?5e3:3e3,compare:function(e,i){return Y(e)==Y(i)},isPaused:function(){return!1},cache:et,mutate:tt,fallback:{}},Ge),nt=function(e,i){var t=M(e,i);if(i){var n=e.use,a=e.fallback,r=i.use,s=i.fallback;n&&r&&(t.use=n.concat(r)),a&&s&&(t.fallback=M(a,s))}return t},at=p.createContext({}),it=function(e,i){var t=p.useState({})[1],n=p.useRef(e),a=p.useRef({data:!1,error:!1,isValidating:!1}),r=p.useCallback(function(s){var l=!1,d=n.current;for(var u in s){var f=u;d[f]!==s[f]&&(d[f]=s[f],a.current[f]&&(l=!0))}l&&!i.current&&t({})},[]);return re(function(){n.current=e}),[n,a.current,r]},ut=function(e){return _(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}]},ot=function(){return M(rt,p.useContext(at))},st=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var a=ot(),r=ut(t),s=r[0],l=r[1],d=r[2],u=nt(a,d),f=e,v=u.use;if(v)for(var c=v.length;c-- >0;)f=v[c](f);return f(s,l||u.fetcher,u)}},Oe=function(e,i,t){var n=i[e]||(i[e]=[]);return n.push(t),function(){var a=n.indexOf(t);a>=0&&(n[a]=n[n.length-1],n.pop())}},ce={dedupe:!0},ft=function(e,i,t){var n=t.cache,a=t.compare,r=t.fallbackData,s=t.suspense,l=t.revalidateOnMount,d=t.refreshInterval,u=t.refreshWhenHidden,f=t.refreshWhenOffline,v=P.get(n),c=v[0],A=v[1],Q=v[2],R=v[3],m=Ve(e),o=m[0],z=m[1],N=m[2],V=p.useRef(!1),C=p.useRef(!1),U=p.useRef(o),x=p.useRef(i),L=p.useRef(t),h=function(){return L.current},ae=function(){return h().isVisible()&&h().isOnline()},X=function(g){return n.set(N,M(n.get(N),g))},Ee=n.get(o),Ne=w(r)?t.fallback[o]:r,F=w(Ee)?Ne:Ee,Re=n.get(N)||{},J=Re.error,ye=!V.current,Te=function(){return ye&&!w(l)?l:h().isPaused()?!1:s?w(F)?!1:t.revalidateIfStale:w(F)||t.revalidateIfStale},Ue=function(){return!o||!i?!1:Re.isValidating?!0:ye&&Te()},ie=Ue(),ue=it({data:F,error:J,isValidating:ie},C),k=ue[0],oe=ue[1],Z=ue[2],H=p.useCallback(function(g){return De(void 0,void 0,void 0,function(){var y,T,S,K,j,O,b,W,D,se,B,q,fe;return Ie(this,function(G){switch(G.label){case 0:if(y=x.current,!o||!y||C.current||h().isPaused())return[2,!1];K=!0,j=g||{},O=!R[o]||!j.dedupe,b=function(){return!C.current&&o===U.current&&V.current},W=function(){var ge=R[o];ge&&ge[1]===S&&delete R[o]},D={isValidating:!1},se=function(){X({isValidating:!1}),b()&&Z(D)},X({isValidating:!0}),Z({isValidating:!0}),G.label=1;case 1:return G.trys.push([1,3,,4]),O&&($(n,o,k.current.data,k.current.error,!0),t.loadingTimeout&&!n.get(o)&&setTimeout(function(){K&&b()&&h().onLoadingSlow(o,t)},t.loadingTimeout),R[o]=[y.apply(void 0,z),he()]),fe=R[o],T=fe[0],S=fe[1],[4,T];case 2:return T=G.sent(),O&&setTimeout(W,t.dedupingInterval),!R[o]||R[o][1]!==S?(O&&b()&&h().onDiscarded(o),[2,!1]):(X({error:E}),D.error=E,B=Q[o],!w(B)&&(S<=B[0]||S<=B[1]||B[1]===0)?(se(),O&&b()&&h().onDiscarded(o),[2,!1]):(a(k.current.data,T)?D.data=k.current.data:D.data=T,a(n.get(o),T)||n.set(o,T),O&&b()&&h().onSuccess(T,o,t),[3,4]));case 3:return q=G.sent(),W(),h().isPaused()||(X({error:q}),D.error=q,O&&b()&&(h().onError(q,o,t),(typeof t.shouldRetryOnError=="boolean"&&t.shouldRetryOnError||_(t.shouldRetryOnError)&&t.shouldRetryOnError(q))&&ae()&&h().onErrorRetry(q,o,t,H,{retryCount:(j.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return K=!1,se(),b()&&O&&$(n,o,D.data,D.error,!1),[2,!0]}})})},[o]),Le=p.useCallback(_e.bind(E,n,function(){return U.current}),[]);if(re(function(){x.current=i,L.current=t}),re(function(){if(o){var g=o!==U.current,y=H.bind(E,ce),T=function(b,W,D){Z(M({error:W,isValidating:D},a(k.current.data,b)?E:{data:b}))},S=0,K=function(b){if(b==Fe){var W=Date.now();h().revalidateOnFocus&&W>S&&ae()&&(S=W+h().focusThrottleInterval,y())}else if(b==xe)h().revalidateOnReconnect&&ae()&&y();else if(b==We)return H()},j=Oe(o,A,T),O=Oe(o,c,K);return C.current=!1,U.current=o,V.current=!0,g&&Z({data:F,error:J,isValidating:ie}),Te()&&(w(F)||ne?y():Ye(y)),function(){C.current=!0,j(),O()}}},[o,H]),re(function(){var g;function y(){var S=_(d)?d(F):d;S&&g!==-1&&(g=setTimeout(T,S))}function T(){!k.current.error&&(u||h().isVisible())&&(f||h().isOnline())?H(ce).then(y):y()}return y(),function(){g&&(clearTimeout(g),g=-1)}},[d,u,f,H]),p.useDebugValue(F),s&&w(F)&&o)throw x.current=i,L.current=t,C.current=!1,w(J)?H(ce):J;return{mutate:Le,get data(){return oe.data=!0,F},get error(){return oe.error=!0,J},get isValidating(){return oe.isValidating=!0,ie}}},lt=st(ft);const mt=new Intl.NumberFormat,ct={results:[{id:1,name:"Tatooine",climate:"Arid",population:2e5},{id:2,name:"Alderaan",climate:"Temperate",population:2e9},{id:3,name:"Yavin IV",climate:"Temperate, Tropical",population:1e3},{id:4,name:"Hoth",climate:"Frozen",population:"unknown"},{id:5,name:"Dagobah",climate:"Murky",population:"unknown"},{id:6,name:"Bespin",climate:"Temperate",population:6e6},{id:7,name:"Endor",climate:"Temperate",population:3e7},{id:8,name:"Naboo",climate:"Temperate",population:45e8},{id:9,name:"Coruscant",climate:"Temperate",population:1e12}]};async function vt(){return await new Promise(e=>setTimeout(e,2500)),ct}function ht(){const{data:e,error:i}=lt("/api/star-wars-planets",vt);return{data:e,loading:!e&&!i,error:i}}export{ct as a,mt as n,ht as u};
