import{j as s,d as v,t as E,a as B}from"./responsive-123a9343.js";import{r}from"./index-3b9dd0eb.js";import{F as U,S as H}from"./Stack-938d29d6.js";import{B as d}from"./Box-c8c0d4bd.js";import{T as P}from"./Text-ade3e1ab.js";import{t as G}from"./theme-79017997.js";import"./Logo-8cc18c6c.js";import{a4 as J,a5 as K}from"./WebsiteIcon-a62a72af.js";const Y=r.createContext(void 0);function Q(){const o=r.useContext(Y);if(typeof o>"u")throw Error("TableContext not found.");return o}const Z=r.forwardRef(function({children:a,striped:l,tabIndex:e,tableLayout:i="auto","aria-labelledby":c,"aria-describedby":h,"aria-rowcount":m,id:w},u){return s(Y.Provider,{value:{tableLayout:i},children:s(d,{as:"table",ref:u,tabIndex:e,fontSize:"sm",focusRingFor:"keyboard",width:"100%",display:"table",id:w,css:{borderCollapse:"collapse",borderSpacing:0,tableLayout:i,...l&&{"tbody tr:nth-last-of-type(odd):not([aria-selected='true'])":{backgroundColor:v.backgroundShade}}},"aria-labelledby":c,"aria-describedby":h,"aria-rowcount":m,children:a})})});Z.__docgenInfo={description:"",methods:[],displayName:"Table",props:{tableLayout:{defaultValue:{value:"'auto'",computed:!1},required:!1}}};const ee=({as:o="th",children:a,colSpan:l,rowSpan:e,scope:i,textAlign:c="left",width:h,...m})=>s(d,{as:o,color:"text",colSpan:l,focusRingFor:"keyboard",fontWeight:"bold",padding:.75,rowSpan:e,scope:i,textAlign:c,width:h,...m,children:a});ee.__docgenInfo={description:"",methods:[],displayName:"TableHeader",props:{as:{defaultValue:{value:"'th'",computed:!1},required:!1},textAlign:{defaultValue:{value:"'left'",computed:!1},required:!1}}};const te=({children:o})=>s(P,{as:"caption",fontSize:"md",fontWeight:"bold",paddingBottom:.5,display:"table-caption",textAlign:"left",children:o});te.__docgenInfo={description:"",methods:[],displayName:"TableCaption",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const oe=({children:o})=>s(d,{as:"thead",borderBottom:!0,borderBottomWidth:"xl",borderColor:"muted",display:"table-header-group",children:o});oe.__docgenInfo={description:"",methods:[],displayName:"TableHead",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const re=({children:o})=>s(d,{as:"tbody",display:"table-row-group",children:o});re.__docgenInfo={description:"",methods:[],displayName:"TableBody",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};function ne({"aria-rowindex":o,children:a,invalid:l,selected:e}){const{tableLayout:i}=Q();return s("tr",{"aria-selected":e,"aria-rowindex":o,css:{...e&&{...i==="auto"&&{position:"relative",backgroundColor:v.selectedMuted,"&::after":{content:'""',pointerEvents:"none",position:"absolute",inset:0,borderWidth:E.borderWidth.md,borderColor:v.selected,borderStyle:"solid"},":has(+ tr[aria-selected='true'])::after":{borderBottomWidth:0},"+ tr::after":{borderTopWidth:0}},...i==="fixed"&&D,"@supports (-webkit-appearance: -apple-pay-button)":D},...l&&{background:G.lightSystemErrorMuted}},children:a})}const D={backgroundColor:v.selectedMuted,outlineWidth:"2px",outlineStyle:"solid",outlineColor:v.selected,outlineOffset:"-3px","&::after":{display:"none"}};ne.__docgenInfo={description:"",methods:[],displayName:"TableRow"};const ae=({as:o="td",children:a,colSpan:l,display:e,fontWeight:i="normal",id:c,rowSpan:h,scope:m,textAlign:w="left",verticalAlign:u="top"})=>s(d,{as:o,borderBottom:!0,borderColor:"muted",color:"text",colSpan:l,css:{verticalAlign:u},display:e,focusRingFor:"keyboard",fontWeight:i,id:c,padding:.75,rowSpan:h,scope:m,textAlign:w,children:a});ae.__docgenInfo={description:"",methods:[],displayName:"TableCell",props:{as:{defaultValue:{value:"'td'",computed:!1},required:!1},fontWeight:{defaultValue:{value:"'normal'",computed:!1},required:!1},textAlign:{defaultValue:{value:"'left'",computed:!1},required:!1},verticalAlign:{defaultValue:{value:"'top'",computed:!1},required:!1}}};function O({children:o}){var X,V;const a=r.useRef(null),l=r.useRef(null),e=r.useRef(null),i=r.useRef({x:0,y:0}),[c,h]=r.useState(0),[m,w]=r.useState(""),[u,_]=r.useState(!1),[z,$]=r.useState(0),[f,R]=r.useState(1),[S,L]=r.useState(null),W=r.useCallback(()=>{e!=null&&e.current&&$(e.current.scrollLeft*f)},[f]),A=r.useCallback(()=>{!(e!=null&&e.current)||!(a!=null&&a.current)||(e.current.offsetWidth===e.current.scrollWidth?R(1):R(a.current.offsetWidth/(e.current.scrollWidth-(e.current.offsetWidth-a.current.offsetWidth))))},[]);r.useEffect(()=>{if(typeof window>"u"||!("ResizeObserver"in window)||!e.current)return;const t=new ResizeObserver(n=>{h(n[0].contentRect.height),A(),W()});return t.observe(e.current),()=>{t.disconnect()}},[A,W]);const N=t=>{t.preventDefault(),_(!0),t.type==="mousedown"&&"button"in t&&t.button===0?i.current={x:t.pageX,y:t.pageY}:t.type==="touchstart"&&"touches"in t&&(i.current={x:t.touches[0].pageX,y:t.touches[0].pageY})},g=r.useCallback(t=>{if(!(e!=null&&e.current))return;let n="pageX"in t?t.pageX:null,b="pageY"in t?t.pageY:null;const p="touches"in t?t.touches:null;if(u){if(n=p?p[0].pageX:n,b=p?p[0].pageY:b,n===null||b===null)return;const x=n-i.current.x,I=b-i.current.y;Math.abs(x)>Math.abs(I)&&(t.preventDefault(),e.current.scrollLeft=e.current.scrollLeft+x/f,i.current.x=n),i.current.y=b}},[u,f]),y=r.useCallback(()=>{u&&_(!1)},[u]);r.useEffect(()=>(u?(document.addEventListener("mousemove",g),document.addEventListener("mouseup",y),document.addEventListener("touchmove",g),document.addEventListener("touchend",y)):(document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y)),()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",y),document.removeEventListener("touchmove",g),document.removeEventListener("touchend",y)}),[g,y,u]);const q=t=>{const n=t==="left"?-40:40;e.current&&(e.current.scrollLeft+=n),S&&(clearInterval(S),L(null))},C=(t,n)=>{const b=n==="left"?-40:40,p=window.setInterval(()=>{e.current&&(t.type==="touchstart"||t.type==="mousedown"&&"button"in t&&t.button===0)&&(e.current.scrollLeft+=b)},100);L(p)},T=()=>{S&&(clearInterval(S),L(null))},j=t=>{if(!(e!=null&&e.current)||!(l!=null&&l.current))return;const n=l.current.getBoundingClientRect();t.pageX>n.right?e.current.scrollLeft+=n.width*.95:t.pageX<n.left&&(e.current.scrollLeft-=n.width*.95)},M=f!==1;return r.useEffect(()=>{var b,p,x;let t;const n=(b=e.current)==null?void 0:b.querySelector("caption");if(n)t=n==null?void 0:n.textContent;else{const I=(p=e.current)==null?void 0:p.querySelector("table[aria-labelledby]");I&&(t=(x=document.getElementById(I.getAttribute("aria-labelledby")||""))==null?void 0:x.textContent)}w(`Table ${t||""}`)},[]),B(H,{gap:.5,css:{position:"relative",width:"100%"},children:[B(d,{"aria-label":m,as:"section",css:{msOverflowStyle:"none",overflowX:"auto",overscrollBehaviorX:"none",scrollbarWidth:"none",WebkitOverflowScrolling:"touch",width:"100%","&::-webkit-scrollbar, &::-webkit-scrollbar-thumb, &::-webkit-scrollbar-track":{display:"none"}},focusRingFor:"keyboard",onScroll:W,ref:e,tabIndex:M?0:-1,children:[o,s(F,{edge:"left",height:c,isVisible:!!(f<1&&((X=e==null?void 0:e.current)!=null&&X.scrollLeft)&&e.current.scrollLeft>0)}),s(F,{edge:"right",height:c,isVisible:!!(f<1&&((V=e==null?void 0:e.current)!=null&&V.offsetWidth)&&Math.ceil(e.current.scrollLeft+e.current.offsetWidth)<e.current.scrollWidth)})]}),B(U,{alignItems:"center",background:"body",css:{bottom:0,display:M?void 0:"none",left:0,position:"sticky",right:0},flexWrap:"nowrap",gap:.25,children:[s(d,{"aria-hidden":!0,as:"button",css:{appearance:"none",background:"none",cursor:"default",height:k(24),width:k(24)},onClick:()=>q("left"),onMouseDown:t=>C(t,"left"),onMouseUp:T,onMouseLeave:T,onTouchStart:t=>C(t,"left"),onTouchEnd:T,tabIndex:-1,type:"button",children:s(J,{color:"border"})}),s(d,{"aria-hidden":!0,background:"shade",border:!0,css:{borderRadius:999,height:k(12),padding:0,position:"relative",flexGrow:1},onClick:j,ref:a,tabIndex:-1,children:s(d,{"aria-hidden":!0,as:"button",css:{appearance:"none",background:v.border,border:"none",borderRadius:999,bottom:0,cursor:"default",padding:0,position:"absolute",top:0,touchAction:"none","@media (forced-colors: active)":{backgroundColor:"CaptionText"}},style:{left:z,width:`${f*100}%`},onMouseDown:N,onTouchStart:N,ref:l,tabIndex:-1,type:"button"})}),s(d,{"aria-hidden":!0,as:"button",css:{appearance:"none",background:"none",cursor:"default",height:k(24),width:k(24)},onClick:()=>q("right"),onMouseDown:t=>C(t,"right"),onMouseUp:T,onMouseLeave:T,onTouchStart:t=>C(t,"right"),onTouchEnd:T,tabIndex:-1,type:"button",children:s(K,{color:"border"})})]})]})}function F({edge:o,height:a,isVisible:l}){return s(d,{css:{height:a,opacity:l?1:0,pointerEvents:"none",position:"absolute",top:0,transition:`opacity ${E.transition.duration}ms ${E.transition.timingFunction}`,width:28,...o==="left"?{background:"linear-gradient(to right, rgba(0, 0, 0, 0.08), transparent)",left:0}:{background:"linear-gradient(to left, rgba(0, 0, 0, 0.08), transparent)",right:0}}})}function k(o){return`${o/16}rem`}O.__docgenInfo={description:"",methods:[],displayName:"TableScroller",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};const se=({children:o})=>s(O,{children:o});se.__docgenInfo={description:"",methods:[],displayName:"TableWrapper",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""}}};function ie({children:o}){const a=r.useRef(null),[l,e]=r.useState(!1);return r.useEffect(()=>{if(!a.current)return;const i=new IntersectionObserver(([c])=>e(c.intersectionRatio<1),{threshold:[1]});return i.observe(a.current),()=>i.disconnect()},[]),s(H,{ref:a,background:"bodyAlt",padding:1,gap:1,border:!0,borderColor:"muted",borderWidth:"sm",rounded:!0,css:{position:"sticky",bottom:-1,...l&&{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottomWidth:0,boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.3)"}},children:o})}ie.__docgenInfo={description:"",methods:[],displayName:"TableBatchActionsBar"};function le({children:o}){return s(P,{as:"h3",fontSize:"md",fontWeight:"bold",lineHeight:"heading",children:o})}le.__docgenInfo={description:"",methods:[],displayName:"TableBatchActionsTitle"};export{Z as T,te as a,oe as b,ne as c,ee as d,re as e,ae as f,se as g,ie as h,le as i};
