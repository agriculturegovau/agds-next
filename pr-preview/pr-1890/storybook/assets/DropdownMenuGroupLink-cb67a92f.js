import{j as l,a as g,d as T,p as v,u as q,t as F,f as $,c as b}from"./responsive-22d1c539.js";import{r as D}from"./index-f0f3a68d.js";import{u as B,P as G}from"./Popover-4e65a303.js";import{B as H}from"./Button-1a082b6d.js";import"./ButtonGroup-5c583b5f.js";import{x as j,a as W}from"./WebsiteIcon-da68083c.js";import{D as z}from"./Divider-6f447906.js";import{T as E}from"./Text-03708b2d.js";import{u as X}from"./useClickOutside-ca5d6845.js";import{m as A}from"./mergeRefs-868b543a.js";import{F as w,S as Z}from"./Stack-e6a92433.js";import{E as J}from"./ExternalLinkCallout-896682bb.js";import{f as Q}from"./Box-cc8e6f8e.js";import{u as x}from"./useId-bf1c3739.js";const _=D.createContext(void 0);function h(){const e=D.useContext(_);if(typeof e>"u")throw Error("DropdownMenuContext not found.");return e}const k={activeDescendantIndex:-1,descendantCount:0,descendantNodes:void 0,descendantSearchTerm:"",isMenuOpen:!1,lastKeyPressTime:0};function Y(e,n){var t;const s=new Date().getTime();switch(n.type){case"OPEN_MENU":return{...e,isMenuOpen:!0};case"CLOSE_MENU":return k;case"SET_DESCENDANT_NODES":return{...e,descendantCount:((t=n.payload.nodes)==null?void 0:t.length)??0,descendantNodes:n.payload.nodes,descendantSearchTerm:"",lastKeyPressTime:0};case"ACTIVATE_FIRST_DESCENDANT":return{...e,activeDescendantIndex:0,descendantSearchTerm:"",lastKeyPressTime:0};case"ACTIVATE_LAST_DESCENDANT":return{...e,activeDescendantIndex:e.descendantCount-1,descendantSearchTerm:"",lastKeyPressTime:0};case"ACTIVATE_NEXT_DESCENDANT":{const o=e.activeDescendantIndex<e.descendantCount-1?e.activeDescendantIndex+1:0;return{...e,activeDescendantIndex:o,descendantSearchTerm:"",lastKeyPressTime:0}}case"ACTIVATE_PREVIOUS_DESCENDANT":{const o=e.activeDescendantIndex>0?e.activeDescendantIndex-1:e.descendantCount-1;return{...e,activeDescendantIndex:o,descendantSearchTerm:"",lastKeyPressTime:0}}case"UPDATE_DESCENDANT_SEARCH_TERM":{const d=s-e.lastKeyPressTime<350,p=d?e.descendantSearchTerm+n.payload.eventKey.toLowerCase():n.payload.eventKey.toLowerCase(),a=e.activeDescendantIndex>=0?e.activeDescendantIndex:-1,r=d?0:1,c=Array.from(e.descendantNodes??[]).map(u=>u.innerText.toLowerCase().replace(/(\r\n|\n|\r)/gm,"")),f=c.slice(a+r).concat(c.slice(0,a+r)).find(u=>u.startsWith(p)),m=f?c.indexOf(f):a;return{...e,descendantSearchTerm:p,activeDescendantIndex:m,lastKeyPressTime:s}}default:throw new Error(`Unhandled action type: ${n.type}`)}}function ee(){return`dropdown-menu-${x()}`}function R(){const{menuId:e}=h();return{buttonId:`${e}-button`,panelId:`${e}-panel`}}function ne(){const{menuId:e}=h(),n=x();return`${e}-group-${n}`}function O(e){const{menuId:n}=h(),s=x();return e||`${n}-item-${s}`}function oe({children:e,popoverPlacement:n="bottom-start",popoverMaxHeight:s,popoverOffset:t}){var N,S;const[o,d]=D.useReducer(Y,k),p=ee(),a=D.useRef(null),r=B({placement:n,maxHeight:s,offset:t});function c(){d({type:"OPEN_MENU"})}function i(){var I;d({type:"CLOSE_MENU"}),(I=r.referenceRef.current)==null||I.focus()}function f(){o.isMenuOpen?i():c()}function m(){d({type:"ACTIVATE_FIRST_DESCENDANT"})}function u(){d({type:"ACTIVATE_LAST_DESCENDANT"})}function M(){d({type:"ACTIVATE_PREVIOUS_DESCENDANT"})}function y(){d({type:"ACTIVATE_NEXT_DESCENDANT"})}function L(I){d({type:"UPDATE_DESCENDANT_SEARCH_TERM",payload:{eventKey:I}})}function U(){var I,C;o.activeDescendantIndex!==-1&&((C=(I=o.descendantNodes)==null?void 0:I[o.activeDescendantIndex])==null||C.click(),i())}D.useEffect(()=>{var I;o.isMenuOpen&&d({type:"SET_DESCENDANT_NODES",payload:{nodes:(I=a.current)==null?void 0:I.querySelectorAll('[role="menuitem"], [role="menuitemradio"]')}})},[o.isMenuOpen,e]);const V=(S=(N=o.descendantNodes)==null?void 0:N[o.activeDescendantIndex])==null?void 0:S.id;return l(_.Provider,{value:{isMenuOpen:o.isMenuOpen,openMenu:c,closeMenu:i,toggleMenu:f,descendantNodes:o.descendantNodes,goToPreviousMenuItem:M,goToNextMenuItem:y,goToFirstMenuItem:m,goToLastMenuItem:u,clickSelectedItem:U,activeDescendantId:V,updateDescendantSearchTerm:L,menuId:p,panelRef:a,popover:r},children:typeof e=="function"?e({isMenuOpen:o.isMenuOpen}):e})}oe.__docgenInfo={description:"",methods:[],displayName:"DropdownMenu",props:{children:{required:!0,tsType:{name:"union",raw:"((menuState: { isMenuOpen: boolean }) => ReactNode) | ReactNode",elements:[{name:"unknown"},{name:"ReactNode"}]},description:""},popoverPlacement:{required:!1,tsType:{name:"union",raw:`| 'bottom'
| 'bottom-start'
| 'bottom-end'`,elements:[{name:"literal",value:"'bottom'"},{name:"literal",value:"'bottom-start'"},{name:"literal",value:"'bottom-end'"}]},description:"The placement of the dropdown panel popover in relation to the dropdown menu button.",defaultValue:{value:"'bottom-start'",computed:!1}},popoverMaxHeight:{required:!1,tsType:{name:"number"},description:"The max height of the dropdown panel popover."},popoverOffset:{required:!1,tsType:{name:"number"},description:"Used to control the vertical distance between the reference element and popover element. Value is in pixels."}}};function te({variant:e="text",iconAfter:n,...s}){const{isMenuOpen:t}=h(),o=re();return l(H,{variant:e,iconAfter:n||(t?j:W),...o,...s})}function re(){const{isMenuOpen:e,descendantNodes:n,goToLastMenuItem:s,goToFirstMenuItem:t,openMenu:o,toggleMenu:d,popover:p}=h(),{buttonId:a,panelId:r}=R(),{ref:c}=p.getReferenceProps(),[i,f]=D.useState();D.useEffect(()=>{!e||!n||!i||(i==="ArrowUp"?s():t(),f(void 0))},[e,n,t,s,i]);function m(u){se.includes(u.code)&&(u.preventDefault(),f(u.code),o())}return{ref:c,id:a,"aria-haspopup":!0,"aria-controls":r,"aria-expanded":e,onClick:d,onKeyDown:m}}const se=["ArrowDown","ArrowUp","Space","Enter"];te.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuButton",props:{variant:{defaultValue:{value:"'text'",computed:!1},required:!1}}};function de(){return l(z,{})}de.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuDivider"};function ae({children:e,label:n}){const s=ne();return g("div",{role:"group","aria-labelledby":s,children:[l(E,{display:"block",paddingX:1,paddingTop:1.5,paddingBottom:.5,lineHeight:"heading",fontWeight:"bold",fontSize:"xs",color:"muted",id:s,children:n}),e]})}ae.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuGroup"};const P=Q(function({as:n,children:s,onClick:t,endElement:o,icon:d,id:p,...a},r){const c=D.useRef(null),{activeDescendantId:i,closeMenu:f}=h(),m=O(p),u=m===i;D.useEffect(()=>{var y;u&&((y=c.current)==null||y.scrollIntoView({block:"nearest"}))},[u]);function M(){t==null||t(),f()}return g(w,{as:n,ref:A([r,c]),role:"menuitem",tabIndex:-1,id:m,onClick:M,alignItems:"center",justifyContent:"space-between",background:"body",gap:1,padding:1,width:"18rem",link:!0,focusRingFor:"keyboard",css:{textDecoration:"none",...u&&{backgroundColor:T.backgroundShade,"& > div > span":v.underline},"&:hover":{backgroundColor:T.backgroundShade,"& > div:first-of-type > span":v.underline}},...a,children:[g(w,{alignItems:"center",gap:.75,children:[d?l(d,{color:"inherit",size:"md",css:{flexShrink:0}}):null,l(E,{color:"inherit",children:s})]}),l("div",{css:{flexShrink:0},children:o})]})});P.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuItem"};function K({children:e,target:n,...s}){const t=q();return g(P,{as:t,target:n,...s,children:[e,n==="_blank"&&l(J,{})]})}K.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuItemLink",props:{icon:{required:!1,tsType:{name:"ComponentType",elements:[{name:"IconProps"}],raw:"ComponentType<IconProps>"},description:"Used to add an icon to the start of the item."},endElement:{required:!1,tsType:{name:"ReactNode"},description:"Used to add decorative elements to the end of the item such as Indicator dot or Notification badge."}}};function ce({children:e,palette:n}){const{panelRef:s,isMenuOpen:t,closeMenu:o,popover:d,activeDescendantId:p}=h(),{buttonId:a,panelId:r}=R(),c=D.useCallback(()=>{t&&o()},[t,o]);X([d.popoverRef,d.referenceRef],c),D.useEffect(()=>{var u;t&&((u=s.current)==null||u.focus({preventScroll:!0}))},[s,t]);const{onKeyDown:i}=ie(),{style:f,ref:m}=d.getPopoverProps();return t?l(G,{as:w,ref:A([m,s]),role:"menu",tabIndex:-1,id:r,"aria-labelledby":a,"aria-activedescendant":p,onKeyDown:i,palette:n,flexDirection:"column",focusRingFor:"keyboard",style:f,children:e}):l("div",{id:r,css:{position:"absolute"}})}function ie(){const{closeMenu:e,goToPreviousMenuItem:n,goToNextMenuItem:s,goToFirstMenuItem:t,goToLastMenuItem:o,clickSelectedItem:d,updateDescendantSearchTerm:p}=h();function a(r){switch(r.code){case"ArrowUp":r.preventDefault(),n();break;case"ArrowDown":r.preventDefault(),s();break;case"Home":r.preventDefault(),t();break;case"End":r.preventDefault(),o();break;case"Escape":r.preventDefault(),e();break;case"Enter":case"Space":r.preventDefault(),d();break;case"Tab":e();break;default:/^[a-zA-Z]$/.test(r.key)&&!r.metaKey&&!r.ctrlKey&&(r.preventDefault(),p(r.key))}}return{onKeyDown:a}}ce.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuPanel"};function ue({children:e,onClick:n,endElement:s,checked:t,secondaryText:o,id:d}){const p=D.useRef(null),{activeDescendantId:a,closeMenu:r}=h(),c=O(d),i=c===a;D.useEffect(()=>{var m;i&&((m=p.current)==null||m.scrollIntoView({block:"nearest"}))},[i]);function f(){n==null||n(),r()}return g(w,{ref:p,role:"menuitemradio","aria-checked":t,id:c,onClick:f,alignItems:"center",justifyContent:"space-between",background:"body",gap:1,padding:1,width:"18rem",css:{cursor:"pointer",...i&&{backgroundColor:T.backgroundShade,color:T.foregroundText,"& > div:first-of-type > span":{...v.underline,color:T.foregroundText}},"&:hover":{backgroundColor:T.backgroundShade,"& > div:first-of-type > span":{...v.underline,color:T.foregroundText}},...t&&{backgroundColor:T.selectedMuted,position:"relative","&::before":{content:"''",position:"absolute",top:0,bottom:0,left:0,width:F.borderWidth.xl,background:T.selected}}},children:[g(Z,{children:[l(E,{color:t?"text":"action",fontWeight:t?"bold":"normal",children:e}),l(E,{fontSize:"xs",color:"muted",children:o})]}),l("div",{css:{flexShrink:0},children:s})]})}ue.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuItemRadio"};function pe(e){return l(K,{...e,css:{...$("xs","default"),paddingTop:b(.25),paddingBottom:b(.25),marginBottom:b(.75)}})}pe.__docgenInfo={description:"",methods:[],displayName:"DropdownMenuGroupLink"};export{oe as D,te as a,ce as b,P as c,de as d,ae as e,ue as f,pe as g,K as h,h as i,re as u};
