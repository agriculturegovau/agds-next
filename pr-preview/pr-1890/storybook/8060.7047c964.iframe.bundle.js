"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[8060],{"./packages/react/src/modal/Modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>Modal});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react_dom=__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js"),core=__webpack_require__("./packages/react/src/core/index.ts"),getCloseHandler=__webpack_require__("./packages/react/src/getCloseHandler.ts"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const ModalCover=(0,react.forwardRef)((function ModalCover({children},ref){return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{ref,css:(0,emotion_react_browser_esm.AH)({position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:core.boxPalette.overlay,zIndex:core.tokens.zIndex.overlay,overflowY:"auto",animation:`${animateFadeInOut} ${core.tokens.transition.duration}ms ${core.tokens.transition.timingFunction}`},"",""),children})})),animateFadeInOut=emotion_react_browser_esm.i7`
  0% { opacity: 0; }
  100% { opacity: 1; }
`;ModalCover.__docgenInfo={description:"",methods:[],displayName:"ModalCover"};var es2015=__webpack_require__("./node_modules/react-focus-lock/dist/es2015/index.js"),box=__webpack_require__("./packages/react/src/box/index.ts"),stack=__webpack_require__("./packages/react/src/stack/index.ts"),icon=__webpack_require__("./packages/react/src/icon/index.ts"),src_button=__webpack_require__("./packages/react/src/button/index.ts"),src_text=__webpack_require__("./packages/react/src/text/index.ts");const ModalTitle=({children,id})=>(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{as:"h2",fontSize:"lg",fontWeight:"bold",lineHeight:"heading",id,"data-autofocus":!0,focusRingFor:"keyboard",tabIndex:-1,children});ModalTitle.__docgenInfo={description:"",methods:[],displayName:"ModalTitle"};var _ref={name:"1duj7gx",styles:"align-self:flex-end"},_ref2={name:"xdvdnl",styles:"margin-top:auto"};const ModalDialog=({actions,children,onClose,onDismiss,title})=>{const closeHandler=(0,getCloseHandler.id)(onClose,onDismiss),{titleId}={titleId:`modal-${(0,core.Bi)()}-title`};return(0,emotion_react_jsx_runtime_browser_esm.Y)(es2015.Ay,{returnFocus:!0,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{"aria-labelledby":titleId,"aria-modal":"true",background:"body",css:(0,emotion_react_browser_esm.AH)({boxShadow:core.tokens.shadow.lg,position:"relative",margin:"0 auto",minHeight:"100vh",animation:`${animateSlideInUp} ${core.tokens.transition.duration}ms ${core.tokens.transition.timingFunction}`,"@supports (min-height: 100dvh)":{minHeight:"100dvh"},[core.tokens.mediaQuery.min.sm]:{borderRadius:core.tokens.borderRadius,margin:`${(0,core.mapSpacing)(6)} auto ${(0,core.mapSpacing)(1)}`,minHeight:"auto"}},"",""),gap:1,highContrastOutline:!0,maxWidth:"45rem",paddingX:{xs:.75,md:1.5},paddingY:{xs:1,md:1.5},role:"dialog",children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{variant:"text","aria-label":"Close modal",onClick:closeHandler,iconAfter:icon.US,css:_ref,children:"Close"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ModalTitle,{id:titleId,children:title}),(0,emotion_react_jsx_runtime_browser_esm.Y)(box.Box,{children}),actions?(0,emotion_react_jsx_runtime_browser_esm.Y)(box.Box,{paddingTop:1,css:_ref2,children:actions}):null]})})},animateSlideInUp=emotion_react_browser_esm.i7`
  0% { transform: translateY(1rem); }
	100% { transform: translateY(0); }
`;ModalDialog.__docgenInfo={description:"",methods:[],displayName:"ModalDialog"};const Modal=({actions,children,isOpen=!1,onClose,onDismiss,title})=>{const closeHandler=(0,getCloseHandler.id)(onClose,onDismiss);(0,react.useEffect)((()=>{const handleKeyDown=e=>{isOpen&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),closeHandler())};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[closeHandler,isOpen]);const{modalContainerRef}=(0,core.X5)(isOpen);return isOpen&&(0,core.Sw)()?(0,react_dom.createPortal)((0,emotion_react_jsx_runtime_browser_esm.FD)(react.Fragment,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(LockScroll,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(ModalCover,{ref:modalContainerRef,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ModalDialog,{actions,onClose:closeHandler,title,children})})]}),document.body):null};var Modal_ref={name:"1sy9iaq",styles:"body{overflow:hidden;}"};const LockScroll=()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_browser_esm.mL,{styles:Modal_ref})}}]);