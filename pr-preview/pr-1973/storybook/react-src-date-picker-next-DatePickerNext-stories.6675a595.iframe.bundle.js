"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[539],{"./packages/react/src/date-picker-next/DatePickerNext.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AlternativeDateFormat:()=>AlternativeDateFormat,Basic:()=>Basic,Block:()=>Block,ClearableExample:()=>ClearableExample,CustomAllowedDateFormats:()=>CustomAllowedDateFormats,Disabled:()=>Disabled,Hint:()=>Hint,InitialMonth:()=>InitialMonth,Invalid:()=>Invalid,MinMaxDates:()=>MinMaxDates,Required:()=>Required,ScrollExample:()=>ScrollExample,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/date-fns/esm/sub/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/date-fns/esm/subDays/index.js"),date_fns__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/date-fns/esm/addDays/index.js"),_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/box/index.ts"),_stack__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/stack/index.ts"),_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/react/src/button/index.ts"),_DatePickerNext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/react/src/date-picker-next/DatePickerNext.tsx"),_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/react/src/date-picker-next/utils.ts"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ControlledDatePickerNext(props){const{0:value,1:setValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(),isInvalid=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((value=>!(0,_utils__WEBPACK_IMPORTED_MODULE_6__.vd)(value,{minDate:props.minDate?(0,date_fns__WEBPACK_IMPORTED_MODULE_7__.A)(props.minDate,{days:1}):void 0,maxDate:props.maxDate})),[props.maxDate,props.minDate]),invalid=!(!props.invalid&&!value)&&isInvalid(value);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_DatePickerNext__WEBPACK_IMPORTED_MODULE_5__.K,_objectSpread(_objectSpread({},props),{},{invalid,message:props.message||(invalid?"Enter a valid date":void 0),onChange:setValue,value}))}const __WEBPACK_DEFAULT_EXPORT__={title:"forms/DatePickerNext/DatePickerNext",component:_DatePickerNext__WEBPACK_IMPORTED_MODULE_5__.K,args:{label:"Example"},render:ControlledDatePickerNext},Basic={},Disabled={args:{disabled:!0}},today=new Date,MinMaxDates={args:{minDate:(0,date_fns__WEBPACK_IMPORTED_MODULE_9__.A)(today,7),maxDate:(0,date_fns__WEBPACK_IMPORTED_MODULE_10__.A)(today,7)}},InitialMonth={args:{initialMonth:new Date(1999,11,1)}},Required={args:{required:!0}},Invalid={args:{invalid:!0,message:"Enter a valid date"}},Hint={args:{hint:"We will only use this to respond to your question"}},Block={args:{block:!0}},AlternativeDateFormat={args:{dateFormat:"d MMM yyyy"}},CustomAllowedDateFormats={args:{allowedDateFormats:["dd/MM/yyyy","dd-MM-yyyy","dd MM yyyy"]}},ScrollExample={render:props=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.FD)(_box__WEBPACK_IMPORTED_MODULE_2__.Box,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_box__WEBPACK_IMPORTED_MODULE_2__.Box,{height:"1000px"}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(ControlledDatePickerNext,_objectSpread({},props)),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_box__WEBPACK_IMPORTED_MODULE_2__.Box,{height:"1000px"})]})},ClearableExample={render:function Render(props){const{0:value,1:setValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.FD)(_stack__WEBPACK_IMPORTED_MODULE_3__.Stack,{alignItems:"flex-start",gap:4,children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_DatePickerNext__WEBPACK_IMPORTED_MODULE_5__.K,_objectSpread(_objectSpread({},props),{},{onChange:setValue,value})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.FD)(_button__WEBPACK_IMPORTED_MODULE_4__.ButtonGroup,{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_button__WEBPACK_IMPORTED_MODULE_4__.Button,{onClick:()=>setValue(new Date(1999,11,25)),children:"Set pre-defined date"}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.Y)(_button__WEBPACK_IMPORTED_MODULE_4__.Button,{onClick:()=>setValue(void 0),variant:"secondary",children:"Clear"})]})]})}},__namedExportsOrder=["Basic","Disabled","MinMaxDates","InitialMonth","Required","Invalid","Hint","Block","AlternativeDateFormat","CustomAllowedDateFormats","ScrollExample","ClearableExample"];Basic.parameters={...Basic.parameters,docs:{...Basic.parameters?.docs,source:{originalSource:"{}",...Basic.parameters?.docs?.source}}},Disabled.parameters={...Disabled.parameters,docs:{...Disabled.parameters?.docs,source:{originalSource:"{\n  args: {\n    disabled: true\n  }\n}",...Disabled.parameters?.docs?.source}}},MinMaxDates.parameters={...MinMaxDates.parameters,docs:{...MinMaxDates.parameters?.docs,source:{originalSource:"{\n  args: {\n    minDate: lastWeek,\n    maxDate: nextWeek\n  }\n}",...MinMaxDates.parameters?.docs?.source}}},InitialMonth.parameters={...InitialMonth.parameters,docs:{...InitialMonth.parameters?.docs,source:{originalSource:"{\n  args: {\n    initialMonth: new Date(1999, 11, 1)\n  }\n}",...InitialMonth.parameters?.docs?.source}}},Required.parameters={...Required.parameters,docs:{...Required.parameters?.docs,source:{originalSource:"{\n  args: {\n    required: true\n  }\n}",...Required.parameters?.docs?.source}}},Invalid.parameters={...Invalid.parameters,docs:{...Invalid.parameters?.docs,source:{originalSource:"{\n  args: {\n    invalid: true,\n    message: 'Enter a valid date'\n  }\n}",...Invalid.parameters?.docs?.source}}},Hint.parameters={...Hint.parameters,docs:{...Hint.parameters?.docs,source:{originalSource:"{\n  args: {\n    hint: 'We will only use this to respond to your question'\n  }\n}",...Hint.parameters?.docs?.source}}},Block.parameters={...Block.parameters,docs:{...Block.parameters?.docs,source:{originalSource:"{\n  args: {\n    block: true\n  }\n}",...Block.parameters?.docs?.source}}},AlternativeDateFormat.parameters={...AlternativeDateFormat.parameters,docs:{...AlternativeDateFormat.parameters?.docs,source:{originalSource:"{\n  args: {\n    dateFormat: 'd MMM yyyy'\n  }\n}",...AlternativeDateFormat.parameters?.docs?.source}}},CustomAllowedDateFormats.parameters={...CustomAllowedDateFormats.parameters,docs:{...CustomAllowedDateFormats.parameters?.docs,source:{originalSource:"{\n  args: {\n    allowedDateFormats: ['dd/MM/yyyy', 'dd-MM-yyyy', 'dd MM yyyy']\n  }\n}",...CustomAllowedDateFormats.parameters?.docs?.source}}},ScrollExample.parameters={...ScrollExample.parameters,docs:{...ScrollExample.parameters?.docs,source:{originalSource:'{\n  render: props => <Box>\n            <Box height="1000px"></Box>\n            <ControlledDatePickerNext {...props} />\n            <Box height="1000px"></Box>\n        </Box>\n}',...ScrollExample.parameters?.docs?.source}}},ClearableExample.parameters={...ClearableExample.parameters,docs:{...ClearableExample.parameters?.docs,source:{originalSource:'{\n  render: function Render(props) {\n    const [value, setValue] = useState<Date | string | undefined>();\n    return <Stack alignItems="flex-start" gap={4}>\n                <DatePickerNext {...props} onChange={setValue} value={value} />\n                <ButtonGroup>\n                    <Button onClick={() => setValue(new Date(1999, 11, 25))}>\n                        Set pre-defined date\n                    </Button>\n                    <Button onClick={() => setValue(undefined)} variant="secondary">\n                        Clear\n                    </Button>\n                </ButtonGroup>\n            </Stack>;\n  }\n}',...ClearableExample.parameters?.docs?.source}}}},"./packages/react/src/date-picker-next/DatePickerNext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>DatePickerNext});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/core/index.ts"),_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/_popover/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/react/src/date-picker-next/utils.ts"),_Calendar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/react/src/date-picker-next/Calendar.tsx"),_CalendarContext__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/react/src/date-picker-next/CalendarContext.tsx"),_DatePickerInput__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/react/src/date-picker-next/DatePickerInput.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["allowedDateFormats","dateFormat","initialMonth","inputRef","invalid","maxDate","maxWidth","minDate","onBlur","onChange","value","yearRange"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _ref2={name:"1coh6b9",styles:"min-height:200px"};const DatePickerNext=_ref=>{let{allowedDateFormats:allowedDateFormatsProp=_utils__WEBPACK_IMPORTED_MODULE_7__.e,dateFormat="dd/MM/yyyy",initialMonth,inputRef,invalid=!1,maxDate,maxWidth="md",minDate,onBlur:onBlurProp,onChange,value,yearRange}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_8__.A)(_ref,_excluded);const allowedDateFormats=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>Array.from(new Set([dateFormat,...allowedDateFormatsProp.filter((dateFormat=>_utils__WEBPACK_IMPORTED_MODULE_7__.e.includes(dateFormat)))]))),[dateFormat,allowedDateFormatsProp]),{0:hasCalendarOpened,1:setHasCalendarOpened}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isCalendarOpen,openCalendar,closeCalendar]=(0,_core__WEBPACK_IMPORTED_MODULE_2__.C6)(!1),toggleCalendar=isCalendarOpen?closeCalendar:openCalendar,triggerRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),popover=(0,_popover__WEBPACK_IMPORTED_MODULE_3__.f)(),onSelect=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((_,selectedDay,modifiers)=>{modifiers.disabled||(setInputValue((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Yq)(selectedDay,dateFormat)),onChange(selectedDay),closeCalendar())}),[onChange,closeCalendar,dateFormat]),{0:inputValue,1:setInputValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Lp)(value,dateFormat));(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setInputValue((0,_utils__WEBPACK_IMPORTED_MODULE_7__.Lp)(value,dateFormat,allowedDateFormats))}),[allowedDateFormats,dateFormat,value]);const handleClickOutside=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{isCalendarOpen&&closeCalendar()}),[isCalendarOpen,closeCalendar]);(0,_core__WEBPACK_IMPORTED_MODULE_2__.Ls)([popover.popoverRef,triggerRef],handleClickOutside),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const handleKeyDown=e=>{isCalendarOpen&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),closeCalendar())};return window.addEventListener("keydown",handleKeyDown,{capture:!0}),()=>window.removeEventListener("keydown",handleKeyDown,{capture:!0})}),[isCalendarOpen,closeCalendar]);const disabledCalendarDays=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>{if(minDate||maxDate)return[minDate?{before:minDate}:void 0,maxDate?{after:maxDate}:void 0].filter((x=>Boolean(x)))}),[minDate,maxDate]),valueAsDateOrUndefined=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.D5)(value,allowedDateFormats),defaultMonth=(0,_utils__WEBPACK_IMPORTED_MODULE_7__.O4)(valueAsDateOrUndefined,initialMonth,yearRange),popoverProps=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>popover.getPopoverProps()),[popover]),calendarProps=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>({defaultMonth,disabled:disabledCalendarDays,initialFocus:!0,numberOfMonths:1,onSelect,selected:valueAsDateOrUndefined})),[defaultMonth,disabledCalendarDays,onSelect,valueAsDateOrUndefined]);return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.FD)("div",_objectSpread(_objectSpread({},popover.getReferenceProps()),{},{children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_DatePickerInput__WEBPACK_IMPORTED_MODULE_6__.J,_objectSpread(_objectSpread({},props),{},{buttonAriaLabel:(0,_utils__WEBPACK_IMPORTED_MODULE_7__.oo)({allowedDateFormats,value:inputValue}),buttonOnClick:()=>{toggleCalendar(),setHasCalendarOpened(!0)},buttonRef:triggerRef,dateFormat,invalid:{field:invalid,input:invalid},isCalendarOpen,maxWidth,onBlur:e=>{const inputValue=e.target.value,parsedDate=(0,_utils__WEBPACK_IMPORTED_MODULE_7__._U)(inputValue,allowedDateFormats)||inputValue;onChange(parsedDate),onBlurProp?.(e)},onChange:e=>{const inputValue=e.target.value;setInputValue(inputValue)},ref:inputRef,secondaryLabelDate:minDate||maxDate,value:inputValue})),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_CalendarContext__WEBPACK_IMPORTED_MODULE_5__.S,{yearRange,children:hasCalendarOpened?isCalendarOpen&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_popover__WEBPACK_IMPORTED_MODULE_3__.A,_objectSpread(_objectSpread({},popoverProps),{},{children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_Calendar__WEBPACK_IMPORTED_MODULE_4__.ND,_objectSpread({},calendarProps))})):(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_popover__WEBPACK_IMPORTED_MODULE_3__.A,_objectSpread(_objectSpread({},popoverProps),{},{css:_ref2,visibility:isCalendarOpen?"visible":"hidden",children:isCalendarOpen&&(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_Calendar__WEBPACK_IMPORTED_MODULE_4__.ND,_objectSpread({},calendarProps))}))})]}))}}}]);