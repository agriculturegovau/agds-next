(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2265],{4508:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(24377),r()},78010:function(e,t,n){"use strict";n.d(t,{Checkbox:function(){return C}});var r=n(90849),o=n(90089),i=n(27378),a=n(8464),c=n(69395),l=n(10043),s=n(19631),d=n(19282),u=n(87800);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e){var t=e.disabled,n=e.indeterminate,r=e.invalid,o=e.size,i=a.lB.control[o],c=i.width,f=i.height,b=i.borderWidth;return(0,u.tZ)(s.Flex,{alignItems:"center",as:"span",css:(0,l.iv)(p(p({borderWidth:b,borderStyle:"solid",borderColor:a.boxPalette.border,backgroundColor:a.boxPalette.backgroundBody,color:a.boxPalette.foregroundText},t&&{color:a.boxPalette.borderMuted,borderColor:a.boxPalette.borderMuted,backgroundColor:a.boxPalette.backgroundShade,"@media (forced-colors: active)":{borderColor:"GrayText",color:"GrayText"}}),r&&{borderColor:a.boxPalette.systemError,backgroundColor:a.boxPalette.systemErrorMuted}),"",""),flexShrink:0,height:f,justifyContent:"center",rounded:!0,width:c,children:n?(0,u.tZ)(d.V_,{size:o,weight:"bold"}):(0,u.tZ)(d.nQ,{size:o,weight:"bold"})})},h=n(34456);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v=(0,i.forwardRef)(function(e,t){return(0,u.tZ)("input",m({css:(0,l.iv)(m(m({},h.visuallyHiddenStyles),{},{"&:focus ~ span:first-of-type":a.lB.outline,"~ span > svg":{opacity:0},"&:checked ~ span > svg, &:indeterminate ~ span > svg":{opacity:1}}),"",""),ref:t},e))});function y(e){var t=e.children,n=e.htmlFor,r=e.disabled;return(0,u.tZ)(s.Flex,{alignItems:"flex-start",as:"label",color:"text",css:(0,l.iv)({cursor:r?"not-allowed":"pointer"},"",""),gap:.5,htmlFor:n,inline:!0,children:t})}var O=n(92288),w={sm:0,md:"0.2rem"};function P(e){var t=e.children,n=e.disabled,r=w[e.size];return(0,u.tZ)(O.Text,{color:n?"muted":"text",css:(0,l.iv)({paddingTop:r},"",""),flexGrow:1,children:t})}var x=["checked","children","disabled","indeterminate","invalid","name","required","size"];function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var C=(0,i.forwardRef)(function(e,t){var n,l,s=e.checked,d=e.children,f=e.disabled,p=e.indeterminate,h=e.invalid,g=e.name,m=e.required,O=e.size,w=void 0===O?"md":O,C=(0,o.Z)(e,x),k=(n=C.id,l=(0,a.Me)(n),n||"checkbox-".concat(l)),S=(0,i.useRef)(null),T=(0,c.j)(),j="boolean"==typeof h?h:null==T?void 0:T.invalid,B="boolean"==typeof m?m:null==T?void 0:T.required,A=g||(null==T?void 0:T.name);(0,i.useEffect)(function(){S.current&&(S.current.indeterminate=!!p)},[p]);var D=!p&&s;return(0,u.BX)(y,{disabled:f,htmlFor:k,children:[(0,u.tZ)(v,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({"aria-checked":p?"mixed":void 0,"aria-describedby":j?null==T?void 0:T.messageId:void 0,"aria-invalid":j||void 0,"aria-required":B,checked:D,disabled:f,id:k,name:A,ref:(0,a.lq)([t,S]),type:"checkbox"},C)),(0,u.tZ)(b,{disabled:f,indeterminate:p,invalid:j,size:w}),(0,u.tZ)(P,{disabled:f,size:w,children:d})]})})},31789:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(27378);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusOnMount,n=e.focusOnUpdate,o=e.forwardedRef,i=(0,r.useRef)(null),a=o||i;return(0,r.useEffect)(function(){var e,r;!n&&!t||!("current"in a)||Array.isArray(n)&&0===n.filter(Boolean).length||null==a||null===(e=a.current)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e)},[n]),a}},75136:function(e,t,n){"use strict";n.d(t,{FormStack:function(){return i}});var r=n(19631),o=n(87800);function i(e){var t=e.children;return(0,o.tZ)(r.Flex,{flexDirection:"column",gap:2,children:t})}},79146:function(e,t,n){"use strict";n.d(t,{TabButton:function(){return C},TabList:function(){return T},TabPanel:function(){return A},TabPanels:function(){return D},Tabs:function(){return E}});var r=n(90849),o=n(10043),i=n(58229),a=n(48050),c=n(8464),l=n(27378),s=(0,l.createContext)(void 0);function d(){var e=(0,l.useContext)(s);if(void 0===e)throw Error("TabsContext not found.");return e}var u=(0,l.createContext)(void 0);function f(e,t){return{tabButtonId:"".concat(e,"-tab-button-").concat(t),panelId:"".concat(e,"-tab-panel-").concat(t)}}function p(){var e=(0,c.iP)().windowWidth;return(void 0===e?0:e)>=c.tokens.breakpoint.sm?"horizontal":"vertical"}var b={body:{panelBg:c.boxPalette.backgroundBody,panelFg:c.boxPalette.foregroundText,buttonBg:c.boxPalette.backgroundBody,buttonFg:c.boxPalette.foregroundAction,buttonBgHover:c.boxPalette.backgroundShade,buttonFgHover:c.boxPalette.foregroundText},bodyAlt:{panelBg:c.boxPalette.backgroundBodyAlt,panelFg:c.boxPalette.foregroundText,buttonBg:c.boxPalette.backgroundBodyAlt,buttonFg:c.boxPalette.foregroundAction,buttonBgHover:c.boxPalette.backgroundShade,buttonFgHover:c.boxPalette.foregroundText}},h="--agds-tabs-panel-bg",g="--agds-tabs-panel-fg",m="--agds-tabs-button-bg",v="--agds-tabs-button-fg",y="--agds-tabs-button-bg-hover",O="--agds-tabs-button-fg-hover",w={panelBg:"var(".concat(h,")"),panelFg:"var(".concat(g,")"),buttonBg:"var(".concat(m,")"),buttonFg:"var(".concat(v,")"),buttonBgHover:"var(".concat(y,")"),buttonFgHover:"var(".concat(O,")")},P=n(87800);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e){var t,n=e.children,s=e.endElement,b=d(),h=b.tabsId,g=b.activeIndex,m=b.setActiveIndex,v=b.goToFirstTab,y=b.goToLastTab,O=b.goToPreviousTab,x=b.goToNextTab,C=function(){var e=(0,l.useContext)(u);if(void 0===e)throw Error("TabListContext not found.");return e}().tabIndex,k=f(h,C),S=k.tabButtonId,T=k.panelId,j=p(),B=g===C;return(0,P.BX)(a.Box,{"aria-controls":T,"aria-selected":B,as:i.Yd,css:(0,o.iv)(Z(Z(Z({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:(0,c.mapSpacing)(.5)},(0,c.vY)("sm","default")),B?{background:w.panelBg,"& > span:first-of-type":{fontWeight:c.tokens.fontWeight.bold,color:c.boxPalette.foregroundText}}:{background:w.buttonBg,"&:hover":{background:w.buttonBgHover},"& > span:first-of-type":Z(Z({},c.lB.underline),{},{color:w.buttonFg}),"&:hover > span:first-of-type":{color:w.buttonFgHover,textDecoration:"none"}}),{},(t={"&:focus-visible":{zIndex:c.tokens.zIndex.elevated}},(0,r.Z)(t,c.tokens.mediaQuery.max.xs,{borderWidth:c.tokens.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:c.boxPalette.border,"&:first-of-type":{overflow:"hidden",borderRadius:"".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px 0 0")},"&:last-of-type":{borderBottomWidth:c.tokens.borderWidth.sm},"::before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:B?c.tokens.borderWidth.xxl:c.tokens.borderWidth.xl,background:B?c.boxPalette.selected:c.boxPalette.borderMuted,"@media (forced-colors: active)":{backgroundColor:B?"MenuText":"GrayText"}}}),(0,r.Z)(t,c.tokens.mediaQuery.min.sm,Z({borderWidth:c.tokens.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:c.boxPalette.border,borderRadius:"".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px 0 0")},B&&{"::before":{content:"''",position:"absolute",top:0,left:0,right:0,height:c.tokens.borderWidth.xl,background:c.boxPalette.selected},"::after":{content:"''",position:"absolute",bottom:-1,left:0,right:0,height:1,background:w.panelBg}})),t),c.S0.exactColor),"",""),focusRingFor:"keyboard",id:S,onClick:function(){m(C)},onKeyDown:function(e){switch(e.code){case"ArrowLeft":if("vertical"===j)break;e.preventDefault(),O();break;case"ArrowRight":if("vertical"===j)break;e.preventDefault(),x();break;case"ArrowUp":if("horizontal"===j)break;e.preventDefault(),O();break;case"ArrowDown":if("horizontal"===j)break;e.preventDefault(),x();break;case"Home":e.preventDefault(),v();break;case"End":e.preventDefault(),y()}},paddingX:1.5,paddingY:.75,role:"tab",tabIndex:B?0:-1,children:[(0,P.tZ)("span",{children:n}),s]})}var k=n(52809),S=n(19631);function T(e){var t=e.children,n=p();return(0,P.tZ)(S.Flex,{"aria-orientation":n,flexDirection:{xs:"column",sm:"row"},flexWrap:"wrap",gap:{xs:0,sm:.5},role:"tablist",children:(0,k.Z)(t).map(function(e,t){return(0,P.tZ)(u.Provider,{value:{tabIndex:t},children:e},t)})})}var j=(0,l.createContext)(void 0);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){var t=e.children,n=d(),i=n.tabsId,s=n.activeIndex,u=n.contained,p=function(){var e=(0,l.useContext)(j);if(void 0===e)throw Error("TabPanelsContext not found.");return e}().panelIndex,b=f(i,p),h=b.tabButtonId,g=b.panelId,m=s===p;return(0,P.tZ)(a.Box,{"aria-labelledby":h,border:!0,css:(0,o.iv)((0,r.Z)({background:w.panelBg,color:w.panelFg,borderTopWidth:0,borderRadius:"0 0 ".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px")},c.tokens.mediaQuery.min.sm,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderTopWidth:c.tokens.borderWidth.sm},u?{borderRadius:"0 ".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px")}:{paddingLeft:0,paddingRight:0,borderLeftWidth:0,borderRightWidth:0,borderRadius:0})),"",""),display:m?void 0:"none",focusRingFor:"keyboard",id:g,paddingX:{xs:.75,md:1.5},paddingY:1.5,role:"tabpanel",tabIndex:m?0:-1,children:t})}function D(e){var t=e.children;return(0,P.tZ)("div",{children:(0,k.Z)(t).map(function(e,t){return(0,P.tZ)(j.Provider,{value:{panelIndex:t},children:e},t)})})}function E(e){var t,n,o,i=e.children,a=e.background,d=e.contained,u=e.activeIndex,f=e.onChange,p=(0,l.useRef)(null),w=(0,l.useState)(),x=w[0],Z=w[1],C=null!=x&&x.length?x.length-1:0;(0,l.useEffect)(function(){var e,t,n=null===(e=p.current)||void 0===e?void 0:e.querySelectorAll('[role="tab"]'),r=null===(t=p.current)||void 0===t?void 0:t.querySelectorAll('[role="tabpanel"]');if((null==n?void 0:n.length)!==(null==r?void 0:r.length))throw Error("The number of `TabButton` components do not match the number of `TabPanel` components.");Z(n)},[i]);var k=(0,l.useState)(0),S=k[0],T=k[1],j="number"==typeof u?u:S;function B(e){var t;T(e),null==f||f(e),null==x||null===(t=x[e])||void 0===t||t.focus()}var A=(t=(0,c.Me)(),"tabs-".concat(t));return(0,P.tZ)(s.Provider,{value:{tabsId:A,contained:void 0===d||d,activeIndex:j,setActiveIndex:B,goToFirstTab:function(){B(0)},goToLastTab:function(){B(C)},goToPreviousTab:function(){B(0===j?C:j-1)},goToNextTab:function(){B(j===C?0:j+1)}},children:(0,P.tZ)("div",{css:(n=void 0===a?"body":a,o={},(0,r.Z)(o,h,b[n].panelBg),(0,r.Z)(o,g,b[n].panelFg),(0,r.Z)(o,m,b[n].buttonBg),(0,r.Z)(o,v,b[n].buttonFg),(0,r.Z)(o,y,b[n].buttonBgHover),(0,r.Z)(o,O,b[n].buttonFgHover),o),id:A,ref:p,children:i})})}},66338:function(e,t,n){"use strict";n.d(t,{TextInput:function(){return f},c:function(){return p}});var r=n(90849),o=n(90089),i=n(27378),a=n(13306),c=n(8464),l=n(87800),s=["label","hideOptionalLabel","required","hint","message","invalid","block","maxWidth","id","type"];function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,i.forwardRef)(function(e,t){var n=e.label,r=e.hideOptionalLabel,i=e.required,c=e.hint,d=e.message,f=e.invalid,b=e.block,h=e.maxWidth,g=void 0===h?"md":h,m=e.id,v=e.type,y=void 0===v?"text":v,O=(0,o.Z)(e,s),w=p({block:b,maxWidth:g});return(0,l.tZ)(a.gN,{hideOptionalLabel:r,hint:c,id:m,invalid:f,label:n,maxWidth:g,message:d,required:i,children:function(e){return(0,l.tZ)("input",u(u({css:w,ref:t},e),{},{type:y},O))}})}),p=function(e){var t=e.block,n=e.maxWidth,r=e.multiline;return u(u(u(u(u({appearance:"none",boxSizing:"border-box",paddingLeft:(0,c.mapSpacing)(1),paddingRight:(0,c.mapSpacing)(1),margin:0,background:c.boxPalette.backgroundBody,borderWidth:c.tokens.borderWidth.lg,borderStyle:"solid",borderColor:c.boxPalette.border,borderRadius:c.tokens.borderRadius,color:c.boxPalette.foregroundText,fontFamily:c.tokens.font.body},c.lB.input.md),n&&{maxWidth:c.tokens.maxWidth.field[n]}),t&&{maxWidth:"none",display:"block",width:"100%"}),r&&{paddingTop:(0,c.mapSpacing)(.5),paddingBottom:(0,c.mapSpacing)(.5),height:"auto",minHeight:"6rem"}),{},{'&[aria-invalid="true"]':{backgroundColor:c.boxPalette.systemErrorMuted,borderColor:c.boxPalette.systemError},"&:disabled":{cursor:"not-allowed",borderColor:c.boxPalette.borderMuted,backgroundColor:c.boxPalette.backgroundShade,color:c.boxPalette.foregroundMuted},"&:focus":c.lB.outline})}},28919:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(79146),r()},7214:function(e,t,n){"use strict";n.d(t,{f:function(){return d}});var r=n(10043),o=n(27378),i=n(4508),a=n(94609),c=n(61066),l=n(75601),s=n(87800);function d(e){var t=e.drawerContent,n=e.linkContent,d=e.linkHref,u=(0,o.useState)(!1),f=u[0],p=u[1];return(0,s.BX)(s.HY,{children:[(0,s.BX)(a.TextLink,{href:d,onClick:function(e){e.metaKey||(e.preventDefault(),p(!0))},children:[n,(0,s.tZ)(c.MoveLeftIcon,{css:(0,r.iv)({position:"relative",top:3,marginLeft:(0,l.mapSpacing)(.25)},"",""),size:"sm",weight:"regular"})]}),(0,s.tZ)(i.Drawer,{actions:(0,s.tZ)(a.TextLinkExternal,{href:d,children:"Open in new window"}),isOpen:f,onClose:function(){p(!1)},title:"Help",width:"lg",children:t})]})}},41792:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(27378),o=n(58229),i=n(92288),a=n(25294),c=n(87600),l=n(87800);function s(e){var t=e.isOpen,n=e.itemsToDelete,s=e.onClose,d=e.onConfirm,u=(0,r.useState)(!1),f=u[0],p=u[1],b=(0,r.useMemo)(function(){return Array.isArray(n)?{title:"Are you sure you want to remove access for ".concat(n.length," staff ").concat((0,c.Ho)(n.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(n.name,"?"),description:"Access will be removed immediately. You can not undo this action."}},[n]),h=b.title,g=b.description;return(0,l.tZ)(a.Modal,{actions:(0,l.BX)(o.ButtonGroup,{children:[(0,l.tZ)(o.Button,{loading:f,onClick:function(){p(!0),setTimeout(function(){p(!1),d()},1500)},children:"Remove access"}),(0,l.tZ)(o.Button,{onClick:s,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:s,title:h,children:(0,l.tZ)(i.Text,{as:"p",children:g})})}},87600:function(e,t,n){"use strict";n.d(t,{Ho:function(){return i},KD:function(){return r},UO:function(){return o}});var r=function(e){var t=e.loading,n=e.totalItems,r=e.pagination;if(t)return"Staff members";var o=1===n?"1 item":"".concat(n," items"),i=(r.page-1)*r.perPage+1,a=(r.page-1)*r.perPage+r.perPage;return a>n?"Staff members (".concat(o,")"):"Staff members (".concat(i," - ").concat(a," of ").concat(o,")")},o={Active:{label:"Active",tone:"success"},Invited:{label:"Invited",tone:"info"},Paused:{label:"Paused",tone:"neutral"}},i=function(e,t,n){return 1===e?t:n}},35026:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return t1}});var r,o=n(27378),i=n(60564),a=n(58607),c=n(28919),l=n(23748),s=n(13497),d=n(79628),u=n(37164),f=n(80043),p=n(17976),b=n(65051),h=n(33040),g=n(94308),m=n(76002),v=n(97700),y=n(7214),O=n(10043),w=n(90849),P=n(11246),x=n(86677),Z=n(96778),C=n(58229),k=n(8464),S=n(19282),T=n(48050),j=n(5443),B=n(87800),A=(0,o.createContext)(void 0),D=function(e){var t=e.children,n=e.value;return(0,B.tZ)(A.Provider,{value:n,children:t})},E=function(){var e=(0,o.useContext)(A);if(void 0===e)throw Error("useSortAndFilterContext must be used within a SortAndFilterProvider");return e},R=(0,o.createContext)(void 0),I=function(e){var t=e.children,n=e.value;return(0,B.tZ)(R.Provider,{value:n,children:t})},F=function(){var e=(0,o.useContext)(R);if(void 0===e)throw Error("useDataContext must be used within a DataProvider");return e},L=n(44285);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var X={activeUsers:!1,dateJoinedFrom:void 0,dateJoinedTo:void 0,foodSafetyCertificate:!1,lastActiveFrom:void 0,lastActiveTo:void 0,name:void 0,role:{Manager:!1,Employee:!1,Trainee:!1,"Work experience":!1},status:void 0,trainingCompleted:{Deliveries:!1,Distribution:!1,"Ice cream making":!1,Packaging:!1}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useReducer)(H,{pagination:{page:1,perPage:e.itemsPerPage||10},sort:{field:"name",order:"ASC"},filters:N(N({},X),e.filters),selection:[]}),n=t[0],r=t[1],i=n.sort,a=n.filters,c=n.pagination,l=n.selection;return{sort:i,setSort:function(e){r({type:"SET_SORT",payload:e}),r({type:"RESET_PAGINATION"})},filters:a,setFilter:function(e){r({type:"SET_FILTER",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},setFilters:function(e){r({type:"SET_FILTERS",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},removeFilter:function(e){r({type:"REMOVE_FILTER",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},resetFilters:function(){r({type:"RESET_FILTERS"}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},pagination:c,setPagination:function(e){r({type:"SET_PAGINATION",payload:e}),r({type:"CLEAR_SELECTION"})},selection:l,isRowSelected:function(e){return l.some(function(t){return t===e})},toggleRowSelected:function(e){r({type:"TOGGLE_ROW",payload:e})},selectRows:function(e){r({type:"SELECT_ROWS",payload:e})},clearRowSelections:function(){r({type:"CLEAR_SELECTION"})}}};function H(e,t){switch(t.type){case"SET_SORT":return N(N({},e),{},{sort:t.payload});case"SET_FILTERS":return N(N({},e),{},{filters:t.payload});case"SET_FILTER":return N(N({},e),{},{filters:N(N({},e.filters),t.payload)});case"REMOVE_FILTER":return N(N({},e),{},{filters:N(N({},e.filters),{},(0,w.Z)({},t.payload,X[t.payload]))});case"RESET_FILTERS":return N(N({},e),{},{filters:X});case"SET_PAGINATION":return N(N({},e),{},{pagination:t.payload});case"RESET_PAGINATION":return N(N({},e),{},{pagination:N(N({},e.pagination),{},{page:1})});case"TOGGLE_ROW":if(e.selection.includes(t.payload))return N(N({},e),{},{selection:e.selection.filter(function(e){return e!==t.payload})});return N(N({},e),{},{selection:[].concat((0,L.Z)(e.selection),[t.payload])});case"SELECT_ROWS":return N(N({},e),{},{selection:t.payload});case"CLEAR_SELECTION":return N(N({},e),{},{selection:[]});default:return e}}var z=n(93e3),_=n(55732),G=n(57135),q=n.n(G);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var K=function(e,t){var n=!0,r=t.activeUsers,o=t.lastActiveFrom,i=t.lastActiveTo,a=t.name,c=t.role,l=t.status,s=t.trainingCompleted;if(r&&(n="Active"===e.status&&n),o||i){var d=new Date(o||0).getTime(),u=(i?new Date(i):new Date).getTime(),f=new Date(e.lastActive).getTime();(d>f||u<f)&&(n=!1)}return l&&(n=e.status===l&&n),c&&Object.values(c).some(Boolean)&&(n=!!c[e.role]&&n),s&&Object.values(s).some(Boolean)&&(n=!!e.trainingCompleted.map(function(e){return s[e]}).some(Boolean)&&n),a&&(n=!!e.name.toLowerCase().includes(a.toLowerCase())&&n),n},J=function(e,t,n){var r=n.field,o=n.order,i=e[r],a=t[r];return null==i?1:null==a?-1:i>a?"ASC"===o?1:-1:i<a?"ASC"===o?-1:1:0};function V(){return(V=(0,_.Z)(q().mark(function e(t,n){var r,o,i,a,c;return q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n.pagination).page,i=r.perPage,c=(a=t.filter(function(e){return K(e,n.filters)}).sort(function(e,t){return J(e,t,n.sort)}).map(function(e,t){return U(U({},e),{},{index:t})})).slice((o-1)*i,o*i),e.abrupt("return",new Promise(function(e){setTimeout(function(){e({displayData:c,total:a.length,totalPages:Math.ceil(a.length/i),totalItems:a.length})},1e3)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var Q=n(23982),$=n(92288),ee=n(19631),et=n(93653),en=n(87600),er=function(e){for(var t=e.filters,n=e.removeFilter,r=Object.entries(t),o=[],i=0;i<r.length;i++)if(0===function(){var e=(0,P.Z)(r[i],2),t=e[0],a=e[1];if(!a)return 0;var c={activeUsers:!1,dateJoinedFrom:"Date joined",dateJoinedTo:"Date joined",foodSafetyCertificate:"Food safety certificate",lastActiveFrom:"Last active",lastActiveTo:"Last active",name:"Name",role:"Role",status:"Status",trainingCompleted:"Training completed"}[t],l=function(){return n(t)};if("activeUsers"===t)return a&&o.push({label:"Active users",onRemove:l}),0;if("role"===t){var s=Object.keys(a);return s.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(s.reduce(function(e,t){return a[t]?[].concat((0,L.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}if("trainingCompleted"===t){var d=Object.keys(a);return d.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(d.reduce(function(e,t){return a[t]?[].concat((0,L.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}return"status"===t?(o.push({label:"".concat(c,": ").concat(en.UO[a].label),onRemove:l}),0):"lastActiveFrom"===t?(o.push({label:"Last active from: ".concat((0,Q.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):"lastActiveTo"===t?(o.push({label:"Last active to: ".concat((0,Q.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):Array.isArray(a)?(0===a.length||o.push({label:"".concat(c,": ").concat(a.join(", ")),onRemove:l}),0):void o.push({label:"".concat(c,": ").concat(a),onRemove:l})}())continue;return o},eo=function(){var e=E(),t=e.filters,n=e.removeFilter,r=e.resetFilters,o=er({filters:t,removeFilter:n});return 0===o.length?null:(0,B.BX)(ee.Flex,{alignItems:"flex-end",flexWrap:"wrap",gap:.75,children:[(0,B.tZ)(et.$G,{heading:(0,B.tZ)($.Text,{as:"h3",fontWeight:"bold",children:"Active filters"}),items:o}),(0,B.tZ)(C.Button,{iconAfter:S.Tw,onClick:r,size:"sm",variant:"text",children:"Clear filters"})]})},ei=n(63087),ea=n(63518),ec=n(34456),el=n(11752),es=(0,O.F4)(r||(r=(0,el.Z)(["\n  0% { opacity: 0.84; }\n  100% { opacity: 0.2 }\n"]))),ed=function(e){var t=e.fontSize,n=e.lineHeight,r=e.height,o=e.width;return(0,B.tZ)(T.Box,{"aria-hidden":!0,css:(0,O.iv)({animation:"".concat(es," 1200ms ").concat(k.tokens.transition.timingFunction," infinite alternate"),backgroundColor:k.boxPalette.border,cursor:"progress","&::before":{content:'"\\00a0"'}},"",""),display:"block",fontSize:void 0===t?"sm":t,height:void 0===r?"auto":r,highContrastOutline:!0,lineHeight:void 0===n?"default":n,rounded:!0,width:void 0===o?"100%":o})},eu=n(73933),ef=function(e){var t=e.fontSize,n=e.lineHeight,r=e.width;return(0,B.tZ)(ed,{fontSize:void 0===t?"sm":t,lineHeight:void 0===n?"default":n,width:void 0===r?"100%":r})},ep=n(18607),eb=n(77797),eh=n(78010),eg=n(7150),em=n(40958),ev=n(24377),ey=n(13690),eO=n(39173),ew=function(e){var t=e.currentRole,n=e.isOpen,r=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],s=(0,o.useState)(t),d=s[0],u=s[1],f=(0,o.useCallback)(function(e){return function(){return u(e)}},[]),p=function(e){return e===d};return(0,B.tZ)(ev.Drawer,{actions:(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{form:"change-role-drawer",loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Change role"}),(0,B.tZ)(C.Button,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:n,onClose:r,title:"Change role",children:(0,B.tZ)("form",{id:"change-role-drawer",children:(0,B.BX)(ey.ControlGroup,{block:!0,label:"Export service role",required:!0,children:[(0,B.BX)(eO.Radio,{checked:p("Manager"),onChange:f("Manager"),children:["Manager","Manager"===t&&" (current role)"]}),(0,B.BX)(eO.Radio,{checked:p("Employee"),onChange:f("Employee"),children:["Employee","Employee"===t&&" (current role)"]}),(0,B.BX)(eO.Radio,{checked:p("Trainee"),onChange:f("Trainee"),children:["Trainee","Trainee"===t&&" (current role)"]})]})})})},eP=n(25294);function ex(e){var t=e.isOpen,n=e.itemsToPause,r=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],s=(0,o.useMemo)(function(){return Array.isArray(n)?{title:"Are you sure you want to pause access for ".concat(n.length," staff ").concat((0,en.Ho)(n.length,"member","members"),"?"),description:"Access will be paused immediately. You can not undo this action."}:{title:"Are you sure you want to pause access for ".concat(n.name,"?"),description:"Access will be paused immediately. You can not undo this action."}},[n]),d=s.title,u=s.description;return(0,B.tZ)(eP.Modal,{actions:(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Pause access"}),(0,B.tZ)(C.Button,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,B.tZ)($.Text,{as:"p",children:u})})}var eZ=n(41792);function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var ek={Active:{label:"Active",tone:"successMedium"},Invited:{label:"Invited",tone:"inProgressLow"},Paused:{label:"Paused",tone:"pausedLow"}},eS=function(e){var t=e.status;return(0,B.tZ)(ep.TableCell,{children:(0,B.tZ)(eg.StatusBadge,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({appearance:"subtle"},ek[t]))})},eT=function(e){var t=e.children,n=e.item,r=e.itemId,i=e.name,a=e.rowIndex,c=e.selectable,l=F(),s=l.setSuccessMessageType,d=l.setUpdatedStaffMemberName,u=(0,z.M)(),f=u.staffMembersDelete,p=u.staffMembersUpdate,b=E(),h=b.isRowSelected,g=b.toggleRowSelected,m=(0,o.useState)(!1),v=m[0],y=m[1],O=(0,o.useState)(!1),w=O[0],P=O[1],x=(0,o.useState)(!1),Z=x[0],C=x[1];return c?(0,B.BX)(ep.TableRow,{"aria-rowindex":a,selected:h(r),children:[(0,B.tZ)(ep.TableCell,{children:(0,B.tZ)(eh.Checkbox,{checked:h(r),onChange:function(){return g(r)},size:"sm",children:(0,B.tZ)(ec.T,{children:"Select ".concat(i)})})}),t,(0,B.tZ)(ep.TableCell,{children:(0,B.BX)(em.DropdownMenu,{children:[(0,B.tZ)(em.DropdownMenuButton,{"aria-describedby":"".concat(r,"-name"),children:"Actions"}),(0,B.BX)(em.DropdownMenuPanel,{children:[(0,B.tZ)(em.DropdownMenuItem,{onClick:function(){P(!0)},children:"Pause access"}),(0,B.tZ)(em.DropdownMenuItem,{onClick:function(){y(!0)},children:"Remove access"})]})]})}),(0,B.tZ)(ew,{currentRole:n.role,isOpen:Z,onClose:function(){return C(!1)},onConfirm:function(){console.log("Change role"),C(!1)}}),(0,B.tZ)(ex,{isOpen:w,itemsToPause:n,onClose:function(){return P(!1)},onConfirm:function(){p({staffToUpdate:n,updates:{status:"Paused"}}),P(!1),null==d||d(n.name),null==s||s("pause")}}),(0,B.tZ)(eZ.E,{isOpen:v,itemsToDelete:n,onClose:function(){return y(!1)},onConfirm:function(){f(n),y(!1),null==d||d(n.name),null==s||s("remove")}})]}):(0,B.tZ)(ep.TableRow,{"aria-rowindex":a,children:t})};function ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ej(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eA=function(){var e=F(),t=e.setSuccessMessageType,n=e.setUpdatedStaffMemberName,r=(0,z.M)(),i=r.staffMembersDelete,a=r.staffMembersUpdate,c=E(),l=c.selection,s=c.clearRowSelections,d=F().displayData,u=(0,o.useMemo)(function(){return d.reduce(function(e,t){return null!=t&&t.name?eB(eB({},e),{},(0,w.Z)({},t.id,t)):e},{})},[d]),f=l.map(function(e){return u[e]}),p=(0,o.useState)(!1),b=p[0],h=p[1],g=(0,o.useState)(!1),m=g[0],v=g[1],y=(0,o.useState)(!1),O=y[0],P=y[1];return l.length?(0,B.BX)(ep.TableBatchActionsBar,{children:[(0,B.BX)(ep.TableBatchActionsTitle,{children:["Apply action to ",l.length," ",(0,en.Ho)(l.length,"item","items")]}),(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{onClick:function(){v(!0)},size:"sm",variant:"secondary",children:"Pause access"}),(0,B.tZ)(C.Button,{onClick:function(){h(!0)},size:"sm",variant:"secondary",children:"Remove access"}),(0,B.tZ)(C.Button,{onClick:s,size:"sm",variant:"tertiary",children:"Cancel"})]}),(0,B.tZ)(ew,{isOpen:O,onClose:function(){return P(!1)},onConfirm:function(){console.log("Change role"),P(!1)}}),(0,B.tZ)(ex,{isOpen:m,itemsToPause:f,onClose:function(){return v(!1)},onConfirm:function(){a({staffToUpdate:f,updates:{status:"Paused"}}),v(!1),s(),null==n||n("".concat(f.length," ").concat(f.length>1?"people":"person")),null==t||t(f.length>1?"pauseBatch":"pause")}}),(0,B.tZ)(eZ.E,{isOpen:b,itemsToDelete:f,onClose:function(){return h(!1)},onConfirm:function(){i(f),h(!1),s(),null==n||n("".concat(f.length," ").concat(f.length>1?"people":"person")),null==t||t(f.length>1?"removeBatch":"remove")}})]}):null},eD="data-table",eE="data-table-description",eR=(0,o.forwardRef)(function(e,t){var n=e.headingId,r=e.selectable,i=E(),a=i.sort,c=i.setSort,l=i.pagination,s=i.resetFilters,d=F(),u=d.displayData,f=d.loading,p=d.totalItems,b=d.error,h=!!a||!!c,g=(0,en.KD)({loading:f,totalItems:p,pagination:l});return b?(0,B.BX)(Z.Stack,{gap:1,id:eD,role:"alert",children:[(0,B.tZ)(S.AlertFilledIcon,{color:"error",size:"lg"}),(0,B.tZ)(eu.Heading,{fontSize:"lg",type:"h2",children:"Failed to load"}),(0,B.tZ)($.Text,{children:"There was an error loading the data. Please try refreshing the page to try again."})]}):f||0!==u.length?(0,B.BX)(Z.Stack,{gap:.5,children:[n?(0,B.tZ)("div",{css:ec.visuallyHiddenStyles,id:eE,children:"Table column headers with buttons are sortable."}):null,(0,B.tZ)("div",{css:ec.visuallyHiddenStyles,role:"status",children:f?"Loading staff members":""}),(0,B.tZ)(ep.TableWrapper,{children:(0,B.BX)(ep.Table,{"aria-labelledby":n?"".concat(n," ").concat(eE):void 0,"aria-rowcount":p,id:eD,ref:t,tabIndex:-1,tableLayout:"fixed",children:[!n&&(0,B.BX)(ep.R,{children:[g,(0,B.tZ)(ec.T,{children:", column headers with buttons are sortable."})]}),(0,B.tZ)(ep.TableHead,{children:(0,B.BX)(ep.TableRow,{"aria-rowindex":1,children:[r&&(0,B.tZ)(ep.TableHeader,{scope:"col",width:"5rem",children:"Select"}),eI.map(function(e){var t=e.isSortable,n=e.label,r=e.sortKey,o=e.width;if(h&&t){var i=(null==a?void 0:a.field)===r;return(0,B.tZ)(ep._,{onClick:function(){return null==c?void 0:c({field:r,order:(null==a?void 0:a.field)===r&&(null==a?void 0:a.order)==="ASC"?"DESC":"ASC"})},sort:i?null==a?void 0:a.order:void 0,width:o,children:n},r)}return(0,B.tZ)(ep.TableHeader,{scope:"col",width:o,children:n},r)})]})}),(0,B.tZ)(ep.TableBody,{children:f?(0,B.tZ)(o.Fragment,{children:Array.from(Array(l.perPage).keys()).map(function(e){return(0,B.BX)(ep.TableRow,{children:[r&&(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ef,{}),(0,B.tZ)(ec.T,{children:"Loading"})]}),(0,B.BX)(ep.TableCell,{children:[(0,B.tZ)(ed,{height:32}),(0,B.tZ)(ec.T,{children:"Loading"})]})]},e)})}):(0,B.tZ)(o.Fragment,{children:u.map(function(e){var t=e.index,n=e.name,o=e.role,i=e.status,a=e.lastActive,c=e.dateJoined;return(0,B.BX)(eT,{item:e,itemId:e.id,name:n,rowIndex:t+2,selectable:r,children:[(0,B.tZ)(ep.TableCell,{as:"th",fontWeight:"bold",scope:"row",children:(0,B.tZ)(eb.TextLink,{href:"/app/staff/".concat(e.name.toLowerCase().replaceAll(" ","-")),id:"".concat(e.id,"-name"),children:n})}),(0,B.tZ)(ep.TableCell,{children:o}),(0,B.tZ)(eS,{status:i}),(0,B.tZ)(ep.TableCell,{children:a&&"".concat((0,ea.Z)(new Date,new Date(a))," ago")}),(0,B.tZ)(ep.TableCell,{children:c&&(0,Q.Z)(new Date(c),"d MMMM yyyy")})]},n)})})})]})}),(0,B.tZ)(eA,{})]}):(0,B.BX)(Z.Stack,{alignItems:"flex-start",gap:2,id:eD,paddingY:1,role:"status",children:[(0,B.BX)(Z.Stack,{gap:1,children:[(0,B.tZ)(S.HelpIcon,{color:"muted",size:"lg"}),(0,B.tZ)(eu.Heading,{fontSize:"lg",type:"h2",children:"No results found"}),(0,B.tZ)($.Text,{children:"Try adjusting your filter options."})]}),(0,B.tZ)(C.Button,{onClick:s,children:"Clear filters"})]})}),eI=[{label:"Name",sortKey:"name",width:"20rem",isSortable:!0},{label:"Role",sortKey:"role",width:"12rem",isSortable:!0},{label:"Status",sortKey:"status",width:"12rem",isSortable:!0},{label:"Last active",sortKey:"lastActive",width:"12rem",isSortable:!0},{label:"Date joined",sortKey:"dateJoined",width:"14rem",isSortable:!0},{label:"Actions",sortKey:"actions",width:"9rem",isSortable:!1}],eF=function(){var e=E(),t=e.sort,n=e.setSort;return(0,B.tZ)(ei.Select,{"aria-controls":eD,hideOptionalLabel:!0,label:"Sort by",onChange:function(e){var t=e.target.value.split("-"),r=(0,P.Z)(t,2);n({field:r[0],order:r[1]})},options:[{value:"name-ASC",label:"Name (A-Z)"},{value:"name-DESC",label:"Name (Z-A)"},{value:"role-ASC",label:"Role (A-Z)"},{value:"role-DESC",label:"Role (Z-A)"},{value:"status-ASC",label:"Status (A-Z)"},{value:"status-DESC",label:"Status (Z-A)"},{value:"lastActive-ASC",label:"Last active (oldest first)"},{value:"lastActive-DESC",label:"Last active (newest first)"},{value:"dateJoined-ASC",label:"Date joined (oldest first)"},{value:"dateJoined-DESC",label:"Date joined (newest first)"}],value:"".concat(t.field,"-").concat(t.order)})},eL=n(75136),eW=n(3096),eN=n(5539);function eX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eX(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eH=function(e){var t=e.isDrawerOpen,n=e.closeDrawer,r=E(),i=r.filters,a=r.setFilters,c=r.resetFilters,l=(0,o.useState)(i),s=l[0],d=l[1],u=(0,o.useState)(!1),f=u[0],p=u[1],b=(0,o.useState)(!1),h=b[0],g=b[1],m=(0,o.useRef)(null),v=(0,o.useRef)(null);(0,o.useEffect)(function(){d(i)},[i]);var y=function(){n(),p(!1),g(!1),d(i)},O=function(){throw Error("Not implemented")},P=function(e){return function(t){return d(function(n){return eM(eM({},n),{},{role:eM(eM({},n.role),{},(0,w.Z)({},e,t.target.checked))})})}},x=function(e){return function(t){return d(function(n){return eM(eM({},n),{},{trainingCompleted:eM(eM({},n.trainingCompleted),{},(0,w.Z)({},e,t.target.checked))})})}};return(0,B.tZ)(D,{value:{filters:s,setFilters:d,setFilter:function(e){d(eM(eM({},s),e))},sort:{field:"dateJoined",order:"ASC"},setSort:O,removeFilter:O,resetFilters:O,pagination:{page:1,perPage:1},setPagination:O,selection:[],isRowSelected:O,toggleRowSelected:O,selectRows:O,clearRowSelections:O},children:(0,B.tZ)(ev.Drawer,{actions:(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{form:"staff-filters-form",onClick:function(){var e,t;if(h&&!f){null===(e=v.current)||void 0===e||e.focus();return}if(f){null===(t=m.current)||void 0===t||t.focus();return}a(s),n()},children:"Apply filters"}),(0,B.tZ)(C.Button,{onClick:function(){p(!1),g(!1),c(),d(X)},variant:"secondary",children:"Clear filters"}),(0,B.tZ)(C.Button,{onClick:y,variant:"tertiary",children:"Cancel"})]}),isOpen:t,onClose:y,title:"Filter by",children:(0,B.tZ)("form",{id:"staff-filters-form",children:(0,B.BX)(eL.FormStack,{children:[(0,B.BX)(ey.ControlGroup,{block:!0,hideOptionalLabel:!0,label:"Role",children:[(0,B.tZ)(eW.Checkbox,{checked:s.role.Manager,onChange:P("Manager"),value:"manager",children:"Manager"}),(0,B.tZ)(eW.Checkbox,{checked:s.role.Employee,onChange:P("Employee"),value:"employee",children:"Employee"}),(0,B.tZ)(eW.Checkbox,{checked:s.role.Trainee,onChange:P("Trainee"),value:"trainee",children:"Trainee"}),(0,B.tZ)(eW.Checkbox,{checked:s.role["Work experience"],onChange:P("Work experience"),value:"work-experience",children:"Work experience"})]}),(0,B.BX)(ey.ControlGroup,{block:!0,hideOptionalLabel:!0,label:"Training completed",children:[(0,B.tZ)(eW.Checkbox,{checked:s.trainingCompleted.Deliveries,onChange:x("Deliveries"),value:"deliveries",children:"Deliveries"}),(0,B.tZ)(eW.Checkbox,{checked:s.trainingCompleted.Distribution,onChange:x("Distribution"),value:"distribution",children:"Distribution"}),(0,B.tZ)(eW.Checkbox,{checked:s.trainingCompleted["Ice cream making"],onChange:x("Ice cream making"),value:"ice-cream-making",children:"Ice cream making"}),(0,B.tZ)(eW.Checkbox,{checked:s.trainingCompleted.Packaging,onChange:x("Packaging"),value:"packaging",children:"Packaging"})]}),(0,B.tZ)(eN.DateRangePickerNext,{fromInputRef:m,fromInvalid:f,fromLabel:"From date",legend:"Last active",message:f&&h?"From date and To date is invalid":f?"From date is invalid":h?"To date is invalid":void 0,onChange:function(e){var t,n,r,o,i=(t=e.from,n=e.to,!!t&&!(0,eN.isValidDate)(t,{toDate:n})),a=(r=e.to,o=e.from,!!r&&!(0,eN.isValidDate)(r,{fromDate:o}));p(i),g(a),d(function(t){return eM(eM({},t),{},{lastActiveFrom:!e.from||i?e.from:new Date(e.from).toISOString(),lastActiveTo:!e.to||a?e.to:new Date(e.to).toISOString()})})},required:!0,toInputRef:v,toInvalid:h,toLabel:"To date",value:{from:s.lastActiveFrom,to:s.lastActiveTo}})]})})})})},ez=n(90089),e_=n(13306),eG=n(66338);function eq(e){var t=e.children,n=e.maxWidth;return(0,B.tZ)("div",{css:(0,O.iv)({position:"relative",maxWidth:n},"",""),children:t})}function eY(e){var t=e.disabled,n=e.onClick;return(0,B.tZ)(ee.Flex,{alignItems:"center","aria-label":"Clear search",css:(0,O.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,k.mapSpacing)(.5)," + ").concat(k.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)",opacity:t?.3:void 0,cursor:"pointer",color:k.boxPalette.foregroundAction,"&:hover":{color:k.boxPalette.foregroundText}},"",""),height:"2rem",justifyContent:"center",onClick:n,role:"button",width:"2rem",children:(0,B.tZ)(S.Tw,{color:"inherit"})})}function eU(e){var t=e.disabled;return(0,B.tZ)(S.W1,{color:"muted",css:(0,O.iv)({position:"absolute",top:"50%",left:"calc(".concat((0,k.mapSpacing)(.75)," + ").concat(k.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)",pointerEvents:"none",opacity:t?.3:void 0},"",""),size:"md",weight:"regular"})}var eK=["label","hideOptionalLabel","required","hint","message","invalid","block","maxWidth","id","disabled","value","onChange","onClear"],eJ=["maxWidth"];function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e$=(0,o.forwardRef)(function(e,t){var n,r,i,a,c,l=e.label,s=e.hideOptionalLabel,d=e.required,u=e.hint,f=e.message,p=e.invalid,b=e.block,h=e.maxWidth,g=void 0===h?"md":h,m=e.id,v=e.disabled,y=e.value,O=e.onChange,w=e.onClear,x=(0,ez.Z)(e,eK),Z=(0,o.useRef)(null),C=(0,o.useState)(y||""),S=C[0],T=C[1],j="string"==typeof y?y:S,A=function(e){null==O||O(e),T(e)},D=function(){var e;j&&(A(""),null==w||w(),null===(e=Z.current)||void 0===e||e.focus())},E=function(e){"Escape"===e.code&&D()},R=!!j,I=(r=(n={block:b,maxWidth:g,showClearButton:R}).block,i=n.maxWidth,a=n.showClearButton,[(c=(0,eG.c)({block:r,maxWidth:i})).maxWidth,eQ(eQ(eQ({},(0,ez.Z)(c,eJ)),{},{width:"100%",maxWidth:void 0,paddingLeft:"3rem"},a&&{paddingRight:"3rem"}),{},{"&::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{display:"none"}})]),F=(0,P.Z)(I,2),L=F[0],W=F[1];return(0,B.tZ)(e_.gN,{hideOptionalLabel:s,hint:u,id:m,invalid:p,label:l,maxWidth:g,message:f,required:d,children:function(e){return(0,B.BX)(eq,{maxWidth:L,children:[(0,B.tZ)(eU,{disabled:v}),(0,B.tZ)("input",eQ(eQ({autoComplete:"off",css:W,disabled:v,onChange:function(e){return A(e.target.value)},onKeyDown:E,ref:(0,k.lq)([Z,t]),type:"search",value:j},e),x)),R?(0,B.tZ)(eY,{disabled:v,onClick:D}):null]})}})}),e0=function(e){var t=e.block,n=E(),r=n.filters,o=n.setFilter;return(0,B.tZ)("div",{"aria-label":"Staff members",role:"search",children:(0,B.tZ)(e$,{"aria-controls":eD,block:t,hideOptionalLabel:!0,label:"Search name",maxWidth:"lg",onChange:function(e){o({name:e})},value:r.name||""})})},e1=function(e){var t=e.children;return(0,B.tZ)(Z.Stack,{"aria-label":"Filters",as:"section",borderBottom:!0,gap:1,paddingBottom:1.5,children:t})},e2=function(e){var t=e.children;return(0,B.tZ)(ee.Flex,{alignItems:{xs:"stretch",lg:"flex-end"},columnGap:1,flexDirection:{xs:"column",lg:"row"},justifyContent:{xs:"flex-start",md:"space-between"},rowGap:1.5,children:t})},e5=function(e){var t=e.children;return(0,B.tZ)(ee.Flex,{alignItems:{xs:"stretch",md:"flex-end"},columnGap:1,flexDirection:{xs:"column",md:"row"},flexWrap:"wrap",rowGap:1.5,children:t})},e8=function(e){var t=e.children,n=e["aria-label"];return(0,B.tZ)("nav",{"aria-label":n,children:(0,B.tZ)(ee.Flex,{alignItems:"center",as:"ol",flexWrap:"wrap",justifyContent:"center",children:t})})},e7=function(e){var t=e.children,n=e.hasRightArea;return(0,B.tZ)(ee.Flex,{alignItems:"center",flexDirection:{xs:"column",lg:"row"},flexWrap:"wrap",gap:1,justifyContent:n?"space-between":"center",children:t})},e3=function(e){var t=e.children;return(0,B.tZ)(ee.Flex,{alignItems:"center",columnGap:2,flexDirection:{xs:"column",lg:"row"},rowGap:1,children:t})},e9="2.75rem",e4="3rem",e6=["children"],te=["as","children","direction"];function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tr(e){var t=e.direction,n=e.onClick;return(0,B.tZ)(to,{direction:t,children:(0,B.tZ)(ti,{"aria-label":"Go to ".concat("left"==t?"previous":"next"," page"),direction:t,onClick:n,children:"left"===t?"Previous":"Next"})})}function to(e){var t=e.children,n=e.direction;return(0,B.tZ)(T.Box,{as:"li",paddingLeft:"right"===n?{sm:1}:void 0,paddingRight:"left"===n?{sm:1}:void 0,children:t})}var ti=function(e){var t=e.children,n=(0,ez.Z)(e,e6);return(0,B.tZ)(ta,tn(tn({as:C.Yd},n),{},{children:t}))},ta=function(e){var t=e.as,n=e.children,r=e.direction,o=(0,ez.Z)(e,te);return(0,B.BX)(ee.Flex,tn(tn({alignItems:"center",as:t,css:(0,O.iv)(tn({alignSelf:"flex-start"},k.S0.hideHref),"",""),focusRingFor:"keyboard",fontFamily:"body",fontWeight:"normal",gap:.5,height:{xs:e9,sm:e4},inline:!0,justifyContent:"center",link:!0,width:{xs:e9,sm:"auto"}},o),{},{children:["left"===r?(0,B.tZ)(S.Y4,{size:"sm"}):null,(0,B.tZ)(T.Box,{as:"span",display:["none","inline"],children:n}),"right"===r?(0,B.tZ)(S.LZ,{size:"sm"}):null]}))},tc=(0,k.yV)(function(e,t){var n=e.pageNumber,r=e.onClick,o=e.isActive;return(0,B.tZ)("li",{children:(0,B.tZ)(ee.Flex,{alignItems:"center","aria-current":o?"page":void 0,"aria-label":"Go to page ".concat(n),as:C.Yd,css:o?{color:k.boxPalette.foregroundText,textDecoration:"none"}:void 0,focusRingFor:"keyboard",fontWeight:o?"bold":"normal",height:{xs:e9,sm:e4},justifyContent:"center",link:!0,onClick:r,ref:t,width:{xs:e9,sm:e4},children:n})})});function tl(e){var t=e.isLinks,n=e.missingLeftPageNumber,r=e.missingRightPageNumber;return(0,B.tZ)(ee.Flex,{alignItems:"center","aria-label":"… Pages ".concat(n," to ").concat(r," are hidden. Use the Previous and Next ").concat(t?"links":"buttons"," to navigate"),as:"li",height:{sm:e4},justifyContent:"center",width:{sm:e4},children:(0,B.tZ)($.Text,{children:"…"})})}var ts=["label","maxWidth","options","placeholder","id"];function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tf=function(e){var t=e.label,n=e.maxWidth,r=e.options,o=e.placeholder,i=e.id,a=(0,ez.Z)(e,ts);return(0,B.BX)(ee.Flex,{alignItems:"center",gap:1,children:[(0,B.tZ)($.Text,{as:"label",fontWeight:"bold",htmlFor:i,children:t}),(0,B.BX)("div",{css:(0,O.iv)({position:"relative",maxWidth:k.tokens.maxWidth.field[void 0===n?"md":n]},"",""),children:[(0,B.tZ)("select",tu(tu({css:th,id:i},a),{},{children:(0,B.tZ)(tp,{options:r,placeholder:o})})),(0,B.tZ)(tb,{})]})]})},tp=function(e){var t=e.options,n=e.placeholder;return(0,B.BX)(o.Fragment,{children:[n?(0,B.tZ)("option",{value:"",children:n}):null,t.map(function(e){return"options"in e?(0,B.tZ)("optgroup",{disabled:e.disabled,label:e.label,children:e.options.map(function(e){var t=e.value,n=e.label,r=e.disabled;return(0,B.tZ)("option",{disabled:r,value:t,children:n},t)})},e.label):(0,B.tZ)("option",{disabled:e.disabled,value:e.value,children:e.label},e.value)})]})},tb=function(e){var t=e.disabled;return(0,B.tZ)(S.v4,{css:(0,O.iv)({position:"absolute",top:"50%",right:(0,k.mapSpacing)(.75),transform:"translateY(-50%)",opacity:t?.3:void 0,pointerEvents:"none",color:k.boxPalette.foregroundAction},"","")})},th=tu(tu(tu({position:"relative",appearance:"none",boxSizing:"border-box",paddingLeft:(0,k.mapSpacing)(1),paddingRight:"calc(".concat(k.tokens.borderWidth.lg,"px + 2.5rem)"),margin:0,background:k.boxPalette.backgroundBody,borderWidth:k.tokens.borderWidth.lg,borderStyle:"solid",borderColor:k.boxPalette.border,borderRadius:k.tokens.borderRadius,color:k.boxPalette.foregroundText,width:"100%",fontFamily:k.tokens.font.body},k.lB.input.md),{},{lineHeight:k.tokens.lineHeight.default},k.lB.truncate),{},{"&:disabled":{opacity:1,cursor:"not-allowed",borderColor:k.boxPalette.borderMuted,backgroundColor:k.boxPalette.backgroundShade,color:k.boxPalette.foregroundMuted},"&:focus":k.lB.outline}),tg=function(e){var t=e.value,n=e.options,r=e.onChange,o=(0,k.Me)();return(0,B.tZ)(tf,{id:"pagination-per-page-select-".concat(o),label:"Items per page",maxWidth:"sm",onChange:function(e){return r(Number(e.target.value))},options:(void 0===n?[10,20,50,100]:n).map(function(e){return{label:"".concat(e),value:"".concat(e)}}),value:"".concat(t)})};function tm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tv(e){var t,n=e["aria-label"],r=e.currentPage,i=e.itemRangeText,a=e.itemsPerPage,c=e.itemsPerPageOptions,l=e.onChange,s=e.onItemsPerPageChange,d=e.totalPages,u=e.windowLimit,f=(0,o.useState)(!1),p=f[0],b=f[1],h=(0,o.useRef)(null),g=function(e){var t=e.currentPage,n=e.totalPages,r=e.windowLimit,o=[],i=1,a=n;if(r<n){var c=Math.floor(r/2);i=t-(c+r%2-1),a=t+c,i<1&&(a=r,i=1),a>n&&(i=n-r+1,a=n)}t>1&&o.push({type:"direction",direction:"left",pageNumber:t-1}),i>1&&(o.push({type:"page",pageNumber:1,isActive:1===t}),i>3?o.push({type:"separator",pageNumber:0}):2!==i&&o.push({type:"page",pageNumber:2,isActive:2===t}));for(var l=i;l<=a;l++){var s=l===t;o.push({type:"page",pageNumber:l,isActive:s})}return a+1<n&&(a+1!==n-1?o.push({type:"separator",pageNumber:0}):o.push({type:"page",pageNumber:n-1,isActive:n-1===t})),a<n&&o.push({type:"page",pageNumber:n,isActive:n===t}),t<n&&o.push({type:"direction",direction:"right",pageNumber:t+1}),o}({currentPage:r,totalPages:d,windowLimit:void 0===u?3:u}),m=!!(a&&s||i);return p&&1===r&&(null===(t=h.current)||void 0===t||t.focus(),b(!1)),(0,B.BX)(e7,{hasRightArea:m,children:[(0,B.tZ)(e8,{"aria-label":void 0===n?"Pagination":n,children:g.map(function(e,t){switch(e.type){case"direction":return(0,B.tZ)(tr,{direction:e.direction,onClick:function(){l(e.pageNumber),1===e.pageNumber&&b(!0)}},e.direction);case"page":return(0,B.tZ)(tc,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tm(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isActive:e.isActive,onClick:function(){return l(e.pageNumber)},pageNumber:e.pageNumber},1===e.pageNumber&&{ref:h}),e.pageNumber);case"separator":return(0,B.tZ)(tl,{isLinks:!1,missingLeftPageNumber:g[t-1].pageNumber+1,missingRightPageNumber:g[t+1].pageNumber-1},"".concat(t,"-separator"));default:return null}})}),m&&(0,B.BX)(e3,{children:[i&&(0,B.tZ)($.Text,{role:"status",children:i}),a&&s&&(0,B.tZ)(tg,{onChange:s,options:c,value:a})]})]})}var ty=function(){var e,t,n,r,i,a,c,l,s=E(),d=s.pagination,u=s.setPagination,f=F(),p=f.displayData,b=f.totalItems,h=f.totalPages,g=f.loading,m=(t=(e={totalItems:b,currentPage:d.page,itemsPerPage:d.perPage,singularNoun:"item",pluralNoun:"items"}).totalItems,n=e.itemsPerPage,r=e.currentPage,i=e.singularNoun,a=e.pluralNoun,c=1===t?void 0===i?"item":i:void 0===a?"items":a,l=Math.min((r-1)*n+n,t),"".concat((r-1)*n+1," – ").concat(l," of ").concat(t," ").concat(c)),v=(0,o.useState)({page:d.page,itemRangeText:m,perPage:d.perPage}),y=v[0],O=v[1];return((0,o.useEffect)(function(){g||O({page:d.page,itemRangeText:m,perPage:d.perPage})},[m,g,d.page,d.perPage]),p.length)?(0,B.tZ)(tv,{currentPage:y.page,itemRangeText:y.itemRangeText,itemsPerPage:y.perPage,onChange:function(e){return u({perPage:y.perPage,page:e})},onItemsPerPageChange:function(e){return u({page:tO({currentPage:d.page,totalItems:b,perPage:e,prevPerPage:d.perPage}),perPage:e})},totalPages:h}):null},tO=function(e){var t=e.currentPage,n=e.totalItems,r=e.perPage,o=e.prevPerPage;return t>n/r?Math.ceil(n/r):Math.floor(Math.floor(t*o+(1-o))/r+1)},tw=function(){var e,t,n,r,i,a,c,l,s=(e=F().displayData,n=(t=E()).selection,r=t.selectRows,i=t.clearRowSelections,a=(0,o.useMemo)(function(){return e.map(function(e){return e.id})},[e]),c=(0,o.useMemo)(function(){return n.length>0},[n]),{isSelectAllCheckboxChecked:l=(0,o.useMemo)(function(){return a.length>0&&a.every(function(e){return n.includes(e)})},[a,n]),isSelectAllCheckboxIndeterminate:!l&&c,toggleAllRowsSelected:function(){l?i():r(a)}}),d=s.toggleAllRowsSelected,u=s.isSelectAllCheckboxChecked,f=s.isSelectAllCheckboxIndeterminate;return(0,B.tZ)(eh.Checkbox,{checked:u,indeterminate:f,onChange:d,size:"sm",children:"Select all rows"})},tP=n(87466),tx={sm:{borderWidth:k.lB.control.sm.borderWidth,height:k.lB.control.sm.height,thumbCheckedPos:"1.25rem",width:"2.75rem"},md:{borderWidth:k.lB.control.md.borderWidth,height:k.lB.control.md.height,thumbCheckedPos:"1.5rem",width:"3.5rem"}};function tZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tC(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tk={name:"sfltnx",styles:"position:relative;flex-shrink:0"},tS=function(e){var t=e.children,n=tx[e.size],r=n.width,o=n.height;return(0,B.tZ)(T.Box,{as:"span",css:tk,height:o,width:r,children:t})},tT=function(e){var t=e.checked,n=tx[e.size],r=n.borderWidth,o=n.height;return(0,B.tZ)(T.Box,{as:"span",css:(0,O.iv)(tC(tC({borderWidth:r,borderStyle:"solid",borderRadius:o,position:"absolute",inset:0},k.S0.exactColor),t?{backgroundColor:k.boxPalette.selected,borderColor:k.boxPalette.selected}:{borderColor:k.boxPalette.border,backgroundColor:k.boxPalette.backgroundShade}),"","")})},tj={sm:{prop:"sm",actual:"0.875rem"},md:{prop:"md",actual:"1.375rem"}},tB=function(e){var t=e.checked,n=e.size,r=tx[n],o=r.thumbCheckedPos,i=r.borderWidth,a=r.height,c=tj[n];return(0,B.tZ)(ee.Flex,{alignItems:"center",as:"span",background:"body",css:(0,O.iv)({borderRadius:a,borderWidth:i,borderStyle:"solid",borderColor:t?k.boxPalette.selected:k.boxPalette.foregroundAction,position:"absolute",transition:"left ".concat(k.tokens.transition.duration,"ms ").concat(k.tokens.transition.timingFunction),left:t?o:"0rem"},"",""),height:a,justifyContent:"center",width:a,children:t&&(0,B.tZ)(S.nQ,{color:"selected",css:(0,O.iv)({width:c.actual,height:c.actual},"",""),size:c.prop,weight:"bold"})})},tA=["size","label","onChange","checked"];function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tR=function(e){var t=e.size,n=void 0===t?"md":t,r=e.label,o=e.onChange,i=e.checked,a=(0,ez.Z)(e,tA);return(0,B.BX)(ee.Flex,{alignItems:"center",as:"label",css:(0,O.iv)({width:"fit-content",cursor:"pointer","&:hover":{"& input:not(:focus) ~ span:first-of-type":{borderColor:k.boxPalette.foregroundText,backgroundColor:i?k.boxPalette.foregroundText:k.boxPalette.backgroundShadeAlt},"& input:not(:focus) ~ span:last-of-type":{borderColor:k.boxPalette.foregroundText,"& svg":{stroke:i?k.boxPalette.foregroundText:void 0}}}},"",""),gap:.75,children:[(0,B.BX)(tS,{size:n,children:[(0,B.tZ)("input",{"aria-checked":i,"aria-controls":a["aria-controls"],checked:i,css:(0,O.iv)(tE(tE({},ec.visuallyHiddenStyles),{},{"&:focus-visible ~ span:first-of-type":k.lB.outline}),"",""),onChange:function(){return o(!i)},role:"switch",type:"checkbox"}),(0,B.tZ)(tT,{checked:i,size:n}),(0,B.tZ)(tB,{checked:i,size:n})]}),(0,B.tZ)($.Text,{children:r})]})},tI=function(){var e=E(),t=e.filters,n=e.setFilter;return(0,B.tZ)(tP.Box,{paddingBottom:.5,children:(0,B.tZ)(tR,{"aria-controls":eD,checked:t.activeUsers,label:"Active users",onChange:function(e){n({activeUsers:e})}})})};function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tW={invite:{description:"will receive an email asking them to create a staff account.",titlePrefix:"An email invitation has been sent to",titleSuffix:""},update:{description:null,titlePrefix:"",titleSuffix:"has been updated"},pause:{description:null,titlePrefix:"",titleSuffix:"has been paused as a staff member"},pauseBatch:{description:null,titlePrefix:"",titleSuffix:"have been paused as staff members"},remove:{description:null,titlePrefix:"",titleSuffix:"has been removed as a staff member"},removeBatch:{description:null,titlePrefix:"",titleSuffix:"have been removed as a staff members"}},tN=function(e){var t,n,r,i,a,c,l,s,u,f,p,b,h,g,m,v,y,w,A=e.selectable,E=e.tableRef,R=(0,x.useRouter)(),F=(0,o.useRef)(null),L=(0,z.M)(),W=L.staffMembersGetState,N=L.staffMembersDelete,X=(0,k.useTernaryState)(!1),H=(0,P.Z)(X,3),_=H[0],G=H[1],q=H[2],Y=M(),U=(n=(t={filters:Y.filters,pagination:Y.pagination,sort:Y.sort}).sort,r=t.filters,i=t.pagination,a=t.throwError,l=(c=(0,o.useState)(!0))[0],s=c[1],f=(u=(0,o.useState)([]))[0],p=u[1],h=(b=(0,o.useState)(0))[0],g=b[1],v=(m=(0,o.useState)(0))[0],y=m[1],w=(0,(0,z.M)().staffMembersGetState)(),((0,o.useEffect)(function(){s(!0),(function(e,t){return V.apply(this,arguments)})(w,{sort:n,filters:r,pagination:i}).then(function(e){p(e.displayData),g(e.totalPages),y(e.totalItems),s(!1)})},[w,n,r,i]),a)?{error:"Something went wrong",loading:!1,displayData:[],totalPages:0,totalItems:0}:{loading:l,displayData:f,totalPages:h,totalItems:v}),K=(0,o.useState)(R.query.successType),J=K[0],Q=K[1],$=(0,o.useState)(function(){var e=W().find(function(e){return R.query.staffId===(null==e?void 0:e.id)});return e&&"remove"===R.query.successType&&N(e),(null==e?void 0:e.name)||""}),ee=$[0],et=$[1];return(0,o.useEffect)(function(){J&&ee&&setTimeout(function(){var e;null===(e=F.current)||void 0===e||e.focus()},500)},[J,ee]),(0,B.tZ)(D,{value:Y,children:(0,B.BX)(I,{value:tL(tL({},U),{},{setSuccessMessageType:Q,setUpdatedStaffMemberName:et}),children:[(0,B.tZ)(T.Box,{css:(0,O.iv)({display:J&&ee?"block":"none"},"",""),focusRingFor:"all",ref:F,tabIndex:-1,children:(0,B.tZ)(j.SectionAlert,{onClose:function(){Q(null),R.replace(R.pathname,void 0,{shallow:!0})},title:J?"".concat(tW[J].titlePrefix," ").concat(ee," ").concat(tW[J].titleSuffix):"",tone:"success",children:J&&tW[J].description&&(0,B.BX)(d.Text,{as:"p",children:[ee," ",tW[J].description]})})}),(0,B.BX)(Z.Stack,{gap:0,children:[(0,B.BX)(e1,{children:[(0,B.BX)(e2,{children:[(0,B.BX)(e5,{children:[(0,B.tZ)(e0,{}),(0,B.tZ)(tI,{}),(0,B.tZ)(C.Button,{iconBefore:S.k1,onClick:G,variant:"secondary",children:"Show filters"})]}),(0,B.tZ)(eF,{})]}),(0,B.tZ)(eH,{closeDrawer:q,isDrawerOpen:_}),(0,B.tZ)(eo,{})]}),A&&!!U.totalItems&&(0,B.tZ)(T.Box,{borderBottom:!0,padding:1,children:(0,B.tZ)(tw,{})}),(0,B.tZ)(eR,{headingId:"staff-members-heading",ref:E,selectable:A})]}),(0,B.tZ)(ty,{})]})})},tX=n(27140),tM=n(94609),tH=n(72742),tz=n(75601),t_=n(47753),tG=n(61066);function tq(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose,i=e.itemsToApprove,a=(0,o.useState)(!1),c=a[0],l=a[1],s=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to approve access for ".concat(i.length," staff ").concat((0,en.Ho)(i.length,"member","members"),"?"),description:"Access will be approved immediately."}:{title:"Are you sure you want to approve access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be approved immediately."}},[i]),d=s.title,u=s.description;return(0,B.tZ)(eP.Modal,{actions:(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),n()},1500)},children:"Approve access"}),(0,B.tZ)(C.Button,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,B.tZ)($.Text,{as:"p",children:u})})}function tY(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose,i=e.itemsToReject,a=(0,o.useState)(!1),c=a[0],l=a[1],s=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to remove access for ".concat(i.length," staff ").concat((0,en.Ho)(i.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be removed immediately. You can not undo this action."}},[i]),d=s.title,u=s.description;return(0,B.tZ)(eP.Modal,{actions:(0,B.BX)(C.ButtonGroup,{children:[(0,B.tZ)(C.Button,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),n()},1500)},children:"Reject access"}),(0,B.tZ)(C.Button,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,B.tZ)($.Text,{as:"p",children:u})})}var tU=n(8632),tK=function(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose;return(0,B.tZ)(tU.Modal,{actions:(0,B.tZ)(u.ButtonGroup,{children:(0,B.tZ)(u.Button,{onClick:n,children:"Okay"})}),isOpen:t,onClose:r,title:"This feature is not yet available.",children:(0,B.tZ)(d.Text,{as:"p",children:"Note: the yourGov app is for demonstration purposes only."})})};function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(t){(0,w.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tQ=function(){var e=(0,o.useRef)(null),t=(0,z.M)(),n=t.accessRequestsDelete,r=t.accessRequestsGetState,i=t.accessRequestsUpdate,c=(0,o.useState)([]),l=c[0],f=c[1],p=(0,o.useState)(),h=p[0],g=p[1],m=(0,tz.useTernaryState)(!1),v=(0,P.Z)(m,3),y=v[0],x=v[1],Z=v[2],C=(0,tz.useTernaryState)(!1),k=(0,P.Z)(C,3),S=k[0],T=k[1],A=k[2],D=(0,tz.useTernaryState)(!1),E=(0,P.Z)(D,3),R=E[0],I=E[1],F=E[2],W=(0,o.useState)(),N=W[0],X=W[1],M=(0,o.useState)(),H=M[0],_=M[1],G=r(),q=(0,o.useMemo)(function(){return G.reduce(function(e,t){return null!=t&&t.firstName?tV(tV({},e),{},(0,w.Z)({},t.id,t)):e},{})},[G]),Y=l.map(function(e){return q[e]}),U=function(){return f([])},K=l.length===G.length,J=l.length>0&&!K;return(0,o.useEffect)(function(){N&&H&&setTimeout(function(){var t;null===(t=e.current)||void 0===t||t.focus()},500)},[N,H]),(0,B.BX)(B.HY,{children:[(0,B.tZ)(tP.Box,{css:(0,O.iv)({display:N&&H?"block":"none"},"",""),focusRingFor:"all",ref:e,tabIndex:-1,children:(0,B.tZ)(j.SectionAlert,{onClose:function(){X(void 0)},title:"Access request for ".concat(Array.isArray(N)?N.length:"".concat(null==N?void 0:N.firstName," ").concat(null==N?void 0:N.lastName)," ").concat((0,en.Ho)(Array.isArray(N)?N.length:1,"person has","people have")," been ").concat(H),tone:"success",children:(0,B.BX)(d.Text,{as:"p",children:["Staff members will receive an email letting them know that their request has been ",H,"."]})})}),(0,B.BX)(a.Stack,{gap:.5,children:[0===G.length?(0,B.tZ)(a.Stack,{alignItems:"flex-start",gap:2,paddingY:1,role:"status",children:(0,B.BX)(a.Stack,{gap:1,children:[(0,B.tZ)(tG.AvatarIcon,{color:"muted",size:"lg"}),(0,B.tZ)(s.Heading,{fontSize:"lg",type:"h3",children:"There are no access requests"}),(0,B.tZ)(d.Text,{children:"All access requests have been actioned."})]})}):(0,B.BX)(B.HY,{children:[(0,B.tZ)(tP.Box,{css:(0,O.iv)({marginLeft:(0,tz.mapSpacing)(.75)},"",""),children:(0,B.tZ)(eW.Checkbox,{checked:K,indeterminate:J,onChange:function(){K?U():f(G.map(function(e){return e.id}))},size:"sm",children:"Select all rows"})}),(0,B.tZ)(t_.Divider,{}),(0,B.tZ)(tX.TableWrapper,{children:(0,B.BX)(tX.Table,{"aria-labelledby":"access-requests-heading",children:[(0,B.tZ)(tX.TableHead,{children:(0,B.BX)(tX.TableRow,{children:[(0,B.tZ)(tX.TableHeader,{scope:"col",width:"5rem",children:"Select"}),(0,B.tZ)(tX.TableHeader,{scope:"col",children:"Name"}),(0,B.tZ)(tX.TableHeader,{scope:"col",children:"Role"}),(0,B.tZ)(tX.TableHeader,{scope:"col",children:"Status"}),(0,B.tZ)(tX.TableHeader,{scope:"col",width:"5rem",children:"Actions"})]})}),(0,B.tZ)(tX.TableBody,{children:G.map(function(e){var t="".concat(e.firstName," ").concat(e.lastName);return(0,B.BX)(tX.TableRow,{selected:l.includes(e.id),children:[(0,B.tZ)(tX.TableCell,{children:(0,B.tZ)(eW.Checkbox,{checked:l.includes(e.id),onChange:function(){return f(function(t){return t.includes(e.id)?t.filter(function(t){return t!==e.id}):[].concat((0,L.Z)(t),[e.id])})},size:"sm",children:(0,B.tZ)(ec.T,{children:"Select ".concat(t)})})}),(0,B.tZ)(tX.TableCell,{as:"th",fontWeight:"bold",id:"".concat(e.id,"-name"),scope:"row",children:(0,B.tZ)(tM.TextLink,{href:"/not-found",onClick:function(e){e.preventDefault(),I()},children:t})}),(0,B.tZ)(tX.TableCell,{children:e.role}),(0,B.tZ)(tX.TableCell,{children:(0,B.tZ)(tH.StatusBadge,{appearance:"subtle",label:e.status,tone:"infoMedium"})}),(0,B.tZ)(tX.TableCell,{children:(0,B.BX)(b.Flex,{gap:1,children:[(0,B.tZ)(u.Button,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){g(e),x()},variant:"text",children:"Approve"}),(0,B.tZ)(u.Button,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){g(e),T()},variant:"text",children:"Reject"})]})})]},e.id)})})]})})]}),l.length>0&&(0,B.BX)(tX.TableBatchActionsBar,{children:[(0,B.BX)(tX.TableBatchActionsTitle,{children:["Apply action to ",l.length," ",(0,en.Ho)(l.length,"item","items")]}),(0,B.BX)(u.ButtonGroup,{children:[(0,B.tZ)(u.Button,{onClick:x,size:"sm",variant:"secondary",children:"Approve access"}),(0,B.tZ)(u.Button,{onClick:T,size:"sm",variant:"secondary",children:"Reject access"}),(0,B.tZ)(u.Button,{onClick:U,size:"sm",variant:"tertiary",children:"Cancel"})]})]}),(0,B.tZ)(tq,{isOpen:y,itemsToApprove:h||Y,onClose:function(){Z(),g(void 0)},onConfirm:function(){_("approved"),X(h||Y),U(),i({accessRequestsToUpdate:h||Y,updates:{status:"Active"}}),g(void 0),Z()}}),(0,B.tZ)(tY,{isOpen:S,itemsToReject:h||Y,onClose:function(){A(),g(void 0)},onConfirm:function(){_("rejected"),X(h||Y),U(),n(h||Y),g(void 0),A()}}),(0,B.tZ)(tK,{isOpen:R,onClose:F,onConfirm:F})]})]})},t$=n(28882),t0=function(){var e=(0,t$.w)().selectedBusiness,t=(0,(0,z.M)().accessRequestsGetState)(),n=(0,o.useRef)(null);return(0,B.BX)(o.Fragment,{children:[(0,B.tZ)(h.$,{title:"Staff".concat(null!=e&&e.name?" | ".concat(e.name):"")}),(0,B.tZ)(i.PageContent,{children:(0,B.BX)(a.Stack,{gap:3,children:[(0,B.tZ)(m.V,{callToAction:(0,B.BX)(a.Stack,{gap:2,maxWidth:"42rem",children:[(0,B.tZ)(f.Details,{iconBefore:!0,label:"Why should I invite a new staff member?",children:(0,B.BX)(a.Stack,{gap:1,children:[(0,B.tZ)(d.Text,{as:"p",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,B.tZ)(y.f,{drawerContent:(0,B.BX)(a.Stack,{gap:2,children:[(0,B.tZ)(s.H1,{children:"Learn more about inviting a staff member"}),(0,B.tZ)(d.Text,{as:"p",color:"muted",fontSize:"lg",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,B.tZ)(d.Text,{as:"p",fontSize:"md",children:"As your business grows, you’ll need to scale your team accordingly. Inviting new staff members allows you to expand your workforce in line with your evolving needs."}),(0,B.tZ)(d.Text,{as:"p",fontSize:"md",children:"Below are a list of the types of roles available:"}),(0,B.tZ)(s.H2,{children:"Owner"}),(0,B.tZ)(d.Text,{as:"p",fontSize:"md",children:"Owners have the highest level of access. They can add, edit and remove managers and staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,B.tZ)(s.H2,{children:"Manager"}),(0,B.tZ)(d.Text,{as:"p",fontSize:"md",children:"Managers can add, edit and remove staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,B.tZ)(s.H2,{children:"Employee"}),(0,B.tZ)(d.Text,{as:"p",fontSize:"md",children:"Employees can see their shifts, send an receive messages with managers and edit their personal and contact information."}),(0,B.tZ)(v.O,{})]}),linkContent:"Learn more about inviting a staff member",linkHref:"https://exports.agriculture.gov.au/help/page/example-reference-article"})]})}),(0,B.tZ)(u.ButtonLink,{alignSelf:"start",href:"/app/staff/invite-staff-member",children:"Invite staff member"})]}),introduction:(0,B.BX)(B.HY,{children:["Manage who can act for"," ",(0,B.tZ)(d.Text,{fontSize:"md",fontWeight:"bold",children:"Walker‘s Frozen Food"}),"."]}),title:"Staff"}),(0,B.BX)(c.Tabs,{contained:!1,children:[(0,B.BX)(c.TabList,{children:[(0,B.tZ)(c.TabButton,{children:"Staff members"}),(0,B.tZ)(c.TabButton,{children:(0,B.BX)(b.Flex,{gap:.5,children:["Access requests"," ",t.length>0&&(0,B.tZ)(p.NotificationBadge,{tone:"action",value:t.length})]})})]}),(0,B.BX)(c.TabPanels,{children:[(0,B.tZ)(c.TabPanel,{children:(0,B.BX)(a.Stack,{gap:1.5,children:[(0,B.tZ)(s.H2,{id:"staff-members-heading",children:"Staff members"}),(0,B.tZ)(tN,{selectable:!0,tableRef:n})]})}),(0,B.tZ)(c.TabPanel,{children:(0,B.BX)(a.Stack,{gap:1.5,children:[(0,B.tZ)(s.H2,{id:"access-requests-heading",children:"Access requests"}),(0,B.tZ)(tQ,{})]})})]})]}),(0,B.tZ)(l.Columns,{cols:{xs:1,sm:4},children:(0,B.tZ)(l.Column,{columnSpan:{xs:1,sm:3},children:(0,B.tZ)(v.O,{})})})]})})]})},t1=t0;t0.getLayout=function(e){return(0,B.tZ)(g.L,{children:(0,B.tZ)(z.w,{children:e})})}},56861:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/staff",function(){return n(35026)}])}},function(e){e.O(0,[6484,9998,3982,82,1137,6212,1338,8205,5294,4308,582,3434,7299,6174,8273,2888,9774,179],function(){return e(e.s=56861)}),_N_E=e.O()}]);