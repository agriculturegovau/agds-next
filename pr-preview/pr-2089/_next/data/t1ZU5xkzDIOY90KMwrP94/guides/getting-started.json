{"pageProps":{"breadcrumbs":[{"href":"/","label":"Home"},{"href":"/guides","label":"Guides"},{"label":"Getting started"}],"guide":{"slug":"getting-started","content":"\n## What is React?\n\nOur component library is built with React, a popular JavaScript library for building User Interfaces.\n\nIf you’re new to React, we recommend going through the official [React getting started documentation](https://react.dev/learn).\n\n## If you’re starting a new project…\n\nFor new projects, we recommend using [Next.js](https://nextjs.org/). A new application can be scaffolded with `npx create-next-app@latest`. Read their docs for more information.\n\n### Install dependencies\n\nThe following dependencies will need to be installed:\n\n1. `@ag.ds-next/react`\n2. `@emotion/cache`\n3. `@emotion/react`\n\n### Add support for Emotion\n\nOur component library uses the CSS-in-JS styling library, [Emotion](https://emotion.sh). While in-built support for Next.js’s App Router is still [in progress](https://github.com/emotion-js/emotion/issues/2928), you can add support now with a custom `RootStyleRegistry`.\n\nCreate the following component in `src/components/RootStyleRegistry/index.tsx`.\n\n```tsx\n'use client';\n\nimport { CacheProvider } from '@emotion/react';\nimport createCache from '@emotion/cache';\nimport { useServerInsertedHTML } from 'next/navigation';\nimport { JSX, useState } from 'react';\n\nexport const RootStyleRegistry = ({ children }: { children: JSX.Element }) => {\n\tconst [{ cache, flush }] = useState(() => {\n\t\tconst cache = createCache({ key: 'css' });\n\t\tcache.compat = true;\n\t\tconst prevInsert = cache.insert;\n\t\tlet inserted: string[] = [];\n\t\tcache.insert = (...args) => {\n\t\t\tconst serialized = args[1];\n\t\t\tif (cache.inserted[serialized.name] === undefined) {\n\t\t\t\tinserted.push(serialized.name);\n\t\t\t}\n\t\t\treturn prevInsert(...args);\n\t\t};\n\t\tconst flush = () => {\n\t\t\tconst prevInserted = inserted;\n\t\t\tinserted = [];\n\t\t\treturn prevInserted;\n\t\t};\n\t\treturn { cache, flush };\n\t});\n\n\tuseServerInsertedHTML(() => {\n\t\tconst names = flush();\n\t\tif (names.length === 0) return null;\n\t\tlet styles = '';\n\t\tfor (const name of names) {\n\t\t\tstyles += cache.inserted[name];\n\t\t}\n\t\treturn (\n\t\t\t<style\n\t\t\t\tdata-emotion={`${cache.key} ${names.join(' ')}`}\n\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t__html: styles,\n\t\t\t\t}}\n\t\t\t/>\n\t\t);\n\t});\n\n\treturn <CacheProvider value={cache}>{children}</CacheProvider>;\n};\n```\n\n### 3. Create an App component to wrap your application\n\nThe `RootStyleRegistry` and `Core` components needs to wrap your entire application. `Core` is where you can configure the theme and routing/links. For an example of configuring routing/links in AgDS for a Next.js application, please see [the code for our example site](https://github.com/agriculturegovau/agds-next/tree/main/example-site/components/LinkComponent.tsx).\n\n```tsx\n/** @jsxImportSource @emotion/react */\n'use client';\n\nimport { type ReactNode } from 'react';\nimport { theme } from '@ag.ds-next/react/ag-branding';\nimport { Core } from '@ag.ds-next/react/core';\n// Note: You will need to create this import\nimport { LinkComponent } from '../LinkComponent';\nimport { RootStyleRegistry } from '../RootStyleRegistry';\n\nexport const App = ({ children }: { children: ReactNode }) => {\n\treturn (\n\t\t<RootStyleRegistry>\n\t\t\t<Core linkComponent={LinkComponent} theme={theme}>\n\t\t\t\t{children}\n\t\t\t</Core>\n\t\t</RootStyleRegistry>\n\t);\n};\n```\n\nThen import this into the root `layout.tsx`.\n\n```tsx\nexport default function RootLayout({\n\tchildren,\n}: Readonly<{\n\tchildren: ReactNode;\n}>) {\n\treturn (\n\t\t<html lang=\"en\">\n\t\t\t<body>\n\t\t\t\t<App>{children}</App>\n\t\t\t</body>\n\t\t</html>\n\t);\n}\n```\n\n## That’s it\n\nYou can now start using AgDS!\n\n> We recommend using TypeScript to get the most out of these components. Our example site already uses TypeScript so you can use that as reference. [See code](https://github.com/agriculturegovau/agds-next/tree/main/example-site).\n\n## What’s next?\n\n[Explore our example site](/example-site) to see our list of interface examples, as well as the [related code on GitHub](https://github.com/agriculturegovau/agds-next/tree/main/example-site).\n\nYou should also explore our wide range of [components](/components), and install the ones you need in your application.\n","source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    p: \"p\",\n    a: \"a\",\n    code: \"code\",\n    h3: \"h3\",\n    ol: \"ol\",\n    li: \"li\",\n    pre: \"pre\",\n    blockquote: \"blockquote\"\n  }, _provideComponents(), props.components);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h2, {\n      children: \"What is React?\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Our component library is built with React, a popular JavaScript library for building User Interfaces.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If you’re new to React, we recommend going through the official \", _jsx(_components.a, {\n        href: \"https://react.dev/learn\",\n        children: \"React getting started documentation\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"If you’re starting a new project…\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"For new projects, we recommend using \", _jsx(_components.a, {\n        href: \"https://nextjs.org/\",\n        children: \"Next.js\"\n      }), \". A new application can be scaffolded with \", _jsx(_components.code, {\n        children: \"npx create-next-app@latest\"\n      }), \". Read their docs for more information.\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Install dependencies\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"The following dependencies will need to be installed:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.code, {\n          children: \"@ag.ds-next/react\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.code, {\n          children: \"@emotion/cache\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.code, {\n          children: \"@emotion/react\"\n        })\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Add support for Emotion\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Our component library uses the CSS-in-JS styling library, \", _jsx(_components.a, {\n        href: \"https://emotion.sh\",\n        children: \"Emotion\"\n      }), \". While in-built support for Next.js’s App Router is still \", _jsx(_components.a, {\n        href: \"https://github.com/emotion-js/emotion/issues/2928\",\n        children: \"in progress\"\n      }), \", you can add support now with a custom \", _jsx(_components.code, {\n        children: \"RootStyleRegistry\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Create the following component in \", _jsx(_components.code, {\n        children: \"src/components/RootStyleRegistry/index.tsx\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"'use client';\\n\\nimport { CacheProvider } from '@emotion/react';\\nimport createCache from '@emotion/cache';\\nimport { useServerInsertedHTML } from 'next/navigation';\\nimport { JSX, useState } from 'react';\\n\\nexport const RootStyleRegistry = ({ children }: { children: JSX.Element }) => {\\n\\tconst [{ cache, flush }] = useState(() => {\\n\\t\\tconst cache = createCache({ key: 'css' });\\n\\t\\tcache.compat = true;\\n\\t\\tconst prevInsert = cache.insert;\\n\\t\\tlet inserted: string[] = [];\\n\\t\\tcache.insert = (...args) => {\\n\\t\\t\\tconst serialized = args[1];\\n\\t\\t\\tif (cache.inserted[serialized.name] === undefined) {\\n\\t\\t\\t\\tinserted.push(serialized.name);\\n\\t\\t\\t}\\n\\t\\t\\treturn prevInsert(...args);\\n\\t\\t};\\n\\t\\tconst flush = () => {\\n\\t\\t\\tconst prevInserted = inserted;\\n\\t\\t\\tinserted = [];\\n\\t\\t\\treturn prevInserted;\\n\\t\\t};\\n\\t\\treturn { cache, flush };\\n\\t});\\n\\n\\tuseServerInsertedHTML(() => {\\n\\t\\tconst names = flush();\\n\\t\\tif (names.length === 0) return null;\\n\\t\\tlet styles = '';\\n\\t\\tfor (const name of names) {\\n\\t\\t\\tstyles += cache.inserted[name];\\n\\t\\t}\\n\\t\\treturn (\\n\\t\\t\\t<style\\n\\t\\t\\t\\tdata-emotion={`${cache.key} ${names.join(' ')}`}\\n\\t\\t\\t\\tdangerouslySetInnerHTML={{\\n\\t\\t\\t\\t\\t__html: styles,\\n\\t\\t\\t\\t}}\\n\\t\\t\\t/>\\n\\t\\t);\\n\\t});\\n\\n\\treturn <CacheProvider value={cache}>{children}</CacheProvider>;\\n};\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"3. Create an App component to wrap your application\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"The \", _jsx(_components.code, {\n        children: \"RootStyleRegistry\"\n      }), \" and \", _jsx(_components.code, {\n        children: \"Core\"\n      }), \" components needs to wrap your entire application. \", _jsx(_components.code, {\n        children: \"Core\"\n      }), \" is where you can configure the theme and routing/links. For an example of configuring routing/links in AgDS for a Next.js application, please see \", _jsx(_components.a, {\n        href: \"https://github.com/agriculturegovau/agds-next/tree/main/example-site/components/LinkComponent.tsx\",\n        children: \"the code for our example site\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"/** @jsxImportSource @emotion/react */\\n'use client';\\n\\nimport { type ReactNode } from 'react';\\nimport { theme } from '@ag.ds-next/react/ag-branding';\\nimport { Core } from '@ag.ds-next/react/core';\\n// Note: You will need to create this import\\nimport { LinkComponent } from '../LinkComponent';\\nimport { RootStyleRegistry } from '../RootStyleRegistry';\\n\\nexport const App = ({ children }: { children: ReactNode }) => {\\n\\treturn (\\n\\t\\t<RootStyleRegistry>\\n\\t\\t\\t<Core linkComponent={LinkComponent} theme={theme}>\\n\\t\\t\\t\\t{children}\\n\\t\\t\\t</Core>\\n\\t\\t</RootStyleRegistry>\\n\\t);\\n};\\n\"\n      })\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Then import this into the root \", _jsx(_components.code, {\n        children: \"layout.tsx\"\n      }), \".\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-tsx\",\n        children: \"export default function RootLayout({\\n\\tchildren,\\n}: Readonly<{\\n\\tchildren: ReactNode;\\n}>) {\\n\\treturn (\\n\\t\\t<html lang=\\\"en\\\">\\n\\t\\t\\t<body>\\n\\t\\t\\t\\t<App>{children}</App>\\n\\t\\t\\t</body>\\n\\t\\t</html>\\n\\t);\\n}\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"That’s it\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"You can now start using AgDS!\"\n    }), \"\\n\", _jsxs(_components.blockquote, {\n      children: [\"\\n\", _jsxs(_components.p, {\n        children: [\"We recommend using TypeScript to get the most out of these components. Our example site already uses TypeScript so you can use that as reference. \", _jsx(_components.a, {\n          href: \"https://github.com/agriculturegovau/agds-next/tree/main/example-site\",\n          children: \"See code\"\n        }), \".\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"What’s next?\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [_jsx(_components.a, {\n        href: \"/example-site\",\n        children: \"Explore our example site\"\n      }), \" to see our list of interface examples, as well as the \", _jsx(_components.a, {\n        href: \"https://github.com/agriculturegovau/agds-next/tree/main/example-site\",\n        children: \"related code on GitHub\"\n      }), \".\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"You should also explore our wide range of \", _jsx(_components.a, {\n        href: \"/components\",\n        children: \"components\"\n      }), \", and install the ones you need in your application.\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\n","frontmatter":{},"scope":{"order":1,"title":"Getting started","overview":"Get up and running with the AgDS React component library.","opener":"Welcome to AgDS - the Design System for the Australian Government Department of Agriculture, Fisheries and Forestry. In this guide we are going to go through the steps necessary to get started with the React component library from our Design System."}},"data":{"order":1,"title":"Getting started","overview":"Get up and running with the AgDS React component library.","opener":"Welcome to AgDS - the Design System for the Australian Government Department of Agriculture, Fisheries and Forestry. In this guide we are going to go through the steps necessary to get started with the React component library from our Design System."},"title":"Getting started","opener":"Welcome to AgDS - the Design System for the Australian Government Department of Agriculture, Fisheries and Forestry. In this guide we are going to go through the steps necessary to get started with the React component library from our Design System."},"slug":"getting-started","toc":[{"id":"what-is-react","title":"What is React?","level":2,"slug":"what-is-react","items":[]},{"id":"if-youre-starting-a-new-project","title":"If you’re starting a new project…","level":2,"slug":"if-youre-starting-a-new-project","items":[{"id":"install-dependencies","title":"Install dependencies","level":3,"slug":"install-dependencies","items":[]},{"id":"add-support-for-emotion","title":"Add support for Emotion","level":3,"slug":"add-support-for-emotion","items":[]},{"id":"3-create-an-app-component-to-wrap-your-application","title":"3. Create an App component to wrap your application","level":3,"slug":"3-create-an-app-component-to-wrap-your-application","items":[]}]},{"id":"thats-it","title":"That’s it","level":2,"slug":"thats-it","items":[]},{"id":"whats-next","title":"What’s next?","level":2,"slug":"whats-next","items":[]}]},"__N_SSG":true}