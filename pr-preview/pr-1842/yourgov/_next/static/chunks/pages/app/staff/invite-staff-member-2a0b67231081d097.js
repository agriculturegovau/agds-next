(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3573],{85902:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},99907:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},53730:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85902);function i(e){return(0,r.Z)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)}},44720:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53730),i=n(32825),a=n(85902);function o(e){return(0,a.Z)(1,arguments),(!!(0,r.Z)(e)||"number"==typeof e)&&!isNaN(Number((0,i.Z)(e)))}},73809:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(85902),i=n(99907);function a(e,t){(0,r.Z)(1,arguments);var n,a,p=t||{},v=null==p.additionalDigits?2:(0,i.Z)(p.additionalDigits);if(2!==v&&1!==v&&0!==v)throw RangeError("additionalDigits must be 0, 1 or 2");if(!("string"==typeof e||"[object String]"===Object.prototype.toString.call(e)))return new Date(NaN);var g=function(e){var t,n={},r=e.split(o.dateTimeDelimiter);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],o.timeZoneDelimiter.test(n.date)&&(n.date=e.split(o.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length))),t){var i=o.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(g.date){var b=function(e,t){var n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(g.date,v);n=function(e,t){if(null===t)return new Date(NaN);var n,r,i=e.match(u);if(!i)return new Date(NaN);var a=!!i[4],o=c(i[1]),l=c(i[2])-1,s=c(i[3]),d=c(i[4]),p=c(i[5])-1;if(a)return d>=1&&d<=53&&p>=0&&p<=6?((n=new Date(0)).setUTCFullYear(t,0,4),r=n.getUTCDay()||7,n.setUTCDate(n.getUTCDate()+((d-1)*7+p+1-r)),n):new Date(NaN);var v=new Date(0);return l>=0&&l<=11&&s>=1&&s<=(f[l]||(m(t)?29:28))&&o>=1&&o<=(m(t)?366:365)?(v.setUTCFullYear(t,l,Math.max(o,s)),v):new Date(NaN)}(b.restDateString,b.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);var h=n.getTime(),y=0;if(g.time&&isNaN(y=function(e){var t=e.match(l);if(!t)return NaN;var n=d(t[1]),r=d(t[2]),i=d(t[3]);return(24===n?0===r&&0===i:i>=0&&i<60&&r>=0&&r<60&&n>=0&&n<25)?36e5*n+6e4*r+1e3*i:NaN}(g.time)))return new Date(NaN);if(g.timezone){if(isNaN(a=function(e){if("Z"===e)return 0;var t=e.match(s);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return i>=0&&i<=59?n*(36e5*r+6e4*i):NaN}(g.timezone)))return new Date(NaN)}else{var Z=new Date(h+y),N=new Date(0);return N.setFullYear(Z.getUTCFullYear(),Z.getUTCMonth(),Z.getUTCDate()),N.setHours(Z.getUTCHours(),Z.getUTCMinutes(),Z.getUTCSeconds(),Z.getUTCMilliseconds()),N}return new Date(h+y+a)}var o={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},u=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,l=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,s=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function m(e){return e%400==0||e%4==0&&e%100!=0}},32825:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85902);function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(Error().stack)),new Date(NaN))}},73403:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(50463),r()},37654:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(60954),r()},57449:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(88090),r()},16096:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(51190),r()},88090:function(e,t,n){"use strict";n.d(t,{FormStack:function(){return a}});var r=n(84007),i=n(87800);function a(e){var t=e.children;return(0,i.tZ)(r.Flex,{flexDirection:"column",gap:2,children:t})}},51190:function(e,t,n){"use strict";n.d(t,{ListItem:function(){return v},UnorderedList:function(){return l}});var r=n(10043),i=n(8447),a=n(27378),o=(0,a.createContext)(0),u=n(87800);function l(e){var t=e.children,n=(0,a.useContext)(o)+1;return(0,u.tZ)(o.Provider,{value:n,children:(0,u.tZ)("ul",{css:(0,r.iv)({marginTop:n>1?(0,i.mapSpacing)(.5):0,marginBottom:0},"",""),children:t})})}var s=n(90849),c=n(90089),d=n(89205),f=["children"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=e.children,n=(0,c.Z)(e,f);return(0,u.tZ)(d.Text,p(p({as:"li",css:(0,r.iv)({listStyle:"unset","&:not(:first-of-type)":{marginTop:(0,i.mapSpacing)(.5)}},"","")},n),{},{children:t}))}},61444:function(e,t,n){"use strict";var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(11725),r()},53069:function(e,t,n){"use strict";n.d(t,{v:function(){return c}});var r=n(11246),i=n(37654),a=n(16096),o=n(38163),u=n(68944),l=n(79706),s=n(87800);function c(e){var t=e.errors,n=(0,i.useScrollToField)(),c=Object.entries(t).map(function(e){var t,n,i=(0,r.Z)(e,2),a=i[0],o=i[1];return"message"in o?{key:a,message:o.message}:"from"in o?{key:a,message:null===(t=o.from)||void 0===t?void 0:t.message}:"to"in o?{key:a,message:null===(n=o.to)||void 0===n?void 0:n.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)});return(0,s.BX)(o.PageAlert,{focusOnMount:!0,title:"There is a problem",tone:"error",children:[(0,s.tZ)(u.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,s.tZ)(a.UnorderedList,{children:c.map(function(e){var t=e.key,r=e.message;return(0,s.tZ)(a.ListItem,{children:(0,s.tZ)(l.TextLink,{href:"#".concat(t),onClick:n,children:r})},t)})})]})}},75807:function(e,t,n){"use strict";n.d(t,{Hv:function(){return s},LZ:function(){return o},aq:function(){return l},nT:function(){return u},uY:function(){return c}});var r=n(68301),i=n(73809),a=n(44720);function o(e){if("string"==typeof e){var t=(0,i.Z)(e);return(0,a.Z)(t)?t:void 0}return e}function u(e){return Object.keys(e).length>1}r.hT().transform(function(e,t){return"string"==typeof t?t:e}).typeError("Enter a valid date"),r.Z_().transform(function(e){return e.replace(/\s/g,"")}).matches(/^\d+$/,{excludeEmptyString:!0,message:"Phone number must not include letters or symbols"}).matches(/^0\d+$/,{excludeEmptyString:!0,message:"Mobile numbers must begin with '04', landline numbers must begin with an area code"}).length(10,"Phone number must be 10 digits");var l="/app/licences-and-permits/apply/mobile-food-vendor-permit",s="/app/licences-and-permits";function c(e){var t,n=e.currentStepIndex,r=e.id;return(null===(t=e.steps[n+1])||void 0===t?void 0:t.href)||"/app/licences-and-permits/apply/mobile-food-vendor-permit/success?id=".concat(r)}},88999:function(e,t,n){"use strict";n.r(t);var r=n(90849),i=n(27378),a=n(86677),o=n(88039),u=n(32324),l=n(74578),s=n(20034),c=n(50456),d=n(68944),f=n(51036),m=n(57449),p=n(47586),v=n(61444),g=n(81715),b=n(92100),h=n(73403),y=n(10957),Z=n(40670),N=n(39395),D=n(15748),w=n(53069),O=n(75807),T=n(40582),j=n(94736),S=n(59746),k=n(87800);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(){var e,t,n,r,N,C,_,P,I,E,U=(0,a.useRouter)(),F=(0,S.M)().staffMembersCreate,B=(0,i.useRef)(crypto.randomUUID()),M=(0,o.cI)({resolver:(0,u.F)(T.Qu),mode:"onSubmit",reValidateMode:"onBlur"}),L=M.register,q=M.handleSubmit,H=M.formState.errors,X=x(x({},H),{},{trainingCompleted:{}}),W=(0,i.useState)(!1),$=W[0],z=W[1],R=(0,O.nT)(X);return(0,k.BX)(i.Fragment,{children:[(0,k.tZ)(Z.$,{title:"Invite staff member"}),(0,k.tZ)(l.PageContent,{children:(0,k.BX)(c.Stack,{gap:3,children:[(0,k.tZ)(y.DirectionLink,{direction:"left",href:"/app/staff",children:"Back"}),(0,k.tZ)(D.V,{title:"Invite staff member",hasAllFieldsRequiredMessage:!0,introduction:(0,k.BX)(k.HY,{children:["Send a staff invite for"," ",(0,k.tZ)(d.Text,{fontSize:"md",fontWeight:"bold",children:"Walkerâ€˜s Frozen Food"}),"."]})}),(0,k.BX)(c.Stack,{as:"form",gap:3,onSubmit:q(function(e){z(!0),setTimeout(function(){z(!1),F(e),U.push("/app/staff?successType=invite&staffId=".concat(B.current))},1500)}),noValidate:!0,children:[(0,k.BX)(m.FormStack,{children:[R&&(0,k.tZ)(w.v,{errors:X}),(0,k.tZ)("input",x(x({},L("id")),{},{id:"id",required:!0,type:"hidden",value:B.current})),(0,k.tZ)(v.TextInput,x(x({autoComplete:"given-name",label:"First name"},L("firstName")),{},{id:"firstName",invalid:!!(null==H||null===(e=H.firstName)||void 0===e?void 0:e.message),maxWidth:"lg",message:null==H||null===(t=H.firstName)||void 0===t?void 0:t.message,required:!0})),(0,k.tZ)(v.TextInput,x(x({autoComplete:"family-name",label:"Last name"},L("lastName")),{},{id:"lastName",invalid:!!(null==H||null===(n=H.lastName)||void 0===n?void 0:n.message),maxWidth:"lg",message:null==H||null===(r=H.lastName)||void 0===r?void 0:r.message,required:!0})),(0,k.tZ)(v.TextInput,x(x({autoComplete:"email",label:"Email address",type:"email"},L("email")),{},{id:"email",invalid:!!(null==H||null===(N=H.email)||void 0===N?void 0:N.message),maxWidth:"lg",message:null==H||null===(C=H.email)||void 0===C?void 0:C.message,required:!0})),(0,k.tZ)(v.TextInput,x(x({autoComplete:"tel",label:"Mobile number",type:"phone"},L("mobile")),{},{id:"mobile",invalid:!!(null==H||null===(_=H.mobile)||void 0===_?void 0:_.message),maxWidth:"md",message:null==H||null===(P=H.mobile)||void 0===P?void 0:P.message,required:!0}))]}),(0,k.tZ)(p.Divider,{}),(0,k.tZ)(s.Details,{iconBefore:!0,label:"Understanding the permissions for each role",children:(0,k.tZ)(j.u,{})}),(0,k.tZ)(b.ControlGroup,{label:"Role",invalid:!!(null===(I=H.role)||void 0===I?void 0:I.message),message:null===(E=H.role)||void 0===E?void 0:E.message,required:!0,block:!0,children:["Manager","Employee","Trainee","Work experience"].map(function(e){var t;return(0,k.tZ)(g.Radio,x(x({},L("role")),{},{value:e,invalid:!!(null===(t=H.role)||void 0===t?void 0:t.message),children:e}),e)})}),(0,k.tZ)(b.ControlGroup,{label:"Training completed",block:!0,children:["Deliveries","Distribution","Ice cream making","Packaging"].map(function(e){var t;return(0,k.tZ)(h.Checkbox,x(x({},L("trainingCompleted")),{},{value:e,invalid:!!(null===(t=H.trainingCompleted)||void 0===t||null===(t=t[0])||void 0===t?void 0:t.message),children:e}),e)})}),(0,k.tZ)(p.Divider,{}),(0,k.BX)(f.ButtonGroup,{children:[(0,k.tZ)(f.Button,{type:"submit",loading:$,children:"Send Invite"}),(0,k.tZ)(f.Button,{variant:"tertiary",onClick:function(){U.push("/app/staff")},children:"Cancel"})]})]})]})})]})};t.default=_,_.getLayout=function(e){return(0,k.tZ)(N.L,{children:(0,k.tZ)(S.w,{children:e})})}},79049:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/staff/invite-staff-member",function(){return n(88999)}])}},function(e){e.O(0,[4371,9998,9073,8301,1854,8486,8163,9041,7077,9395,624,2372,7178,9774,2888,179],function(){return e(e.s=79049)}),_N_E=e.O()}]);