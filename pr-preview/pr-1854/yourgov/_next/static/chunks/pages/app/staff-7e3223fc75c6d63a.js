(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2265],{33296:function(e,t,r){"use strict";var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(35343),n()},50463:function(e,t,r){"use strict";r.d(t,{Checkbox:function(){return S}});var n=r(90849),o=r(90089),i=r(27378),a=r(8447),c=r(60893),l=r(10043),s=r(84007),u=r(32084),d=r(87800);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=function(e){var t=e.disabled,r=e.indeterminate,n=e.invalid,o=e.size,i=a.lB.control[o],c=i.width,f=i.height,b=i.borderWidth;return(0,d.tZ)(s.Flex,{as:"span",justifyContent:"center",alignItems:"center",width:c,height:f,flexShrink:0,css:(0,l.iv)(p(p({borderWidth:b,borderStyle:"solid",borderColor:a._X.border,backgroundColor:a._X.backgroundBody,color:a._X.foregroundText},t&&{color:a._X.borderMuted,borderColor:a._X.borderMuted,backgroundColor:a._X.backgroundShade,"@media (forced-colors: active)":{borderColor:"GrayText",color:"GrayText"}}),n&&{borderColor:a._X.systemError,backgroundColor:a._X.systemErrorMuted}),"",""),rounded:!0,children:r?(0,d.tZ)(u.V_,{size:o,weight:"bold"}):(0,d.tZ)(u.nQ,{size:o,weight:"bold"})})},h=r(64388);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=(0,i.forwardRef)(function(e,t){return(0,d.tZ)("input",m({ref:t,css:(0,l.iv)(m(m({},h.JM),{},{"&:focus ~ span:first-of-type":a.lB.outline,"~ span > svg":{opacity:0},"&:checked ~ span > svg, &:indeterminate ~ span > svg":{opacity:1}}),"","")},e))});function y(e){var t=e.children,r=e.htmlFor,n=e.disabled;return(0,d.tZ)(s.Flex,{as:"label",alignItems:"flex-start",color:"text",gap:.5,htmlFor:r,inline:!0,css:(0,l.iv)({cursor:n?"not-allowed":"pointer"},"",""),children:t})}var O=r(89205),w={sm:0,md:"0.2rem"};function Z(e){var t=e.children,r=e.disabled,n=w[e.size];return(0,d.tZ)(O.Text,{flexGrow:1,color:r?"muted":"text",css:(0,l.iv)({paddingTop:n},"",""),children:t})}var P=["checked","children","disabled","indeterminate","invalid","name","required","size"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var S=(0,i.forwardRef)(function(e,t){var r,l,s=e.checked,u=e.children,f=e.disabled,p=e.indeterminate,h=e.invalid,g=e.name,m=e.required,O=e.size,w=void 0===O?"md":O,S=(0,o.Z)(e,P),T=(r=S.id,l=(0,a.Me)(r),r||"checkbox-".concat(l)),k=(0,i.useRef)(null),x=(0,c.j)(),j="boolean"==typeof h?h:null==x?void 0:x.invalid,B="boolean"==typeof m?m:null==x?void 0:x.required,E=g||(null==x?void 0:x.name);(0,i.useEffect)(function(){k.current&&(k.current.indeterminate=!!p)},[p]);var D=!p&&s;return(0,d.BX)(y,{disabled:f,htmlFor:T,children:[(0,d.tZ)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({"aria-checked":p?"mixed":void 0,"aria-describedby":j?null==x?void 0:x.messageId:void 0,"aria-invalid":j||void 0,"aria-required":B,checked:D,disabled:f,id:T,name:E,ref:(0,a.lq)([t,k]),type:"checkbox"},S)),(0,d.tZ)(b,{disabled:f,indeterminate:p,invalid:j,size:w}),(0,d.tZ)(Z,{disabled:f,size:w,children:u})]})})},53633:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(27378);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusOnMount,r=e.focusOnUpdate,o=e.forwardedRef,i=(0,n.useRef)(null),a=o||i;return(0,n.useEffect)(function(){var e,n;(void 0!==r||t)&&"current"in a&&(null==a||null===(e=a.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e))},[r]),a}},35343:function(e,t,r){"use strict";r.d(t,{NotificationBadge:function(){return l}});var n=r(10043),o=r(8447),i=r(89205),a={neutral:o._X.foregroundMuted,action:o._X.foregroundAction},c=r(87800),l=function(e){var t=e.value,r=e.max,l=e.tone,s=e["aria-hidden"],u=a[l];return(0,c.tZ)(i.Text,{alignItems:"center","aria-hidden":s,css:(0,n.iv)({color:o._X.backgroundBody,backgroundColor:u,minWidth:(0,o.mapSpacing)(1.5),borderRadius:(0,o.mapSpacing)(.75)},"",""),display:"inline-flex",fontSize:"sm",height:(0,o.mapSpacing)(1.5),highContrastOutline:!0,justifyContent:"center",lineHeight:"nospace",paddingX:.5,rounded:!0,children:void 0===r||t<=r?t:"".concat(r,"+")})}},70996:function(e,t,r){"use strict";r.d(t,{TabButton:function(){return O},TabList:function(){return P},TabPanel:function(){return T},TabPanels:function(){return k},Tabs:function(){return x}});var n=r(90849),o=r(10043),i=r(11475),a=r(84815),c=r(8447),l=r(27378),s=(0,l.createContext)(void 0);function u(){var e=(0,l.useContext)(s);if(void 0===e)throw Error("TabsContext not found.");return e}var d=(0,l.createContext)(void 0);function f(e,t){return{tabButtonId:"".concat(e,"-tab-button-").concat(t),panelId:"".concat(e,"-tab-panel-").concat(t)}}function p(){var e=(0,c.iP)().windowWidth;return(void 0===e?0:e)>=c.tokens.breakpoint.sm?"horizontal":"vertical"}var b={body:{panelBg:c._X.backgroundBody,panelFg:c._X.foregroundText,buttonBg:c._X.backgroundBody,buttonFg:c._X.foregroundAction,buttonBgHover:c._X.backgroundShade,buttonFgHover:c._X.foregroundText},bodyAlt:{panelBg:c._X.backgroundBodyAlt,panelFg:c._X.foregroundText,buttonBg:c._X.backgroundBodyAlt,buttonFg:c._X.foregroundAction,buttonBgHover:c._X.backgroundShade,buttonFgHover:c._X.foregroundText}},h={panelBg:"--agds-tabs-panel-bg",panelFg:"--agds-tabs-panel-fg",buttonBg:"--agds-tabs-button-bg",buttonFg:"--agds-tabs-button-fg",buttonBgHover:"--agds-tabs-button-bg-hover",buttonFgHover:"--agds-tabs-button-fg-hover"},g={panelBg:"var(".concat(h.panelBg,")"),panelFg:"var(".concat(h.panelFg,")"),buttonBg:"var(".concat(h.buttonBg,")"),buttonFg:"var(".concat(h.buttonFg,")"),buttonBgHover:"var(".concat(h.buttonBgHover,")"),buttonFgHover:"var(".concat(h.buttonFgHover,")")},m=r(87800);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function O(e){var t,r=e.children,s=e.endElement,b=u(),h=b.tabsId,v=b.activeIndex,O=b.setActiveIndex,w=b.goToFirstTab,Z=b.goToLastTab,P=b.goToPreviousTab,C=b.goToNextTab,S=function(){var e=(0,l.useContext)(d);if(void 0===e)throw Error("TabListContext not found.");return e}().tabIndex,T=f(h,S),k=T.tabButtonId,x=T.panelId,j=p(),B=v===S;return(0,m.BX)(a.Box,{as:i.Yd,onKeyDown:function(e){switch(e.code){case"ArrowLeft":if("vertical"===j)break;e.preventDefault(),P();break;case"ArrowRight":if("vertical"===j)break;e.preventDefault(),C();break;case"ArrowUp":if("horizontal"===j)break;e.preventDefault(),P();break;case"ArrowDown":if("horizontal"===j)break;e.preventDefault(),C();break;case"Home":e.preventDefault(),w();break;case"End":e.preventDefault(),Z()}},onClick:function(){O(S)},role:"tab","aria-selected":B,id:k,tabIndex:B?0:-1,"aria-controls":x,paddingX:1.5,paddingY:.75,focusRingFor:"keyboard",css:(0,o.iv)(y(y(y({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:(0,c.mapSpacing)(.5)},(0,c.vY)("sm","default")),B?{background:g.panelBg,"& > span:first-of-type":{fontWeight:c.tokens.fontWeight.bold,color:c._X.foregroundText}}:{background:g.buttonBg,"&:hover":{background:g.buttonBgHover},"& > span:first-of-type":y(y({},c.lB.underline),{},{color:g.buttonFg}),"&:hover > span:first-of-type":{color:g.buttonFgHover,textDecoration:"none"}}),{},(t={"&:focus-visible":{zIndex:c.tokens.zIndex.elevated}},(0,n.Z)(t,c.tokens.mediaQuery.max.xs,{borderWidth:c.tokens.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:c._X.border,"&:first-of-type":{overflow:"hidden",borderRadius:"".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px 0 0")},"&:last-of-type":{borderBottomWidth:c.tokens.borderWidth.sm},"::before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:B?c.tokens.borderWidth.xxl:c.tokens.borderWidth.xl,background:B?c._X.selected:c._X.borderMuted,"@media (forced-colors: active)":{backgroundColor:B?"MenuText":"GrayText"}}}),(0,n.Z)(t,c.tokens.mediaQuery.min.sm,y({borderWidth:c.tokens.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:c._X.border,borderRadius:"".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px 0 0")},B&&{"::before":{content:"''",position:"absolute",top:0,left:0,right:0,height:c.tokens.borderWidth.xl,background:c._X.selected},"::after":{content:"''",position:"absolute",bottom:-1,left:0,right:0,height:1,background:g.panelBg}})),t)),"",""),children:[(0,m.tZ)("span",{children:r}),s]})}var w=r(52809),Z=r(84007);function P(e){var t=e.children,r=p();return(0,m.tZ)(Z.Flex,{flexDirection:{xs:"column",sm:"row"},flexWrap:"wrap",role:"tablist","aria-orientation":r,gap:{xs:0,sm:.5},children:(0,w.Z)(t).map(function(e,t){return(0,m.tZ)(d.Provider,{value:{tabIndex:t},children:e},t)})})}var C=(0,l.createContext)(void 0);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e){var t=e.children,r=u(),i=r.tabsId,s=r.activeIndex,d=r.contained,p=function(){var e=(0,l.useContext)(C);if(void 0===e)throw Error("TabPanelsContext not found.");return e}().panelIndex,b=f(i,p),h=b.tabButtonId,v=b.panelId,y=s===p;return(0,m.tZ)(a.Box,{id:v,role:"tabpanel","aria-labelledby":h,display:y?void 0:"none",tabIndex:y?0:-1,focusRingFor:"keyboard",border:!0,paddingX:{xs:.75,md:1.5},paddingY:1.5,css:(0,o.iv)((0,n.Z)({background:g.panelBg,color:g.panelFg,borderTopWidth:0,borderRadius:"0 0 ".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px")},c.tokens.mediaQuery.min.sm,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderTopWidth:c.tokens.borderWidth.sm},d?{borderRadius:"0 ".concat(c.tokens.borderRadius,"px ").concat(c.tokens.borderRadius,"px")}:{paddingLeft:0,paddingRight:0,borderLeftWidth:0,borderRightWidth:0,borderRadius:0})),"",""),children:t})}function k(e){var t=e.children;return(0,m.tZ)("div",{children:(0,w.Z)(t).map(function(e,t){return(0,m.tZ)(C.Provider,{value:{panelIndex:t},children:e},t)})})}function x(e){var t,r,o,i=e.children,a=e.background,u=e.contained,d=e.activeIndex,f=e.onChange,p=(0,l.useRef)(null),g=(0,l.useState)(),v=g[0],y=g[1],O=null!=v&&v.length?v.length-1:0;(0,l.useEffect)(function(){var e,t,r=null===(e=p.current)||void 0===e?void 0:e.querySelectorAll('[role="tab"]'),n=null===(t=p.current)||void 0===t?void 0:t.querySelectorAll('[role="tabpanel"]');if((null==r?void 0:r.length)!==(null==n?void 0:n.length))throw Error("The number of `TabButton` components do not match the number of `TabPanel` components.");y(r)},[i]);var w=(0,l.useState)(0),Z=w[0],P=w[1],C="number"==typeof d?d:Z;function S(e){var t;P(e),null==f||f(e),null==v||null===(t=v[e])||void 0===t||t.focus()}var T=(t=(0,c.Me)(),"tabs-".concat(t));return(0,m.tZ)(s.Provider,{value:{tabsId:T,contained:void 0===u||u,activeIndex:C,setActiveIndex:S,goToFirstTab:function(){S(0)},goToLastTab:function(){S(O)},goToPreviousTab:function(){S(0===C?O:C-1)},goToNextTab:function(){S(C===O?0:C+1)}},children:(0,m.tZ)("div",{ref:p,id:T,css:(r=void 0===a?"body":a,o={},(0,n.Z)(o,h.panelBg,b[r].panelBg),(0,n.Z)(o,h.panelFg,b[r].panelFg),(0,n.Z)(o,h.buttonBg,b[r].buttonBg),(0,n.Z)(o,h.buttonFg,b[r].buttonFg),(0,n.Z)(o,h.buttonBgHover,b[r].buttonBgHover),(0,n.Z)(o,h.buttonFgHover,b[r].buttonFgHover),o),children:i})})}},27934:function(e,t,r){"use strict";var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(70996),n()},72207:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(27378),o=r(11475),i=r(89205),a=r(85875),c=r(28501),l=r(87800);function s(e){var t=e.isOpen,r=e.onConfirm,s=e.onClose,u=e.itemsToDelete,d=(0,n.useState)(!1),f=d[0],p=d[1],b=(0,n.useMemo)(function(){return Array.isArray(u)?{title:"Are you sure you want to remove access for ".concat(u.length," staff ").concat((0,c.Ho)(u.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(u.name,"?"),description:"Access will be removed immediately. You can not undo this action."}},[u]),h=b.title,g=b.description;return(0,l.tZ)(a.Modal,{isOpen:t,onClose:s,title:h,actions:(0,l.BX)(o.ButtonGroup,{children:[(0,l.tZ)(o.Button,{loading:f,onClick:function(){p(!0),setTimeout(function(){p(!1),r()},1500)},children:"Remove access"}),(0,l.tZ)(o.Button,{variant:"secondary",onClick:s,children:"Cancel"})]}),children:(0,l.tZ)(i.Text,{as:"p",children:g})})}},28501:function(e,t,r){"use strict";r.d(t,{Ho:function(){return i},KD:function(){return n},UO:function(){return o}});var n=function(e){var t=e.loading,r=e.totalItems,n=e.pagination;if(t)return"Staff members";var o=1===r?"1 item":"".concat(r," items"),i=(n.page-1)*n.perPage+1,a=(n.page-1)*n.perPage+n.perPage;return a>r?"Staff members (".concat(o,")"):"Staff members (".concat(i," - ").concat(a," of ").concat(o,")")},o={Active:{label:"Active",tone:"success"},Invited:{label:"Invited",tone:"info"},Paused:{label:"Paused",tone:"neutral"}},i=function(e,t,r){return 1===e?t:r}},4104:function(e,t,r){"use strict";r.d(t,{W:function(){return n}});var n=[{id:"772353784",lastUpdated:new Date("15 Jan 2024").getTime(),status:{tone:"infoMedium",label:"Pending approval"},type:"Outdoor dining permit"},{id:"224377842",lastUpdated:new Date("01 July 2023").getTime(),status:{tone:"successMedium",label:"Approved"},type:"On-premises liquor licence"}]},91558:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return ts}});var n,o=r(90849),i=r(27378),a=r(74578),c=r(50456),l=r(27934),s=r(2951),u=r(77498),d=r(2924),f=r(94303),p=r(79706),b=r(68944),h=r(51036),g=r(20034),m=r(33296),v=r(76128),y=r(40670),O=r(39395),w=r(15748),Z=r(911),P=r(4104),C=r(11246),S=r(86677),T=r(7226),k=r(11475),x=r(8447),j=r(32084),B=r(84815),E=r(32379),D=r(87800),A=(0,i.createContext)(void 0),R=function(e){var t=e.children,r=e.value;return(0,D.tZ)(A.Provider,{value:r,children:t})},X=function(){var e=(0,i.useContext)(A);if(void 0===e)throw Error("useSortAndFilterContext must be used within a SortAndFilterProvider");return e},I=(0,i.createContext)(void 0),F=function(e){var t=e.children,r=e.value;return(0,D.tZ)(I.Provider,{value:r,children:t})},_=function(){var e=(0,i.useContext)(I);if(void 0===e)throw Error("useDataContext must be used within a DataProvider");return e},M=r(44285);function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var H={activeUsers:!1,dateJoinedFrom:void 0,dateJoinedTo:void 0,foodSafetyCertificate:!1,lastActiveFrom:void 0,lastActiveTo:void 0,name:void 0,role:{Manager:!1,Employee:!1,Trainee:!1,"Work experience":!1},status:void 0,trainingCompleted:{"Ice cream making":!1,Packaging:!1,Deliveries:!1,Distribution:!1}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,i.useReducer)(z,{pagination:{page:1,perPage:e.itemsPerPage||10},sort:{field:"name",order:"ASC"},filters:W(W({},H),e.filters),selection:[]}),r=t[0],n=t[1],o=r.sort,a=r.filters,c=r.pagination,l=r.selection;return{sort:o,setSort:function(e){n({type:"SET_SORT",payload:e}),n({type:"RESET_PAGINATION"})},filters:a,setFilter:function(e){n({type:"SET_FILTER",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},setFilters:function(e){n({type:"SET_FILTERS",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},removeFilter:function(e){n({type:"REMOVE_FILTER",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},resetFilters:function(){n({type:"RESET_FILTERS"}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},pagination:c,setPagination:function(e){n({type:"SET_PAGINATION",payload:e}),n({type:"CLEAR_SELECTION"})},selection:l,isRowSelected:function(e){return l.some(function(t){return t===e})},toggleRowSelected:function(e){n({type:"TOGGLE_ROW",payload:e})},selectRows:function(e){n({type:"SELECT_ROWS",payload:e})},clearRowSelections:function(){n({type:"CLEAR_SELECTION"})}}};function z(e,t){switch(t.type){case"SET_SORT":return W(W({},e),{},{sort:t.payload});case"SET_FILTERS":return W(W({},e),{},{filters:t.payload});case"SET_FILTER":return W(W({},e),{},{filters:W(W({},e.filters),t.payload)});case"REMOVE_FILTER":return W(W({},e),{},{filters:W(W({},e.filters),{},(0,o.Z)({},t.payload,H[t.payload]))});case"RESET_FILTERS":return W(W({},e),{},{filters:H});case"SET_PAGINATION":return W(W({},e),{},{pagination:t.payload});case"RESET_PAGINATION":return W(W({},e),{},{pagination:W(W({},e.pagination),{},{page:1})});case"TOGGLE_ROW":if(e.selection.includes(t.payload))return W(W({},e),{},{selection:e.selection.filter(function(e){return e!==t.payload})});return W(W({},e),{},{selection:[].concat((0,M.Z)(e.selection),[t.payload])});case"SELECT_ROWS":return W(W({},e),{},{selection:t.payload});case"CLEAR_SELECTION":return W(W({},e),{},{selection:[]});default:return e}}var G=r(30684),U=r(55732),q=r(57135),J=r.n(q);function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var Q=function(e,t){var r=!0,n=t.activeUsers,o=t.lastActiveFrom,i=t.lastActiveTo,a=t.name,c=t.role,l=t.status,s=t.trainingCompleted;if(n&&(r="Active"===e.status&&r),o||i){var u=new Date(o||0).getTime(),d=(i?new Date(i):new Date).getTime(),f=new Date(e.lastActive).getTime();(u>f||d<f)&&(r=!1)}return l&&(r=e.status===l&&r),c&&Object.values(c).some(Boolean)&&(r=!!c[e.role]&&r),s&&Object.values(s).some(Boolean)&&(r=!!e.trainingCompleted.map(function(e){return s[e]}).some(Boolean)&&r),a&&(r=!!e.name.toLowerCase().includes(a.toLowerCase())&&r),r},V=function(e,t,r){var n=r.field,o=r.order,i=e[n],a=t[n];return null==i?1:null==a?-1:i>a?"ASC"===o?1:-1:i<a?"ASC"===o?-1:1:0};function $(){return($=(0,U.Z)(J().mark(function e(t,r){var n,o,i,a,c;return J().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=r.pagination).page,i=n.perPage,c=(a=t.filter(function(e){return Q(e,r.filters)}).sort(function(e,t){return V(e,t,r.sort)}).map(function(e,t){return Y(Y({},e),{},{index:t})})).slice((o-1)*i,o*i),e.abrupt("return",new Promise(function(e){setTimeout(function(){e({displayData:c,total:a.length,totalPages:Math.ceil(a.length/i),totalItems:a.length})},1e3)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ee=r(2345),et=r(89205),er=r(84007),en=r(63939),eo=r(28501),ei=function(e){for(var t=e.filters,r=e.removeFilter,n=Object.entries(t),o=[],i=0;i<n.length;i++)if(0===function(){var e=(0,C.Z)(n[i],2),t=e[0],a=e[1];if(!a)return 0;var c={activeUsers:!1,dateJoinedFrom:"Date joined",dateJoinedTo:"Date joined",foodSafetyCertificate:"Food safety certificate",lastActiveFrom:"Last active",lastActiveTo:"Last active",name:"Name",role:"Role",status:"Status",trainingCompleted:"Training completed"}[t],l=function(){return r(t)};if("activeUsers"===t)return a&&o.push({label:"Active users",onRemove:l}),0;if("role"===t){var s=Object.keys(a);return s.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(s.reduce(function(e,t){return a[t]?[].concat((0,M.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}if("trainingCompleted"===t){var u=Object.keys(a);return u.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(u.reduce(function(e,t){return a[t]?[].concat((0,M.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}return"status"===t?(o.push({label:"".concat(c,": ").concat(eo.UO[a].label),onRemove:l}),0):"lastActiveFrom"===t?(o.push({label:"Last active from: ".concat((0,ee.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):"lastActiveTo"===t?(o.push({label:"Last active to: ".concat((0,ee.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):Array.isArray(a)?(0===a.length||o.push({label:"".concat(c,": ").concat(a.join(", ")),onRemove:l}),0):void o.push({label:"".concat(c,": ").concat(a),onRemove:l})}())continue;return o},ea=function(){var e=X(),t=e.filters,r=e.removeFilter,n=e.resetFilters,o=ei({filters:t,removeFilter:r});return 0===o.length?null:(0,D.BX)(er.Flex,{flexWrap:"wrap",gap:.75,alignItems:"flex-end",children:[(0,D.tZ)(en.$G,{heading:(0,D.tZ)(et.Text,{as:"h3",fontWeight:"bold",children:"Active filters"}),items:o}),(0,D.tZ)(k.Button,{size:"sm",variant:"text",onClick:n,iconAfter:j.Tw,children:"Clear filters"})]})},ec=r(67098),el=r(97097),es=r(64388),eu=r(10043),ed=r(11752),ef=(0,eu.F4)(n||(n=(0,ed.Z)(["\n  0% { opacity: 0.84; }\n  100% { opacity: 0.2 }\n"]))),ep=function(e){var t=e.fontSize,r=e.lineHeight,n=e.height,o=e.width;return(0,D.tZ)(B.Box,{"aria-hidden":"true",display:"block",fontSize:void 0===t?"sm":t,lineHeight:void 0===r?"default":r,height:void 0===n?"auto":n,width:void 0===o?"100%":o,highContrastOutline:!0,rounded:!0,css:(0,eu.iv)({animation:"".concat(ef," 1200ms ").concat(x.tokens.transition.timingFunction," infinite alternate"),backgroundColor:x._X.border,cursor:"progress","&::before":{content:'"\\00a0"'}},"","")})},eb=r(99164),eh=function(e){var t=e.fontSize,r=e.lineHeight,n=e.width;return(0,D.tZ)(ep,{fontSize:void 0===t?"sm":t,lineHeight:void 0===r?"default":r,width:void 0===n?"100%":n})},eg=r(74455),em=r(7971),ev=r(50463),ey=r(20708),eO=r(99803),ew=r(22874),eZ=r(92100),eP=r(81715),eC=function(e){var t=e.currentRole,r=e.isOpen,n=e.onConfirm,o=e.onClose,a=(0,i.useState)(!1),c=a[0],l=a[1],s=(0,i.useState)(t),u=s[0],d=s[1],f=(0,i.useCallback)(function(e){return function(){return d(e)}},[]),p=function(e){return e===u};return(0,D.tZ)(ew.Drawer,{isOpen:r,onClose:o,title:"Change role",actions:(0,D.BX)(k.ButtonGroup,{children:[(0,D.tZ)(k.Button,{form:"change-role-drawer",loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),n()},1500)},children:"Change role"}),(0,D.tZ)(k.Button,{variant:"secondary",onClick:o,children:"Cancel"})]}),children:(0,D.tZ)("form",{id:"change-role-drawer",children:(0,D.BX)(eZ.ControlGroup,{block:!0,label:"Export service role",required:!0,children:[(0,D.BX)(eP.Radio,{checked:p("Manager"),onChange:f("Manager"),children:["Manager","Manager"===t&&" (current role)"]}),(0,D.BX)(eP.Radio,{checked:p("Employee"),onChange:f("Employee"),children:["Employee","Employee"===t&&" (current role)"]}),(0,D.BX)(eP.Radio,{checked:p("Trainee"),onChange:f("Trainee"),children:["Trainee","Trainee"===t&&" (current role)"]})]})})})},eS=r(85875);function eT(e){var t=e.isOpen,r=e.onConfirm,n=e.onClose,o=e.itemsToPause,a=(0,i.useState)(!1),c=a[0],l=a[1],s=(0,i.useMemo)(function(){return Array.isArray(o)?{title:"Are you sure you want to pause access for ".concat(o.length," staff ").concat((0,eo.Ho)(o.length,"member","members"),"?"),description:"Access will be paused immediately. You can not undo this action."}:{title:"Are you sure you want to pause access for ".concat(o.name,"?"),description:"Access will be paused immediately. You can not undo this action."}},[o]),u=s.title,d=s.description;return(0,D.tZ)(eS.Modal,{isOpen:t,onClose:n,title:u,actions:(0,D.BX)(k.ButtonGroup,{children:[(0,D.tZ)(k.Button,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),r()},1500)},children:"Pause access"}),(0,D.tZ)(k.Button,{variant:"secondary",onClick:n,children:"Cancel"})]}),children:(0,D.tZ)(et.Text,{as:"p",children:d})})}var ek=r(72207);function ex(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var ej={Active:{label:"Active",tone:"successMedium"},Invited:{label:"Invited",tone:"inProgressLow"},Paused:{label:"Paused",tone:"pausedLow"}},eB=function(e){var t=e.status;return(0,D.tZ)(eg.TableCell,{children:(0,D.tZ)(ey.StatusBadge,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ex(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({appearance:"subtle"},ej[t]))})},eE=function(e){var t=e.name,r=e.children,n=e.item,o=e.itemId,a=e.rowIndex,c=e.selectable,l=_(),s=l.setSuccessMessageType,u=l.setUpdatedStaffMemberName,d=(0,G.M)(),f=d.staffMembersDelete,p=d.staffMembersUpdate,b=X(),h=b.isRowSelected,g=b.toggleRowSelected,m=(0,i.useState)(!1),v=m[0],y=m[1],O=(0,i.useState)(!1),w=O[0],Z=O[1],P=(0,i.useState)(!1),C=P[0],S=P[1];return c?(0,D.BX)(eg.TableRow,{"aria-rowindex":a,selected:h(o),children:[(0,D.tZ)(eg.TableCell,{children:(0,D.tZ)(ev.Checkbox,{size:"sm",checked:h(o),onChange:function(){return g(o)},children:(0,D.tZ)(es.TX,{children:"Select ".concat(t)})})}),r,(0,D.tZ)(eg.TableCell,{children:(0,D.BX)(eO.DropdownMenu,{children:[(0,D.tZ)(eO.DropdownMenuButton,{"aria-describedby":"".concat(o,"-name"),children:"Actions"}),(0,D.BX)(eO.DropdownMenuPanel,{children:[(0,D.tZ)(eO.DropdownMenuItem,{onClick:function(){Z(!0)},children:"Pause access"}),(0,D.tZ)(eO.DropdownMenuItem,{onClick:function(){y(!0)},children:"Remove access"})]})]})}),(0,D.tZ)(eC,{currentRole:n.role,isOpen:C,onClose:function(){return S(!1)},onConfirm:function(){console.log("Change role"),S(!1)}}),(0,D.tZ)(eT,{itemsToPause:n,isOpen:w,onClose:function(){return Z(!1)},onConfirm:function(){p({staffToUpdate:n,updates:{status:"Paused"}}),Z(!1),null==u||u(n.name),null==s||s("pause")}}),(0,D.tZ)(ek.E,{itemsToDelete:n,isOpen:v,onClose:function(){return y(!1)},onConfirm:function(){f(n),y(!1),null==u||u(n.name),null==s||s("remove")}})]}):(0,D.tZ)(eg.TableRow,{"aria-rowindex":a,children:r})};function eD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eR=function(){var e=_(),t=e.setSuccessMessageType,r=e.setUpdatedStaffMemberName,n=(0,G.M)(),a=n.staffMembersDelete,c=n.staffMembersUpdate,l=X(),s=l.selection,u=l.clearRowSelections,d=_().displayData,f=(0,i.useMemo)(function(){return d.reduce(function(e,t){return null!=t&&t.name?eA(eA({},e),{},(0,o.Z)({},t.id,t)):e},{})},[d]),p=s.map(function(e){return f[e]}),b=(0,i.useState)(!1),h=b[0],g=b[1],m=(0,i.useState)(!1),v=m[0],y=m[1],O=(0,i.useState)(!1),w=O[0],Z=O[1];return s.length?(0,D.BX)(eg.HY,{children:[(0,D.BX)(eg.Sh,{children:["Apply action to ",s.length," ",(0,eo.Ho)(s.length,"item","items")]}),(0,D.BX)(k.ButtonGroup,{children:[(0,D.tZ)(k.Button,{variant:"secondary",size:"sm",onClick:function(){y(!0)},children:"Pause access"}),(0,D.tZ)(k.Button,{variant:"secondary",size:"sm",onClick:function(){g(!0)},children:"Remove access"}),(0,D.tZ)(k.Button,{variant:"tertiary",size:"sm",onClick:u,children:"Cancel"})]}),(0,D.tZ)(eC,{isOpen:w,onClose:function(){return Z(!1)},onConfirm:function(){console.log("Change role"),Z(!1)}}),(0,D.tZ)(eT,{itemsToPause:p,isOpen:v,onClose:function(){return y(!1)},onConfirm:function(){c({staffToUpdate:p,updates:{status:"Paused"}}),y(!1),u(),null==r||r("".concat(p.length," ").concat(p.length>1?"people":"person")),null==t||t(p.length>1?"pauseBatch":"pause")}}),(0,D.tZ)(ek.E,{itemsToDelete:p,isOpen:h,onClose:function(){return g(!1)},onConfirm:function(){a(p),g(!1),u(),null==r||r("".concat(p.length," ").concat(p.length>1?"people":"person")),null==t||t(p.length>1?"removeBatch":"remove")}})]}):null},eX="data-table",eI="data-table-description",eF=(0,i.forwardRef)(function(e,t){var r=e.headingId,n=e.selectable,o=X(),a=o.sort,c=o.setSort,l=o.pagination,s=o.resetFilters,u=_(),d=u.displayData,f=u.loading,p=u.totalItems,b=u.error,h=!!a||!!c,g=(0,eo.KD)({loading:f,totalItems:p,pagination:l});return b?(0,D.BX)(T.Stack,{gap:1,role:"status",children:[(0,D.tZ)(j.AlertFilledIcon,{color:"error",size:"lg"}),(0,D.tZ)(eb.Heading,{type:"h2",fontSize:"lg",children:"Failed to load"}),(0,D.tZ)(et.Text,{children:"There was an error loading the data. Please try refreshing the page to try again."})]}):f||0!==d.length?(0,D.BX)(T.Stack,{gap:.5,children:[r?(0,D.tZ)("div",{css:es.JM,id:eI,children:"Table column headers with buttons are sortable."}):null,(0,D.tZ)("div",{role:"status",css:es.JM,children:f?"Loading staff members":""}),(0,D.tZ)(eg.TableWrapper,{children:(0,D.BX)(eg.Table,{"aria-rowcount":p,"aria-labelledby":r?"".concat(r," ").concat(eI):void 0,id:eX,ref:t,tabIndex:-1,tableLayout:"fixed",children:[!r&&(0,D.BX)(eg.Rn,{children:[g,(0,D.tZ)(es.TX,{children:", column headers with buttons are sortable."})]}),(0,D.tZ)(eg.TableHead,{children:(0,D.BX)(eg.TableRow,{"aria-rowindex":1,children:[n&&(0,D.tZ)(eg.TableHeader,{scope:"col",width:"5rem",children:"Select"}),e_.map(function(e){var t=e.isSortable,r=e.label,n=e.sortKey,o=e.width;if(h&&t){var i=(null==a?void 0:a.field)===n;return(0,D.tZ)(eg._s,{width:o,sort:i?null==a?void 0:a.order:void 0,onClick:function(){return null==c?void 0:c({field:n,order:(null==a?void 0:a.field)===n&&(null==a?void 0:a.order)==="ASC"?"DESC":"ASC"})},children:r},n)}return(0,D.tZ)(eg.TableHeader,{scope:"col",width:o,children:r},n)})]})}),(0,D.tZ)(eg.TableBody,{children:f?(0,D.tZ)(i.Fragment,{children:Array.from(Array(l.perPage).keys()).map(function(e){return(0,D.BX)(eg.TableRow,{children:[n&&(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(eh,{}),(0,D.tZ)(es.TX,{children:"Loading"})]}),(0,D.BX)(eg.TableCell,{children:[(0,D.tZ)(ep,{height:32}),(0,D.tZ)(es.TX,{children:"Loading"})]})]},e)})}):(0,D.tZ)(i.Fragment,{children:d.map(function(e){var t=e.index,r=e.name,o=e.role,i=e.status,a=e.lastActive,c=e.dateJoined;return(0,D.BX)(eE,{selectable:n,item:e,itemId:e.id,name:r,rowIndex:t+2,children:[(0,D.tZ)(eg.TableCell,{as:"th",scope:"row",children:(0,D.tZ)(em.TextLink,{href:"/app/staff/".concat(e.name.toLowerCase().replaceAll(" ","-")),id:"".concat(e.id,"-name"),children:r})}),(0,D.tZ)(eg.TableCell,{children:o}),(0,D.tZ)(eB,{status:i}),(0,D.tZ)(eg.TableCell,{children:a&&"".concat((0,el.Z)(new Date,new Date(a))," ago")}),(0,D.tZ)(eg.TableCell,{children:c&&(0,ee.Z)(new Date(c),"d MMMM yyyy")})]},r)})})})]})}),(0,D.tZ)(eR,{})]}):(0,D.BX)(T.Stack,{gap:2,alignItems:"flex-start",paddingY:1,role:"status",children:[(0,D.BX)(T.Stack,{gap:1,children:[(0,D.tZ)(j.HelpIcon,{size:"lg",color:"muted"}),(0,D.tZ)(eb.Heading,{type:"h2",fontSize:"lg",children:"No results found"}),(0,D.tZ)(et.Text,{children:"Try adjusting your filter options."})]}),(0,D.tZ)(k.Button,{onClick:s,children:"Clear filters"})]})}),e_=[{label:"Name",sortKey:"name",width:"20rem",isSortable:!0},{label:"Role",sortKey:"role",width:"12rem",isSortable:!0},{label:"Status",sortKey:"status",width:"12rem",isSortable:!0},{label:"Last active",sortKey:"lastActive",width:"12rem",isSortable:!0},{label:"Date joined",sortKey:"dateJoined",width:"14rem",isSortable:!0},{label:"Actions",sortKey:"actions",width:"9rem",isSortable:!1}],eM=function(){var e=X(),t=e.sort,r=e.setSort;return(0,D.tZ)(ec.Select,{label:"Sort by",hideOptionalLabel:!0,options:[{value:"name-ASC",label:"Name (A-Z)"},{value:"name-DESC",label:"Name (Z-A)"},{value:"role-ASC",label:"Role (A-Z)"},{value:"role-DESC",label:"Role (Z-A)"},{value:"status-ASC",label:"Status (A-Z)"},{value:"status-DESC",label:"Status (Z-A)"},{value:"lastActive-ASC",label:"Last active (oldest first)"},{value:"lastActive-DESC",label:"Last active (newest first)"},{value:"dateJoined-ASC",label:"Date joined (oldest first)"},{value:"dateJoined-DESC",label:"Date joined (newest first)"}],value:"".concat(t.field,"-").concat(t.order),"aria-controls":eX,onChange:function(e){var t=e.target.value.split("-"),n=(0,C.Z)(t,2);r({field:n[0],order:n[1]})}})},eL=r(88090),eW=r(73403),eH=r(87913);function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ez(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eG=function(e){var t=e.isDrawerOpen,r=e.closeDrawer,n=X(),a=n.filters,c=n.setFilters,l=n.resetFilters,s=(0,i.useState)(a),u=s[0],d=s[1];(0,i.useEffect)(function(){d(a)},[a]);var f=function(){r(),d(a)},p=function(){throw Error("Not implemented")},b=function(e){return function(t){return d(function(r){return ez(ez({},r),{},{role:ez(ez({},r.role),{},(0,o.Z)({},e,t.target.checked))})})}},h=function(e){return function(t){return d(function(r){return ez(ez({},r),{},{trainingCompleted:ez(ez({},r.trainingCompleted),{},(0,o.Z)({},e,t.target.checked))})})}};return(0,D.tZ)(R,{value:{filters:u,setFilters:d,setFilter:function(e){d(ez(ez({},u),e))},sort:{field:"dateJoined",order:"ASC"},setSort:p,removeFilter:p,resetFilters:p,pagination:{page:1,perPage:1},setPagination:p,selection:[],isRowSelected:p,toggleRowSelected:p,selectRows:p,clearRowSelections:p},children:(0,D.tZ)(ew.Drawer,{title:"Filter by",isOpen:t,onClose:f,actions:(0,D.BX)(k.ButtonGroup,{children:[(0,D.tZ)(k.Button,{form:"staff-filters-form",onClick:function(){c(u),r()},children:"Apply filters"}),(0,D.tZ)(k.Button,{variant:"secondary",onClick:function(){l(),d(H)},children:"Clear filters"}),(0,D.tZ)(k.Button,{variant:"tertiary",onClick:f,children:"Cancel"})]}),children:(0,D.tZ)("form",{id:"staff-filters-form",children:(0,D.BX)(eL.FormStack,{children:[(0,D.BX)(eZ.ControlGroup,{block:!0,label:"Role",required:!0,children:[(0,D.tZ)(eW.Checkbox,{checked:u.role.Manager,onChange:b("Manager"),value:"manager",children:"Manager"}),(0,D.tZ)(eW.Checkbox,{checked:u.role.Employee,onChange:b("Employee"),value:"employee",children:"Employee"}),(0,D.tZ)(eW.Checkbox,{checked:u.role.Trainee,onChange:b("Trainee"),value:"trainee",children:"Trainee"}),(0,D.tZ)(eW.Checkbox,{checked:u.role["Work experience"],onChange:b("Work experience"),value:"work-experience",children:"Work experience"})]}),(0,D.BX)(eZ.ControlGroup,{block:!0,label:"Training completed",required:!0,children:[(0,D.tZ)(eW.Checkbox,{checked:u.trainingCompleted["Ice cream making"],onChange:h("Ice cream making"),value:"ice-cream-making",children:"Ice cream making"}),(0,D.tZ)(eW.Checkbox,{checked:u.trainingCompleted.Packaging,onChange:h("Packaging"),value:"packaging",children:"Packaging"}),(0,D.tZ)(eW.Checkbox,{checked:u.trainingCompleted.Distribution,onChange:h("Distribution"),value:"distribution",children:"Distribution"}),(0,D.tZ)(eW.Checkbox,{checked:u.trainingCompleted.Deliveries,onChange:h("Deliveries"),value:"deliveries",children:"Deliveries"})]}),(0,D.tZ)(eH.DateRangePicker,{fromLabel:"From date",legend:"Last active",onChange:function(e){var t=e.from,r=e.to;return d(function(e){return ez(ez({},e),{},{lastActiveFrom:null==t?void 0:t.toISOString(),lastActiveTo:null==r?void 0:r.toISOString()})})},onFromInputChange:function(e){return d(function(t){return ez(ez({},t),{},{lastActiveFrom:e})})},onToInputChange:function(e){return d(function(t){return ez(ez({},t),{},{lastActiveTo:e})})},required:!0,toLabel:"To date",value:{from:u.lastActiveFrom,to:u.lastActiveTo}})]})})})})},eU=r(67879),eq=function(e){var t=e.block,r=X(),n=r.filters,o=r.setFilter;return(0,D.tZ)("div",{"aria-label":"Staff members",role:"search",children:(0,D.tZ)(eU.SearchInput,{label:"Search name","aria-controls":eX,maxWidth:"lg",hideOptionalLabel:!0,block:t,value:n.name||"",onChange:function(e){o({name:e})}})})},eJ=function(e){var t=e.children;return(0,D.tZ)(T.Stack,{as:"section",gap:1,"aria-label":"Filters",borderBottom:!0,paddingBottom:1.5,children:t})},eK=function(e){var t=e.children;return(0,D.tZ)(er.Flex,{columnGap:1,rowGap:1.5,alignItems:{xs:"stretch",lg:"flex-end"},justifyContent:{xs:"flex-start",md:"space-between"},flexDirection:{xs:"column",lg:"row"},children:t})},eY=function(e){var t=e.children;return(0,D.tZ)(er.Flex,{flexWrap:"wrap",columnGap:1,rowGap:1.5,flexDirection:{xs:"column",md:"row"},alignItems:{xs:"stretch",md:"flex-end"},children:t})},eQ=r(1357),eV=function(){var e=X(),t=e.pagination,r=e.setPagination,n=_(),o=n.displayData,a=n.totalItems,c=n.totalPages,l=n.loading,s=(0,eQ.XK)({totalItems:a,currentPage:t.page,itemsPerPage:t.perPage,singularNoun:"item",pluralNoun:"items"}),u=(0,i.useState)({page:t.page,itemRangeText:s,perPage:t.perPage}),d=u[0],f=u[1];return((0,i.useEffect)(function(){l||f({page:t.page,itemRangeText:s,perPage:t.perPage})},[s,l,t.page,t.perPage]),o.length)?(0,D.tZ)(eQ.PaginationButtons,{currentPage:d.page,onChange:function(e){return r({perPage:d.perPage,page:e})},totalPages:c,itemRangeText:d.itemRangeText,itemsPerPage:d.perPage,onItemsPerPageChange:function(e){return r({page:e$({currentPage:t.page,totalItems:a,perPage:e,prevPerPage:t.perPage}),perPage:e})}}):null},e$=function(e){var t=e.currentPage,r=e.totalItems,n=e.perPage,o=e.prevPerPage;return t>r/n?Math.ceil(r/n):Math.floor(Math.floor(t*o+(1-o))/n+1)},e0=function(){var e,t,r,n,o,a,c,l,s=(e=_().displayData,r=(t=X()).selection,n=t.selectRows,o=t.clearRowSelections,a=(0,i.useMemo)(function(){return e.map(function(e){return e.id})},[e]),c=(0,i.useMemo)(function(){return r.length>0},[r]),{isSelectAllCheckboxChecked:l=(0,i.useMemo)(function(){return a.length>0&&a.every(function(e){return r.includes(e)})},[a,r]),isSelectAllCheckboxIndeterminate:!l&&c,toggleAllRowsSelected:function(){l?o():n(a)}}),u=s.toggleAllRowsSelected,d=s.isSelectAllCheckboxChecked,f=s.isSelectAllCheckboxIndeterminate;return(0,D.tZ)(ev.Checkbox,{size:"sm",checked:d,indeterminate:f,onChange:u,children:"Select all rows"})},e1=r(53169),e2={sm:{borderWidth:x.lB.control.sm.borderWidth,height:x.lB.control.sm.height,thumbCheckedPos:"1.25rem",width:"2.75rem"},md:{borderWidth:x.lB.control.md.borderWidth,height:x.lB.control.md.height,thumbCheckedPos:"1.5rem",width:"3.5rem"}};function e5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var e7={name:"sfltnx",styles:"position:relative;flex-shrink:0"},e8=function(e){var t=e.children,r=e2[e.size],n=r.width,o=r.height;return(0,D.tZ)(B.Box,{as:"span",width:n,height:o,css:e7,children:t})},e4=function(e){var t=e.checked,r=e2[e.size],n=r.borderWidth,i=r.height;return(0,D.tZ)(B.Box,{as:"span",css:(0,eu.iv)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e5(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e5(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderWidth:n,borderStyle:"solid",borderRadius:i,position:"absolute",inset:0},t?{backgroundColor:x._X.selected,borderColor:x._X.selected}:{borderColor:x._X.border,backgroundColor:x._X.backgroundShade}),"","")})},e3={sm:{prop:"sm",actual:"0.875rem"},md:{prop:"md",actual:"1.375rem"}},e9=function(e){var t=e.checked,r=e.size,n=e2[r],o=n.thumbCheckedPos,i=n.borderWidth,a=n.height,c=e3[r];return(0,D.tZ)(er.Flex,{as:"span",alignItems:"center",justifyContent:"center",height:a,width:a,background:"body",css:(0,eu.iv)({borderRadius:a,borderWidth:i,borderStyle:"solid",borderColor:t?x._X.selected:x._X.foregroundAction,position:"absolute",transition:"left ".concat(x.tokens.transition.duration,"ms ").concat(x.tokens.transition.timingFunction),left:t?o:"0rem"},"",""),children:t&&(0,D.tZ)(j.nQ,{weight:"bold",color:"selected",size:c.prop,css:(0,eu.iv)({width:c.actual,height:c.actual},"","")})})};function e6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e6(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tt=function(e){var t=e.size,r=void 0===t?"md":t,n=e.label,o=e.onChange,i=e.checked;return(0,D.BX)(er.Flex,{as:"label",gap:.75,alignItems:"center",css:(0,eu.iv)({width:"fit-content",cursor:"pointer","&:hover":{"& input:not(:focus) ~ span:first-of-type":{borderColor:x._X.foregroundText,backgroundColor:i?x._X.foregroundText:x._X.backgroundShadeAlt},"& input:not(:focus) ~ span:last-of-type":{borderColor:x._X.foregroundText,"& svg":{stroke:i?x._X.foregroundText:void 0}}}},"",""),children:[(0,D.BX)(e8,{size:r,children:[(0,D.tZ)("input",{type:"checkbox",role:"switch",checked:i,onChange:function(){return o(!i)},css:(0,eu.iv)(te(te({},es.JM),{},{"&:focus-visible ~ span:first-of-type":x.lB.outline}),"","")}),(0,D.tZ)(e4,{size:r,checked:i}),(0,D.tZ)(e9,{size:r,checked:i})]}),(0,D.tZ)(et.Text,{children:n})]})},tr=function(){var e=X(),t=e.filters,r=e.setFilter;return(0,D.tZ)(e1.Box,{paddingBottom:.5,children:(0,D.tZ)(tt,{"aria-controls":eX,checked:t.activeUsers,label:"Active users",onChange:function(e){r({activeUsers:e})}})})};function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ti={invite:{description:"will receive an email asking them to create a staff account.",titlePrefix:"An email invitation has been sent to",titleSuffix:""},update:{description:null,titlePrefix:"",titleSuffix:"has been updated"},pause:{description:null,titlePrefix:"",titleSuffix:"has been paused as a staff member"},pauseBatch:{description:null,titlePrefix:"",titleSuffix:"have been paused as staff members"},remove:{description:null,titlePrefix:"",titleSuffix:"has been removed as a staff member"},removeBatch:{description:null,titlePrefix:"",titleSuffix:"have been removed as a staff members"}},ta=function(e){var t,r,n,o,a,c,l,s,u,d,f,p,h,g,m,v,y,O,w=e.selectable,Z=e.tableRef,P=(0,S.useRouter)(),A=(0,G.M)(),X=A.staffMembersGetState,I=A.staffMembersDelete,_=(0,x.useTernaryState)(!1),M=(0,C.Z)(_,3),L=M[0],W=M[1],H=M[2],z=N(),U=(r=(t={filters:z.filters,pagination:z.pagination,sort:z.sort}).sort,n=t.filters,o=t.pagination,a=t.throwError,l=(c=(0,i.useState)(!0))[0],s=c[1],d=(u=(0,i.useState)([]))[0],f=u[1],h=(p=(0,i.useState)(0))[0],g=p[1],v=(m=(0,i.useState)(0))[0],y=m[1],O=(0,(0,G.M)().staffMembersGetState)(),((0,i.useEffect)(function(){s(!0),(function(e,t){return $.apply(this,arguments)})(O,{sort:r,filters:n,pagination:o}).then(function(e){f(e.displayData),g(e.totalPages),y(e.totalItems),s(!1)})},[O,r,n,o]),a)?{error:"Something went wrong",loading:!1,displayData:[],totalPages:0,totalItems:0}:{loading:l,displayData:d,totalPages:h,totalItems:v}),q=(0,i.useState)(P.query.successType),J=q[0],K=q[1],Y=(0,i.useState)(function(){var e=X().find(function(e){return P.query.staffId===(null==e?void 0:e.id)});return e&&"remove"===P.query.successType&&I(e),(null==e?void 0:e.name)||""}),Q=Y[0],V=Y[1];return(0,D.tZ)(R,{value:z,children:(0,D.BX)(F,{value:to(to({},U),{},{setSuccessMessageType:K,setUpdatedStaffMemberName:V}),children:[J&&Q&&(0,D.tZ)(E.SectionAlert,{focusOnUpdate:[J,Q].join(""),onClose:function(){K(null),P.replace(P.pathname,void 0,{shallow:!0})},title:"".concat(ti[J].titlePrefix," ").concat(Q," ").concat(ti[J].titleSuffix),tone:"success",children:ti[J].description&&(0,D.BX)(b.Text,{as:"p",children:[Q," ",ti[J].description]})}),(0,D.BX)(T.Stack,{gap:0,children:[(0,D.BX)(eJ,{children:[(0,D.BX)(eK,{children:[(0,D.BX)(eY,{children:[(0,D.tZ)(eq,{}),(0,D.tZ)(tr,{}),(0,D.tZ)(k.Button,{onClick:W,variant:"secondary",iconBefore:j.FilterIcon,children:"Show filters"})]}),(0,D.tZ)(eM,{})]}),(0,D.tZ)(eG,{isDrawerOpen:L,closeDrawer:H}),(0,D.tZ)(ea,{})]}),w&&!!U.totalItems&&(0,D.tZ)(B.Box,{borderBottom:!0,padding:1,children:(0,D.tZ)(e0,{})}),(0,D.tZ)(eF,{headingId:"staff-members-heading",ref:Z,selectable:w})]}),(0,D.tZ)(eV,{})]})})};function tc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var tl=function(){var e=(0,(0,G.M)().accessRequestsGetState)(),t=(0,i.useRef)(null);return(0,D.BX)(i.Fragment,{children:[(0,D.tZ)(y.$,{title:"Staff"}),(0,D.tZ)(a.PageContent,{children:(0,D.BX)(c.Stack,{gap:3,children:[(0,D.tZ)(w.V,{title:"Staff",introduction:(0,D.BX)(D.HY,{children:["Manage who can act for"," ",(0,D.tZ)(b.Text,{fontSize:"md",fontWeight:"bold",children:"Walkerâ€˜s Frozen Food"}),"."]}),callToAction:(0,D.BX)(c.Stack,{gap:2,maxWidth:"42rem",children:[(0,D.tZ)(g.Details,{label:"Why should I invite a new staff member?",children:(0,D.BX)(c.Stack,{gap:1,children:[(0,D.tZ)(b.Text,{as:"p",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,D.tZ)(p.TextLink,{children:"Learn more about inviting a staff member"})]})}),(0,D.tZ)(h.ButtonLink,{alignSelf:"start",href:"/app/staff/invite-staff-member",children:"Invite staff member"})]})}),(0,D.BX)(l.Tabs,{contained:!1,children:[(0,D.BX)(l.TabList,{children:[(0,D.tZ)(l.TabButton,{children:"Staff members"}),(0,D.tZ)(l.TabButton,{children:(0,D.BX)(v.Flex,{gap:.5,children:["Access requests"," ",e.length>0&&(0,D.tZ)(m.NotificationBadge,{tone:"action",value:e.length})]})})]}),(0,D.BX)(l.TabPanels,{children:[(0,D.tZ)(l.TabPanel,{children:(0,D.BX)(c.Stack,{gap:3,children:[(0,D.tZ)(f.H2,{id:"staff-members-heading",children:"Staff members"}),(0,D.tZ)(ta,{selectable:!0,tableRef:t})]})}),(0,D.tZ)(l.TabPanel,{children:(0,D.BX)(c.Stack,{gap:1.5,children:[(0,D.tZ)(f.H2,{id:"access-requests-heading",children:"Access requests"}),(0,D.tZ)(d.TableWrapper,{children:(0,D.BX)(d.Table,{"aria-labelledby":"application-history-heading",children:[(0,D.tZ)(d.TableHead,{children:(0,D.BX)(d.TableRow,{children:[(0,D.tZ)(d.TableHeader,{scope:"col",width:"25%",children:"Reference number"}),(0,D.tZ)(d.TableHeader,{scope:"col",width:"25%",children:"Application type"}),(0,D.tZ)(d.TableHeader,{scope:"col",width:"25%",children:"Application status"}),(0,D.tZ)(d.TableHeader,{scope:"col",textAlign:"right",width:"25%",children:"Actions"})]})}),(0,D.tZ)(d.TableBody,{children:P.W.map(function(e,t){return(0,D.BX)(d.TableRow,{children:[(0,D.tZ)(d.TableCell,{as:"th",scope:"row",fontWeight:"bold",children:(0,D.tZ)(p.TextLink,{href:"/not-found",children:e.id})}),(0,D.tZ)(d.TableCell,{children:e.type}),(0,D.tZ)(d.TableCell,{children:(0,D.tZ)(u.StatusBadge,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tc(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({appearance:"subtle"},e.status))}),(0,D.tZ)(d.TableCell,{textAlign:"right",children:(0,D.tZ)(p.TextLink,{href:"/not-found",children:"View"})})]},t)})})]})})]})})]})]}),(0,D.tZ)(s.Columns,{cols:{xs:1,sm:4},children:(0,D.tZ)(s.Column,{columnSpan:{xs:1,sm:3},children:(0,D.tZ)(Z.O,{})})})]})})]})},ts=tl;tl.getLayout=function(e){return(0,D.tZ)(O.L,{children:(0,D.tZ)(G.w,{children:e})})}},56861:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/staff",function(){return r(91558)}])}},function(e){e.O(0,[4371,9998,2345,6749,1746,8486,2294,2210,9395,6741,7098,1249,7285,3071,684,6009,2874,8313,9774,2888,179],function(){return e(e.s=56861)}),_N_E=e.O()}]);