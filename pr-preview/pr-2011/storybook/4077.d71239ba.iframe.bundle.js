"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[4077],{"./packages/react/src/combobox/Combobox.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>Combobox});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),downshift__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/ComboboxBase/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/combobox/utils.ts"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["id","value","onChange","options","inputRef"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Combobox(_ref){let{id,value,onChange,options,inputRef:inputRefProp}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,_excluded);const inputId=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Yf)(id),{0:inputItems,1:setInputItems}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(options);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setInputItems(options)}),[options]);const combobox=(0,downshift__WEBPACK_IMPORTED_MODULE_5__.Bp)({items:inputItems,selectedItem:value,inputId,itemToString:item=>item?.label??"",onSelectedItemChange:({selectedItem=null})=>{onChange?.(selectedItem)},onInputValueChange:({inputValue,isOpen})=>{inputValue=inputValue?.toLowerCase()??"",setInputItems(isOpen?(0,_utils__WEBPACK_IMPORTED_MODULE_3__.f2)(options,inputValue):options)},stateReducer:(state,actionAndChanges)=>{const{type:actionAndChangesType,changes}=actionAndChanges;return actionAndChangesType===downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputBlur?_objectSpread(_objectSpread({},changes),{},{inputValue:state.selectedItem?.label??""}):changes}});return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Y)(_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__.j,_objectSpread({combobox,inputId,inputItems,inputRef:inputRefProp,isAutocomplete:!1},props))}},"./packages/react/src/combobox/ComboboxAsync.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{K:()=>ComboboxAsync});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),downshift__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),_ComboboxBase__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/combobox/ComboboxBase/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/utils.ts"),_useAsync__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/combobox/useAsync.ts"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["id","value","onChange","loadOptions","clearable","showDropdownTrigger","inputRef"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ComboboxAsync(_ref){let{id,value,onChange,loadOptions:loadOptionsProp,clearable=!1,showDropdownTrigger=!0,inputRef:inputRefProp}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,_excluded);const inputId=(0,_utils__WEBPACK_IMPORTED_MODULE_2__.Yf)(id),isAutocomplete=!showDropdownTrigger,{loading,networkError,inputItems,onInputValueChange,onIsOpenChange}=(0,_useAsync__WEBPACK_IMPORTED_MODULE_3__.Y)(loadOptionsProp),combobox=(0,downshift__WEBPACK_IMPORTED_MODULE_5__.Bp)({selectedItem:value,inputId,items:inputItems,defaultHighlightedIndex:0,itemToString:item=>item?.label??"",onInputValueChange,onIsOpenChange,onSelectedItemChange:({selectedItem=null})=>{onChange?.(selectedItem)},stateReducer:(state,actionAndChanges)=>{const{type:actionAndChangesType,changes}=actionAndChanges,shouldOpen=(changes.inputValue?.length??0)>0;switch(actionAndChangesType){case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputBlur:return _objectSpread(_objectSpread({},changes),{},{inputValue:state.selectedItem?.label??""});case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputClick:return isAutocomplete?_objectSpread(_objectSpread({},changes),{},{isOpen:!1}):changes;case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputChange:return isAutocomplete?_objectSpread(_objectSpread({},changes),{},{isOpen:shouldOpen}):changes;default:return changes}}});return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Y)(_ComboboxBase__WEBPACK_IMPORTED_MODULE_1__.j,_objectSpread({clearable,combobox,inputId,inputItems,inputRef:inputRefProp,isAutocomplete,loading,networkError,showDropdownTrigger},props))}},"./packages/react/src/combobox/ComboboxAsyncMulti.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>ComboboxAsyncMulti});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),downshift__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/ComboboxBase/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/combobox/utils.ts"),_useAsync__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/react/src/combobox/useAsync.ts"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["block","id","value","onChange","loadOptions"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ComboboxAsyncMulti(_ref){let{block=!0,id,value,onChange,loadOptions:loadOptionsProp}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.A)(_ref,_excluded);const inputId=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Yf)(id),{0:inputValue,1:setInputValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(),{0:_selectedItems,1:_setSelectedItems}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),selectedItems=void 0===value?_selectedItems:value,setSelectedItems=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((items=>{_setSelectedItems(items),onChange?.(items)}),[onChange]),multiSelection=(0,downshift__WEBPACK_IMPORTED_MODULE_6__.mH)({selectedItems,onStateChange({selectedItems:newSelectedItems,type}){switch(type){case downshift__WEBPACK_IMPORTED_MODULE_6__.mH.stateChangeTypes.SelectedItemKeyDownBackspace:case downshift__WEBPACK_IMPORTED_MODULE_6__.mH.stateChangeTypes.SelectedItemKeyDownDelete:case downshift__WEBPACK_IMPORTED_MODULE_6__.mH.stateChangeTypes.DropdownKeyDownBackspace:case downshift__WEBPACK_IMPORTED_MODULE_6__.mH.stateChangeTypes.FunctionRemoveSelectedItem:setSelectedItems(newSelectedItems??[])}}}),{loading,networkError,inputItems,onInputValueChange,onIsOpenChange}=(0,_useAsync__WEBPACK_IMPORTED_MODULE_4__.Y)(loadOptionsProp),items=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>(0,_utils__WEBPACK_IMPORTED_MODULE_3__.f2)(inputItems??[],inputValue,selectedItems)),[inputItems,inputValue,selectedItems]),combobox=(0,downshift__WEBPACK_IMPORTED_MODULE_6__.Bp)({inputId,items,itemToString:item=>item?.label??"",selectedItem:null,defaultHighlightedIndex:0,stateReducer(_state,actionAndChanges){const{changes,type}=actionAndChanges;switch(type){case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.InputKeyDownEnter:case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.ItemClick:return _objectSpread(_objectSpread({},changes),{},{inputValue:"",isOpen:!0});case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.InputBlur:return{inputValue:""};default:return changes}},onInputValueChange:options=>{setInputValue(options.inputValue??""),onInputValueChange(options)},onIsOpenChange,onStateChange({type,selectedItem:newSelectedItem}){switch(type){case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.InputKeyDownEnter:case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.ItemClick:case downshift__WEBPACK_IMPORTED_MODULE_6__.Bp.stateChangeTypes.InputBlur:newSelectedItem&&(setSelectedItems([...selectedItems,newSelectedItem]),setInputValue(""))}}});return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_7__.Y)(_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__.A,_objectSpread({block,clearable:!0,combobox,inputId,inputItems:items,loading,multiSelection,networkError,selectedItems,setSelectedItems},props))}},"./packages/react/src/combobox/ComboboxMulti.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>ComboboxMulti});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),downshift__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/downshift/dist/downshift.esm.js"),_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/ComboboxBase/index.ts"),_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/combobox/utils.ts"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["block","id","value","onChange","options"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ComboboxMulti(_ref){let{block=!0,id,value,onChange,options}=_ref,props=(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.A)(_ref,_excluded);const{0:inputValue,1:setInputValue}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),inputId=(0,_utils__WEBPACK_IMPORTED_MODULE_3__.Yf)(id),{0:_selectedItems,1:_setSelectedItems}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),selectedItems=void 0===value?_selectedItems:value,setSelectedItems=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((items=>{_setSelectedItems(items),onChange?.(items)}),[onChange]),items=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)((()=>(0,_utils__WEBPACK_IMPORTED_MODULE_3__.f2)(options,inputValue,selectedItems)),[options,inputValue,selectedItems]),previousSelectedItemsRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)([]),multiSelection=(0,downshift__WEBPACK_IMPORTED_MODULE_5__.mH)({selectedItems,getA11yStatusMessage:state=>{const{selectedItems}=state;if(selectedItems.length===previousSelectedItemsRef.current.length)return previousSelectedItemsRef.current=selectedItems,"";if(selectedItems.length>previousSelectedItemsRef.current.length){const addedItem=selectedItems.find((selectedItem=>previousSelectedItemsRef.current.findIndex((item=>item.value===selectedItem.value))<0));return previousSelectedItemsRef.current=selectedItems,`${addedItem?.label||"An item"} has been added.`}if(0===selectedItems.length&&previousSelectedItemsRef.current.length>0)return previousSelectedItemsRef.current=selectedItems,"All items have been removed.";const removedItem=previousSelectedItemsRef.current.find((selectedItem=>selectedItems.findIndex((item=>item.value===selectedItem.value))<0));return previousSelectedItemsRef.current=selectedItems,`${removedItem?.label||"An item"} has been removed.`},onStateChange({selectedItems:newSelectedItems,type}){switch(type){case downshift__WEBPACK_IMPORTED_MODULE_5__.mH.stateChangeTypes.SelectedItemKeyDownBackspace:case downshift__WEBPACK_IMPORTED_MODULE_5__.mH.stateChangeTypes.SelectedItemKeyDownDelete:case downshift__WEBPACK_IMPORTED_MODULE_5__.mH.stateChangeTypes.DropdownKeyDownBackspace:case downshift__WEBPACK_IMPORTED_MODULE_5__.mH.stateChangeTypes.FunctionRemoveSelectedItem:setSelectedItems(newSelectedItems??[])}}}),combobox=(0,downshift__WEBPACK_IMPORTED_MODULE_5__.Bp)({inputValue,inputId,items:items??[],itemToString:item=>item?.label??"",defaultHighlightedIndex:0,selectedItem:null,stateReducer(_state,actionAndChanges){const{changes,type}=actionAndChanges;switch(type){case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputKeyDownEnter:case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.ItemClick:return _objectSpread(_objectSpread({},changes),{},{isOpen:!0,highlightedIndex:0});default:return changes}},onStateChange({inputValue:newInputValue="",type,selectedItem:newSelectedItem}){switch(type){case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputKeyDownEnter:case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.ItemClick:newSelectedItem&&(setSelectedItems([...selectedItems,newSelectedItem]),setInputValue(""));break;case downshift__WEBPACK_IMPORTED_MODULE_5__.Bp.stateChangeTypes.InputChange:setInputValue(newInputValue)}}});return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_6__.Y)(_ComboboxBase__WEBPACK_IMPORTED_MODULE_2__.A,_objectSpread({block,combobox,inputId,inputItems:items,multiSelection,selectedItems,setSelectedItems},props))}},"./packages/react/src/combobox/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G3:()=>_Combobox__WEBPACK_IMPORTED_MODULE_0__.G,KZ:()=>_ComboboxAsync__WEBPACK_IMPORTED_MODULE_2__.K,ND:()=>_ComboboxMulti__WEBPACK_IMPORTED_MODULE_1__.N,xE:()=>_ComboboxRenderItem__WEBPACK_IMPORTED_MODULE_4__.x});var _Combobox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/combobox/Combobox.tsx"),_ComboboxMulti__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/combobox/ComboboxMulti.tsx"),_ComboboxAsync__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/ComboboxAsync.tsx"),_ComboboxRenderItem__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("./packages/react/src/combobox/ComboboxAsyncMulti.tsx"),__webpack_require__("./packages/react/src/combobox/ComboboxRenderItem.tsx"))},"./packages/react/src/combobox/useAsync.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Y:()=>useAsync});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),use_debounce__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/use-debounce/dist/index.module.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/combobox/utils.ts");const initialState={loading:!1,networkError:!1,inputItems:[]};function reducer(state,action){switch(action.type){case"START_LOADING":return{loading:!0,networkError:!1,inputItems:[]};case"SET_ERROR":return{loading:!1,networkError:!0,inputItems:[]};case"SET_INPUT_ITEMS":return{loading:!1,networkError:!1,inputItems:action.payload.items};case"RESET_INPUT_ITEMS":return initialState;default:return state}}function useAsync(loadOptionsProp){const{0:{loading,networkError,inputItems},1:dispatch}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(reducer,initialState),lastRequest=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),cache=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({}),fetchOptions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>async function fetchOptions(inputValue){const request=lastRequest.current={};try{const inputItems=await loadOptionsProp(inputValue),filteredInputItems=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.f2)(inputItems,inputValue);if(cache.current[inputValue]=filteredInputItems,request!==lastRequest.current)return;lastRequest.current=void 0,dispatch({type:"SET_INPUT_ITEMS",payload:{items:filteredInputItems}})}catch(e){dispatch({type:"SET_ERROR"})}}),[loadOptionsProp]),debouncedFetchOptions=(0,use_debounce__WEBPACK_IMPORTED_MODULE_2__.YQ)(fetchOptions,200),loadOptions=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>function loadOptions(searchTerm){searchTerm=searchTerm?.toLowerCase()??"";const cachedInputItems=cache.current[searchTerm];cachedInputItems?dispatch({type:"SET_INPUT_ITEMS",payload:{items:cachedInputItems}}):(dispatch({type:"START_LOADING"}),debouncedFetchOptions(searchTerm))}),[debouncedFetchOptions]);return{loading,networkError,inputItems,onInputValueChange:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((({isOpen,inputValue=""})=>{isOpen&&loadOptions(inputValue)}),[loadOptions]),onIsOpenChange:(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((({isOpen,inputValue=""})=>{isOpen&&loadOptions(inputValue)}),[loadOptions])}}}}]);