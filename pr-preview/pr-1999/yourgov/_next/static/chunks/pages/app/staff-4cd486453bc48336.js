(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2265],{78010:function(e,t,r){"use strict";r.d(t,{X:function(){return x}});var n=r(90849),o=r(90089),i=r(27378),a=r(8464),c=r(69395),l=r(10043),s=r(19631),d=r(19282),u=r(87800);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=function(e){var t=e.disabled,r=e.indeterminate,n=e.invalid,o=e.size,i=a.lB.control[o],c=i.width,f=i.height,h=i.borderWidth;return(0,u.tZ)(s.k,{alignItems:"center",as:"span",css:(0,l.iv)(p(p({borderWidth:h,borderStyle:"solid",borderColor:a._X.border,backgroundColor:a._X.backgroundBody,color:a._X.foregroundText},t&&{color:a._X.borderMuted,borderColor:a._X.borderMuted,backgroundColor:a._X.backgroundShade,"@media (forced-colors: active)":{borderColor:"GrayText",color:"GrayText"}}),n&&{borderColor:a._X.systemError,backgroundColor:a._X.systemErrorMuted}),"",""),flexShrink:0,height:f,justifyContent:"center",rounded:!0,width:c,children:r?(0,u.tZ)(d.V_,{size:o,weight:"bold"}):(0,u.tZ)(d.nQ,{size:o,weight:"bold"})})},b=r(34456);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v=(0,i.forwardRef)(function(e,t){return(0,u.tZ)("input",m({css:(0,l.iv)(m(m({},b.JM),{},{"&:focus ~ span:first-of-type":a.lB.outline,"~ span > svg":{opacity:0},"&:checked ~ span > svg, &:indeterminate ~ span > svg":{opacity:1}}),"",""),ref:t},e))});function y(e){var t=e.children,r=e.htmlFor,n=e.disabled;return(0,u.tZ)(s.k,{alignItems:"flex-start",as:"label",color:"text",css:(0,l.iv)({cursor:n?"not-allowed":"pointer"},"",""),gap:.5,htmlFor:r,inline:!0,children:t})}var O=r(92288),Z={sm:0,md:"0.2rem"};function w(e){var t=e.children,r=e.disabled,n=Z[e.size];return(0,u.tZ)(O.x,{color:r?"muted":"text",css:(0,l.iv)({paddingTop:n},"",""),flexGrow:1,children:t})}var P=["checked","children","disabled","indeterminate","invalid","name","required","size"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var x=(0,i.forwardRef)(function(e,t){var r,l,s=e.checked,d=e.children,f=e.disabled,p=e.indeterminate,b=e.invalid,g=e.name,m=e.required,O=e.size,Z=void 0===O?"md":O,x=(0,o.Z)(e,P),j=(r=x.id,l=(0,a.Me)(r),r||"checkbox-".concat(l)),S=(0,i.useRef)(null),k=(0,c.j)(),T="boolean"==typeof b?b:null==k?void 0:k.invalid,X="boolean"==typeof m?m:null==k?void 0:k.required,A=g||(null==k?void 0:k.name);(0,i.useEffect)(function(){S.current&&(S.current.indeterminate=!!p)},[p]);var E=!p&&s;return(0,u.BX)(y,{disabled:f,htmlFor:j,children:[(0,u.tZ)(v,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({"aria-checked":p?"mixed":void 0,"aria-describedby":T?null==k?void 0:k.messageId:void 0,"aria-invalid":T||void 0,"aria-required":X,checked:E,disabled:f,id:j,name:A,ref:(0,a.lq)([t,S]),type:"checkbox"},x)),(0,u.tZ)(h,{disabled:f,indeterminate:p,invalid:T,size:Z}),(0,u.tZ)(w,{disabled:f,size:Z,children:d})]})})},31789:function(e,t,r){"use strict";r.d(t,{K:function(){return o}});var n=r(27378);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusOnMount,r=e.focusOnUpdate,o=e.forwardedRef,i=(0,n.useRef)(null),a=o||i;return(0,n.useEffect)(function(){var e,n;!r&&!t||!("current"in a)||Array.isArray(r)&&0===r.filter(Boolean).length||null==a||null===(e=a.current)||void 0===e||null===(n=e.focus)||void 0===n||n.call(e)},[r]),a}},7214:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(10043),o=r(27378),i=r(24377),a=r(77797),c=r(19282),l=r(8464),s=r(87800);function d(e){var t=e.drawerContent,r=e.linkContent,d=e.linkHref,u=(0,o.useState)(!1),f=u[0],p=u[1];return(0,s.BX)(s.HY,{children:[(0,s.BX)(a.h,{href:d,onClick:function(e){e.metaKey||(e.preventDefault(),p(!0))},children:[r,(0,s.tZ)(c.q9,{css:(0,n.iv)({position:"relative",top:3,marginLeft:(0,l.XH)(.25)},"",""),size:"sm",weight:"regular"})]}),(0,s.tZ)(i.d,{actions:(0,s.tZ)(a.z,{href:d,children:"Open in new window"}),isOpen:f,onClose:function(){p(!1)},title:"Help",width:"lg",children:t})]})}},41792:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(27378),o=r(58229),i=r(92288),a=r(25294),c=r(87600),l=r(87800);function s(e){var t=e.isOpen,r=e.itemsToDelete,s=e.onClose,d=e.onConfirm,u=(0,n.useState)(!1),f=u[0],p=u[1],h=(0,n.useMemo)(function(){return Array.isArray(r)?{title:"Are you sure you want to remove access for ".concat(r.length," staff ").concat((0,c.Ho)(r.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(r.name,"?"),description:"Access will be removed immediately. You can not undo this action."}},[r]),b=h.title,g=h.description;return(0,l.tZ)(a.u,{actions:(0,l.BX)(o.hE,{children:[(0,l.tZ)(o.zx,{loading:f,onClick:function(){p(!0),setTimeout(function(){p(!1),d()},1500)},children:"Remove access"}),(0,l.tZ)(o.zx,{onClick:s,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:s,title:b,children:(0,l.tZ)(i.x,{as:"p",children:g})})}},87600:function(e,t,r){"use strict";r.d(t,{Ho:function(){return i},KD:function(){return n},UO:function(){return o}});var n=function(e){var t=e.loading,r=e.totalItems,n=e.pagination;if(t)return"Staff members";var o=1===r?"1 item":"".concat(r," items"),i=(n.page-1)*n.perPage+1,a=(n.page-1)*n.perPage+n.perPage;return a>r?"Staff members (".concat(o,")"):"Staff members (".concat(i," - ").concat(a," of ").concat(o,")")},o={Active:{label:"Active",tone:"success"},Invited:{label:"Invited",tone:"info"},Paused:{label:"Paused",tone:"neutral"}},i=function(e,t,r){return 1===e?t:r}},78972:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return re}});var n,o=r(27378),i=r(23969),a=r(96778),c=r(90849),l=r(10043),s=r(58229),d=r(48050),u=r(8464),f=(0,o.createContext)(void 0);function p(){var e=(0,o.useContext)(f);if(void 0===e)throw Error("TabsContext not found.");return e}var h=(0,o.createContext)(void 0);function b(e,t){return{tabButtonId:"".concat(e,"-tab-button-").concat(t),panelId:"".concat(e,"-tab-panel-").concat(t)}}function g(){var e=(0,u.iP)().windowWidth;return(void 0===e?0:e)>=u.TV.breakpoint.sm?"horizontal":"vertical"}var m={body:{panelBg:u._X.backgroundBody,panelFg:u._X.foregroundText,buttonBg:u._X.backgroundBody,buttonFg:u._X.foregroundAction,buttonBgHover:u._X.backgroundShade,buttonFgHover:u._X.foregroundText},bodyAlt:{panelBg:u._X.backgroundBodyAlt,panelFg:u._X.foregroundText,buttonBg:u._X.backgroundBodyAlt,buttonFg:u._X.foregroundAction,buttonBgHover:u._X.backgroundShade,buttonFgHover:u._X.foregroundText}},v="--agds-tabs-panel-bg",y="--agds-tabs-panel-fg",O="--agds-tabs-button-bg",Z="--agds-tabs-button-fg",w="--agds-tabs-button-bg-hover",P="--agds-tabs-button-fg-hover",C={panelBg:"var(".concat(v,")"),panelFg:"var(".concat(y,")"),buttonBg:"var(".concat(O,")"),buttonFg:"var(".concat(Z,")"),buttonBgHover:"var(".concat(w,")"),buttonFgHover:"var(".concat(P,")")},x=r(87800);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function k(e){var t,r=e.children,n=e.endElement,i=p(),a=i.tabsId,f=i.activeIndex,m=i.setActiveIndex,v=i.goToFirstTab,y=i.goToLastTab,O=i.goToPreviousTab,Z=i.goToNextTab,w=function(){var e=(0,o.useContext)(h);if(void 0===e)throw Error("TabListContext not found.");return e}().tabIndex,P=b(a,w),j=P.tabButtonId,k=P.panelId,T=g(),X=f===w;return(0,x.BX)(d.xu,{"aria-controls":k,"aria-selected":X,as:s.Yd,css:(0,l.iv)(S(S(S({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:(0,u.XH)(.5)},(0,u.vY)("sm","default")),X?{background:C.panelBg,"& > span:first-of-type":{fontWeight:u.TV.fontWeight.bold,color:u._X.foregroundText}}:{background:C.buttonBg,"&:hover":{background:C.buttonBgHover},"& > span:first-of-type":S(S({},u.lB.underline),{},{color:C.buttonFg}),"&:hover > span:first-of-type":{color:C.buttonFgHover,textDecoration:"none"}}),{},(t={"&:focus-visible":{zIndex:u.TV.zIndex.elevated}},(0,c.Z)(t,u.TV.mediaQuery.max.xs,{borderWidth:u.TV.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:u._X.border,"&:first-of-type":{overflow:"hidden",borderRadius:"".concat(u.TV.borderRadius,"px ").concat(u.TV.borderRadius,"px 0 0")},"&:last-of-type":{borderBottomWidth:u.TV.borderWidth.sm},"::before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:X?u.TV.borderWidth.xxl:u.TV.borderWidth.xl,background:X?u._X.selected:u._X.borderMuted,"@media (forced-colors: active)":{backgroundColor:X?"MenuText":"GrayText"}}}),(0,c.Z)(t,u.TV.mediaQuery.min.sm,S({borderWidth:u.TV.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:u._X.border,borderRadius:"".concat(u.TV.borderRadius,"px ").concat(u.TV.borderRadius,"px 0 0")},X&&{"::before":{content:"''",position:"absolute",top:0,left:0,right:0,height:u.TV.borderWidth.xl,background:u._X.selected},"::after":{content:"''",position:"absolute",bottom:-1,left:0,right:0,height:1,background:C.panelBg}})),t),u.S0.exactColor),"",""),focusRingFor:"keyboard",id:j,onClick:function(){m(w)},onKeyDown:function(e){switch(e.code){case"ArrowLeft":if("vertical"===T)break;e.preventDefault(),O();break;case"ArrowRight":if("vertical"===T)break;e.preventDefault(),Z();break;case"ArrowUp":if("horizontal"===T)break;e.preventDefault(),O();break;case"ArrowDown":if("horizontal"===T)break;e.preventDefault(),Z();break;case"Home":e.preventDefault(),v();break;case"End":e.preventDefault(),y()}},paddingX:1.5,paddingY:.75,role:"tab",tabIndex:X?0:-1,children:[(0,x.tZ)("span",{children:r}),n]})}var T=r(52809),X=r(19631);function A(e){var t=e.children,r=g();return(0,x.tZ)(X.k,{"aria-orientation":r,flexDirection:{xs:"column",sm:"row"},flexWrap:"wrap",gap:{xs:0,sm:.5},role:"tablist",children:(0,T.Z)(t).map(function(e,t){return(0,x.tZ)(h.Provider,{value:{tabIndex:t},children:e},t)})})}var E=(0,o.createContext)(void 0);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function B(e){var t=e.children,r=p(),n=r.tabsId,i=r.activeIndex,a=r.contained,s=function(){var e=(0,o.useContext)(E);if(void 0===e)throw Error("TabPanelsContext not found.");return e}().panelIndex,f=b(n,s),h=f.tabButtonId,g=f.panelId,m=i===s;return(0,x.tZ)(d.xu,{"aria-labelledby":h,border:!0,css:(0,l.iv)((0,c.Z)({background:C.panelBg,color:C.panelFg,borderTopWidth:0,borderRadius:"0 0 ".concat(u.TV.borderRadius,"px ").concat(u.TV.borderRadius,"px")},u.TV.mediaQuery.min.sm,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({borderTopWidth:u.TV.borderWidth.sm},a?{borderRadius:"0 ".concat(u.TV.borderRadius,"px ").concat(u.TV.borderRadius,"px")}:{paddingLeft:0,paddingRight:0,borderLeftWidth:0,borderRightWidth:0,borderRadius:0})),"",""),display:m?void 0:"none",focusRingFor:"keyboard",id:g,paddingX:{xs:.75,md:1.5},paddingY:1.5,role:"tabpanel",tabIndex:m?0:-1,children:t})}function R(e){var t=e.children;return(0,x.tZ)("div",{children:(0,T.Z)(t).map(function(e,t){return(0,x.tZ)(E.Provider,{value:{panelIndex:t},children:e},t)})})}function I(e){var t,r,n,i=e.children,a=e.background,l=e.contained,s=e.activeIndex,d=e.onChange,p=(0,o.useRef)(null),h=(0,o.useState)(),b=h[0],g=h[1],C=null!=b&&b.length?b.length-1:0;(0,o.useEffect)(function(){var e,t,r=null===(e=p.current)||void 0===e?void 0:e.querySelectorAll('[role="tab"]'),n=null===(t=p.current)||void 0===t?void 0:t.querySelectorAll('[role="tabpanel"]');if((null==r?void 0:r.length)!==(null==n?void 0:n.length))throw Error("The number of `TabButton` components do not match the number of `TabPanel` components.");g(r)},[i]);var j=(0,o.useState)(0),S=j[0],k=j[1],T="number"==typeof s?s:S;function X(e){var t;k(e),null==d||d(e),null==b||null===(t=b[e])||void 0===t||t.focus()}var A=(t=(0,u.Me)(),"tabs-".concat(t));return(0,x.tZ)(f.Provider,{value:{tabsId:A,contained:void 0===l||l,activeIndex:T,setActiveIndex:X,goToFirstTab:function(){X(0)},goToLastTab:function(){X(C)},goToPreviousTab:function(){X(0===T?C:T-1)},goToNextTab:function(){X(T===C?0:T+1)}},children:(0,x.tZ)("div",{css:(r=void 0===a?"body":a,n={},(0,c.Z)(n,v,m[r].panelBg),(0,c.Z)(n,y,m[r].panelFg),(0,c.Z)(n,O,m[r].buttonBg),(0,c.Z)(n,Z,m[r].buttonFg),(0,c.Z)(n,w,m[r].buttonBgHover),(0,c.Z)(n,P,m[r].buttonFgHover),n),id:A,ref:p,children:i})})}var _=r(84315),z=r(73933),N=r(92288),F=r(42434),L=r(83083),W=r(33040),M=r(38734),H=r(76002),V=r(97700),q=r(7214),G=r(11246),K=r(86677),Y=r(19282),U=r(89236),J=(0,o.createContext)(void 0),Q=function(e){var t=e.children,r=e.value;return(0,x.tZ)(J.Provider,{value:r,children:t})},$=function(){var e=(0,o.useContext)(J);if(void 0===e)throw Error("useSortAndFilterContext must be used within a SortAndFilterProvider");return e},ee=(0,o.createContext)(void 0),et=function(e){var t=e.children,r=e.value;return(0,x.tZ)(ee.Provider,{value:r,children:t})},er=function(){var e=(0,o.useContext)(ee);if(void 0===e)throw Error("useDataContext must be used within a DataProvider");return e},en=r(44285);function eo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ea={activeUsers:!1,dateJoinedFrom:void 0,dateJoinedTo:void 0,foodSafetyCertificate:!1,lastActiveFrom:void 0,lastActiveTo:void 0,name:void 0,role:{Manager:!1,Employee:!1,Trainee:!1,"Work experience":!1},status:void 0,trainingCompleted:{Deliveries:!1,Distribution:!1,"Ice cream making":!1,Packaging:!1}},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useReducer)(el,{pagination:{page:1,perPage:e.itemsPerPage||10},sort:{field:"name",order:"ASC"},filters:ei(ei({},ea),e.filters),selection:[]}),r=t[0],n=t[1],i=r.sort,a=r.filters,c=r.pagination,l=r.selection;return{sort:i,setSort:function(e){n({type:"SET_SORT",payload:e}),n({type:"RESET_PAGINATION"})},filters:a,setFilter:function(e){n({type:"SET_FILTER",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},setFilters:function(e){n({type:"SET_FILTERS",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},removeFilter:function(e){n({type:"REMOVE_FILTER",payload:e}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},resetFilters:function(){n({type:"RESET_FILTERS"}),n({type:"RESET_PAGINATION"}),n({type:"CLEAR_SELECTION"})},pagination:c,setPagination:function(e){n({type:"SET_PAGINATION",payload:e}),n({type:"CLEAR_SELECTION"})},selection:l,isRowSelected:function(e){return l.some(function(t){return t===e})},toggleRowSelected:function(e){n({type:"TOGGLE_ROW",payload:e})},selectRows:function(e){n({type:"SELECT_ROWS",payload:e})},clearRowSelections:function(){n({type:"CLEAR_SELECTION"})}}};function el(e,t){switch(t.type){case"SET_SORT":return ei(ei({},e),{},{sort:t.payload});case"SET_FILTERS":return ei(ei({},e),{},{filters:t.payload});case"SET_FILTER":return ei(ei({},e),{},{filters:ei(ei({},e.filters),t.payload)});case"REMOVE_FILTER":return ei(ei({},e),{},{filters:ei(ei({},e.filters),{},(0,c.Z)({},t.payload,ea[t.payload]))});case"RESET_FILTERS":return ei(ei({},e),{},{filters:ea});case"SET_PAGINATION":return ei(ei({},e),{},{pagination:t.payload});case"RESET_PAGINATION":return ei(ei({},e),{},{pagination:ei(ei({},e.pagination),{},{page:1})});case"TOGGLE_ROW":if(e.selection.includes(t.payload))return ei(ei({},e),{},{selection:e.selection.filter(function(e){return e!==t.payload})});return ei(ei({},e),{},{selection:[].concat((0,en.Z)(e.selection),[t.payload])});case"SELECT_ROWS":return ei(ei({},e),{},{selection:t.payload});case"CLEAR_SELECTION":return ei(ei({},e),{},{selection:[]});default:return e}}var es=r(93e3),ed=r(55732),eu=r(50824),ef=r.n(eu);function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eb=function(e,t){var r=!0,n=t.activeUsers,o=t.lastActiveFrom,i=t.lastActiveTo,a=t.name,c=t.role,l=t.status,s=t.trainingCompleted;if(n&&(r="Active"===e.status&&r),o||i){var d=new Date(o||0).getTime(),u=(i?new Date(i):new Date).getTime(),f=new Date(e.lastActive).getTime();(d>f||u<f)&&(r=!1)}return l&&(r=e.status===l&&r),c&&Object.values(c).some(Boolean)&&(r=!!c[e.role]&&r),s&&Object.values(s).some(Boolean)&&(r=!!e.trainingCompleted.map(function(e){return s[e]}).some(Boolean)&&r),a&&(r=!!e.name.toLowerCase().includes(a.toLowerCase())&&r),r},eg=function(e,t,r){var n=r.field,o=r.order,i=e[n],a=t[n];return null==i?1:null==a?-1:i>a?"ASC"===o?1:-1:i<a?"ASC"===o?-1:1:0};function em(){return(em=(0,ed.Z)(ef().mark(function e(t,r){var n,o,i,a,c;return ef().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(n=r.pagination).page,i=n.perPage,c=(a=t.filter(function(e){return eb(e,r.filters)}).sort(function(e,t){return eg(e,t,r.sort)}).map(function(e,t){return eh(eh({},e),{},{index:t})})).slice((o-1)*i,o*i),e.abrupt("return",new Promise(function(e){setTimeout(function(){e({displayData:c,total:a.length,totalPages:Math.ceil(a.length/i),totalItems:a.length})},1e3)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ev=r(23982),ey=r(93653),eO=r(87600),eZ=function(e){for(var t=e.filters,r=e.removeFilter,n=Object.entries(t),o=[],i=0;i<n.length;i++)if(0===function(){var e=(0,G.Z)(n[i],2),t=e[0],a=e[1];if(!a)return 0;var c={activeUsers:!1,dateJoinedFrom:"Date joined",dateJoinedTo:"Date joined",foodSafetyCertificate:"Food safety certificate",lastActiveFrom:"Last active",lastActiveTo:"Last active",name:"Name",role:"Role",status:"Status",trainingCompleted:"Training completed"}[t],l=function(){return r(t)};if("activeUsers"===t)return a&&o.push({label:"Active users",onRemove:l}),0;if("role"===t){var s=Object.keys(a);return s.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(s.reduce(function(e,t){return a[t]?[].concat((0,en.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}if("trainingCompleted"===t){var d=Object.keys(a);return d.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(d.reduce(function(e,t){return a[t]?[].concat((0,en.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}return"status"===t?(o.push({label:"".concat(c,": ").concat(eO.UO[a].label),onRemove:l}),0):"lastActiveFrom"===t?(o.push({label:"Last active from: ".concat((0,ev.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):"lastActiveTo"===t?(o.push({label:"Last active to: ".concat((0,ev.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):Array.isArray(a)?(0===a.length||o.push({label:"".concat(c,": ").concat(a.join(", ")),onRemove:l}),0):void o.push({label:"".concat(c,": ").concat(a),onRemove:l})}())continue;return o},ew=function(){var e=$(),t=e.filters,r=e.removeFilter,n=e.resetFilters,o=eZ({filters:t,removeFilter:r});return 0===o.length?null:(0,x.BX)(X.k,{alignItems:"flex-end",flexWrap:"wrap",gap:.75,children:[(0,x.tZ)(ey.$G,{heading:(0,x.tZ)(N.x,{as:"h3",fontWeight:"bold",children:"Active filters"}),items:o}),(0,x.tZ)(s.zx,{iconAfter:Y.Tw,onClick:n,size:"sm",variant:"text",children:"Clear filters"})]})},eP=r(63087),eC=r(2694),ex=r(34456),ej=r(11752),eS=(0,l.F4)(n||(n=(0,ej.Z)(["\n  0% { opacity: 0.84; }\n  100% { opacity: 0.2 }\n"]))),ek=function(e){var t=e.fontSize,r=e.lineHeight,n=e.height,o=e.width;return(0,x.tZ)(d.xu,{"aria-hidden":!0,css:(0,l.iv)({animation:"".concat(eS," 1200ms ").concat(u.TV.transition.timingFunction," infinite alternate"),backgroundColor:u._X.border,cursor:"progress","&::before":{content:'"\\00a0"'}},"",""),display:"block",fontSize:void 0===t?"sm":t,height:void 0===n?"auto":n,highContrastOutline:!0,lineHeight:void 0===r?"default":r,rounded:!0,width:void 0===o?"100%":o})},eT=function(e){var t=e.fontSize,r=e.lineHeight,n=e.width;return(0,x.tZ)(ek,{fontSize:void 0===t?"sm":t,lineHeight:void 0===r?"default":r,width:void 0===n?"100%":n})},eX=r(18607),eA=r(77797),eE=r(78010),eD=r(7150),eB=r(61118),eR=r(24377),eI=r(99682),e_=r(52949),ez=function(e){var t=e.currentRole,r=e.isOpen,n=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],d=(0,o.useState)(t),u=d[0],f=d[1],p=(0,o.useCallback)(function(e){return function(){return f(e)}},[]),h=function(e){return e===u};return(0,x.tZ)(eR.d,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{form:"change-role-drawer",loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Change role"}),(0,x.tZ)(s.zx,{onClick:n,variant:"secondary",children:"Cancel"})]}),isOpen:r,onClose:n,title:"Change role",children:(0,x.tZ)("form",{id:"change-role-drawer",children:(0,x.BX)(eI.e,{block:!0,label:"Export service role",required:!0,children:[(0,x.BX)(e_.Y,{checked:h("Manager"),onChange:p("Manager"),children:["Manager","Manager"===t&&" (current role)"]}),(0,x.BX)(e_.Y,{checked:h("Employee"),onChange:p("Employee"),children:["Employee","Employee"===t&&" (current role)"]}),(0,x.BX)(e_.Y,{checked:h("Trainee"),onChange:p("Trainee"),children:["Trainee","Trainee"===t&&" (current role)"]})]})})})},eN=r(25294);function eF(e){var t=e.isOpen,r=e.itemsToPause,n=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],d=(0,o.useMemo)(function(){return Array.isArray(r)?{title:"Are you sure you want to pause access for ".concat(r.length," staff ").concat((0,eO.Ho)(r.length,"member","members"),"?"),description:"Access will be paused immediately. You can not undo this action."}:{title:"Are you sure you want to pause access for ".concat(r.name,"?"),description:"Access will be paused immediately. You can not undo this action."}},[r]),u=d.title,f=d.description;return(0,x.tZ)(eN.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Pause access"}),(0,x.tZ)(s.zx,{onClick:n,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:n,title:u,children:(0,x.tZ)(N.x,{as:"p",children:f})})}var eL=r(41792);function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var eM={Active:{label:"Active",tone:"successMedium"},Invited:{label:"Invited",tone:"inProgressLow"},Paused:{label:"Paused",tone:"pausedLow"}},eH=function(e){var t=e.status;return(0,x.tZ)(eX.pj,{children:(0,x.tZ)(eD.O,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({appearance:"subtle"},eM[t]))})},eV=function(e){var t=e.children,r=e.item,n=e.itemId,i=e.name,a=e.rowIndex,c=e.selectable,l=er(),s=l.setSuccessMessageType,d=l.setUpdatedStaffMemberName,u=(0,es.M)(),f=u.staffMembersDelete,p=u.staffMembersUpdate,h=$(),b=h.isRowSelected,g=h.toggleRowSelected,m=(0,o.useState)(!1),v=m[0],y=m[1],O=(0,o.useState)(!1),Z=O[0],w=O[1],P=(0,o.useState)(!1),C=P[0],j=P[1];return c?(0,x.BX)(eX.SC,{"aria-rowindex":a,selected:b(n),children:[(0,x.tZ)(eX.pj,{children:(0,x.tZ)(eE.X,{checked:b(n),onChange:function(){return g(n)},size:"sm",children:(0,x.tZ)(ex.TX,{children:"Select ".concat(i)})})}),t,(0,x.tZ)(eX.pj,{children:(0,x.BX)(eB.h_,{children:[(0,x.tZ)(eB.r0,{"aria-describedby":"".concat(n,"-name"),children:"Actions"}),(0,x.BX)(eB.AQ,{children:[(0,x.tZ)(eB.Xi,{onClick:function(){w(!0)},children:"Pause access"}),(0,x.tZ)(eB.Xi,{onClick:function(){y(!0)},children:"Remove access"})]})]})}),(0,x.tZ)(ez,{currentRole:r.role,isOpen:C,onClose:function(){return j(!1)},onConfirm:function(){console.log("Change role"),j(!1)}}),(0,x.tZ)(eF,{isOpen:Z,itemsToPause:r,onClose:function(){return w(!1)},onConfirm:function(){p({staffToUpdate:r,updates:{status:"Paused"}}),w(!1),null==d||d(r.name),null==s||s("pause")}}),(0,x.tZ)(eL.E,{isOpen:v,itemsToDelete:r,onClose:function(){return y(!1)},onConfirm:function(){f(r),y(!1),null==d||d(r.name),null==s||s("remove")}})]}):(0,x.tZ)(eX.SC,{"aria-rowindex":a,children:t})};function eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eG(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eq(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eq(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var eK=function(){var e=er(),t=e.setSuccessMessageType,r=e.setUpdatedStaffMemberName,n=(0,es.M)(),i=n.staffMembersDelete,a=n.staffMembersUpdate,l=$(),d=l.selection,u=l.clearRowSelections,f=er().displayData,p=(0,o.useMemo)(function(){return f.reduce(function(e,t){return null!=t&&t.name?eG(eG({},e),{},(0,c.Z)({},t.id,t)):e},{})},[f]),h=d.map(function(e){return p[e]}),b=(0,o.useState)(!1),g=b[0],m=b[1],v=(0,o.useState)(!1),y=v[0],O=v[1],Z=(0,o.useState)(!1),w=Z[0],P=Z[1];return d.length?(0,x.BX)(eX.HY,{children:[(0,x.BX)(eX.Sh,{children:["Apply action to ",d.length," ",(0,eO.Ho)(d.length,"item","items")]}),(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{onClick:function(){O(!0)},size:"sm",variant:"secondary",children:"Pause access"}),(0,x.tZ)(s.zx,{onClick:function(){m(!0)},size:"sm",variant:"secondary",children:"Remove access"}),(0,x.tZ)(s.zx,{onClick:u,size:"sm",variant:"tertiary",children:"Cancel"})]}),(0,x.tZ)(ez,{isOpen:w,onClose:function(){return P(!1)},onConfirm:function(){console.log("Change role"),P(!1)}}),(0,x.tZ)(eF,{isOpen:y,itemsToPause:h,onClose:function(){return O(!1)},onConfirm:function(){a({staffToUpdate:h,updates:{status:"Paused"}}),O(!1),u(),null==r||r("".concat(h.length," ").concat(h.length>1?"people":"person")),null==t||t(h.length>1?"pauseBatch":"pause")}}),(0,x.tZ)(eL.E,{isOpen:g,itemsToDelete:h,onClose:function(){return m(!1)},onConfirm:function(){i(h),m(!1),u(),null==r||r("".concat(h.length," ").concat(h.length>1?"people":"person")),null==t||t(h.length>1?"removeBatch":"remove")}})]}):null},eY="data-table",eU="data-table-description",eJ=(0,o.forwardRef)(function(e,t){var r=e.headingId,n=e.selectable,i=$(),c=i.sort,l=i.setSort,d=i.pagination,u=i.resetFilters,f=er(),p=f.displayData,h=f.loading,b=f.totalItems,g=f.error,m=!!c||!!l,v=(0,eO.KD)({loading:h,totalItems:b,pagination:d});return g?(0,x.BX)(a.K,{gap:1,id:eY,role:"alert",children:[(0,x.tZ)(Y.z$,{color:"error",size:"lg"}),(0,x.tZ)(z.X,{fontSize:"lg",type:"h2",children:"Failed to load"}),(0,x.tZ)(N.x,{children:"There was an error loading the data. Please try refreshing the page to try again."})]}):h||0!==p.length?(0,x.BX)(a.K,{gap:.5,children:[r?(0,x.tZ)("div",{css:ex.JM,id:eU,children:"Table column headers with buttons are sortable."}):null,(0,x.tZ)("div",{css:ex.JM,role:"status",children:h?"Loading staff members":""}),(0,x.tZ)(eX.y6,{children:(0,x.BX)(eX.iA,{"aria-labelledby":r?"".concat(r," ").concat(eU):void 0,"aria-rowcount":b,id:eY,ref:t,tabIndex:-1,tableLayout:"fixed",children:[!r&&(0,x.BX)(eX.Rn,{children:[v,(0,x.tZ)(ex.TX,{children:", column headers with buttons are sortable."})]}),(0,x.tZ)(eX.ss,{children:(0,x.BX)(eX.SC,{"aria-rowindex":1,children:[n&&(0,x.tZ)(eX.xD,{scope:"col",width:"5rem",children:"Select"}),eQ.map(function(e){var t=e.isSortable,r=e.label,n=e.sortKey,o=e.width;if(m&&t){var i=(null==c?void 0:c.field)===n;return(0,x.tZ)(eX._s,{onClick:function(){return null==l?void 0:l({field:n,order:(null==c?void 0:c.field)===n&&(null==c?void 0:c.order)==="ASC"?"DESC":"ASC"})},sort:i?null==c?void 0:c.order:void 0,width:o,children:r},n)}return(0,x.tZ)(eX.xD,{scope:"col",width:o,children:r},n)})]})}),(0,x.tZ)(eX.RM,{children:h?(0,x.tZ)(o.Fragment,{children:Array.from(Array(d.perPage).keys()).map(function(e){return(0,x.BX)(eX.SC,{children:[n&&(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eX.pj,{children:[(0,x.tZ)(ek,{height:32}),(0,x.tZ)(ex.TX,{children:"Loading"})]})]},e)})}):(0,x.tZ)(o.Fragment,{children:p.map(function(e){var t=e.index,r=e.name,o=e.role,i=e.status,a=e.lastActive,c=e.dateJoined;return(0,x.BX)(eV,{item:e,itemId:e.id,name:r,rowIndex:t+2,selectable:n,children:[(0,x.tZ)(eX.pj,{as:"th",fontWeight:"bold",scope:"row",children:(0,x.tZ)(eA.h,{href:"/app/staff/".concat(e.name.toLowerCase().replaceAll(" ","-")),id:"".concat(e.id,"-name"),children:r})}),(0,x.tZ)(eX.pj,{children:o}),(0,x.tZ)(eH,{status:i}),(0,x.tZ)(eX.pj,{children:a&&"".concat((0,eC.Z)(new Date,new Date(a))," ago")}),(0,x.tZ)(eX.pj,{children:c&&(0,ev.Z)(new Date(c),"d MMMM yyyy")})]},r)})})})]})}),(0,x.tZ)(eK,{})]}):(0,x.BX)(a.K,{alignItems:"flex-start",gap:2,id:eY,paddingY:1,role:"status",children:[(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(Y.by,{color:"muted",size:"lg"}),(0,x.tZ)(z.X,{fontSize:"lg",type:"h2",children:"No results found"}),(0,x.tZ)(N.x,{children:"Try adjusting your filter options."})]}),(0,x.tZ)(s.zx,{onClick:u,children:"Clear filters"})]})}),eQ=[{label:"Name",sortKey:"name",width:"20rem",isSortable:!0},{label:"Role",sortKey:"role",width:"12rem",isSortable:!0},{label:"Status",sortKey:"status",width:"12rem",isSortable:!0},{label:"Last active",sortKey:"lastActive",width:"12rem",isSortable:!0},{label:"Date joined",sortKey:"dateJoined",width:"14rem",isSortable:!0},{label:"Actions",sortKey:"actions",width:"9rem",isSortable:!1}],e$=function(){var e=$(),t=e.sort,r=e.setSort;return(0,x.tZ)(eP.P,{"aria-controls":eY,hideOptionalLabel:!0,label:"Sort by",onChange:function(e){var t=e.target.value.split("-"),n=(0,G.Z)(t,2);r({field:n[0],order:n[1]})},options:[{value:"name-ASC",label:"Name (A-Z)"},{value:"name-DESC",label:"Name (Z-A)"},{value:"role-ASC",label:"Role (A-Z)"},{value:"role-DESC",label:"Role (Z-A)"},{value:"status-ASC",label:"Status (A-Z)"},{value:"status-DESC",label:"Status (Z-A)"},{value:"lastActive-ASC",label:"Last active (oldest first)"},{value:"lastActive-DESC",label:"Last active (newest first)"},{value:"dateJoined-ASC",label:"Date joined (oldest first)"},{value:"dateJoined-DESC",label:"Date joined (newest first)"}],value:"".concat(t.field,"-").concat(t.order)})},e0=r(75136),e1=r(98943);function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e5=function(e){var t=e.isDrawerOpen,r=e.closeDrawer,n=$(),i=n.filters,a=n.setFilters,l=n.resetFilters,d=(0,o.useState)(i),u=d[0],f=d[1],p=(0,o.useState)(!1),h=p[0],b=p[1],g=(0,o.useState)(!1),m=g[0],v=g[1],y=(0,o.useRef)(null),O=(0,o.useRef)(null);(0,o.useEffect)(function(){f(i)},[i]);var Z=function(){r(),b(!1),v(!1),f(i)},w=function(){throw Error("Not implemented")},P=function(e){return function(t){return f(function(r){return e7(e7({},r),{},{role:e7(e7({},r.role),{},(0,c.Z)({},e,t.target.checked))})})}},C=function(e){return function(t){return f(function(r){return e7(e7({},r),{},{trainingCompleted:e7(e7({},r.trainingCompleted),{},(0,c.Z)({},e,t.target.checked))})})}};return(0,x.tZ)(Q,{value:{filters:u,setFilters:f,setFilter:function(e){f(e7(e7({},u),e))},sort:{field:"dateJoined",order:"ASC"},setSort:w,removeFilter:w,resetFilters:w,pagination:{page:1,perPage:1},setPagination:w,selection:[],isRowSelected:w,toggleRowSelected:w,selectRows:w,clearRowSelections:w},children:(0,x.tZ)(eR.d,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{form:"staff-filters-form",onClick:function(){var e,t;if(m&&!h){null===(e=O.current)||void 0===e||e.focus();return}if(h){null===(t=y.current)||void 0===t||t.focus();return}a(u),r()},children:"Apply filters"}),(0,x.tZ)(s.zx,{onClick:function(){b(!1),v(!1),l(),f(ea)},variant:"secondary",children:"Clear filters"}),(0,x.tZ)(s.zx,{onClick:Z,variant:"tertiary",children:"Cancel"})]}),isOpen:t,onClose:Z,title:"Filter by",children:(0,x.tZ)("form",{id:"staff-filters-form",children:(0,x.BX)(e0.R,{children:[(0,x.BX)(eI.e,{block:!0,hideOptionalLabel:!0,label:"Role",children:[(0,x.tZ)(eE.X,{checked:u.role.Manager,onChange:P("Manager"),value:"manager",children:"Manager"}),(0,x.tZ)(eE.X,{checked:u.role.Employee,onChange:P("Employee"),value:"employee",children:"Employee"}),(0,x.tZ)(eE.X,{checked:u.role.Trainee,onChange:P("Trainee"),value:"trainee",children:"Trainee"}),(0,x.tZ)(eE.X,{checked:u.role["Work experience"],onChange:P("Work experience"),value:"work-experience",children:"Work experience"})]}),(0,x.BX)(eI.e,{block:!0,hideOptionalLabel:!0,label:"Training completed",children:[(0,x.tZ)(eE.X,{checked:u.trainingCompleted.Deliveries,onChange:C("Deliveries"),value:"deliveries",children:"Deliveries"}),(0,x.tZ)(eE.X,{checked:u.trainingCompleted.Distribution,onChange:C("Distribution"),value:"distribution",children:"Distribution"}),(0,x.tZ)(eE.X,{checked:u.trainingCompleted["Ice cream making"],onChange:C("Ice cream making"),value:"ice-cream-making",children:"Ice cream making"}),(0,x.tZ)(eE.X,{checked:u.trainingCompleted.Packaging,onChange:C("Packaging"),value:"packaging",children:"Packaging"})]}),(0,x.tZ)(e1.Pc,{fromInputRef:y,fromInvalid:h,fromLabel:"From date",legend:"Last active",message:h&&m?"From date and To date is invalid":h?"From date is invalid":m?"To date is invalid":void 0,onChange:function(e){var t,r,n,o,i=(t=e.from,r=e.to,!!t&&!(0,e1.qb)(t,{toDate:r})),a=(n=e.to,o=e.from,!!n&&!(0,e1.qb)(n,{fromDate:o}));b(i),v(a),f(function(t){return e7(e7({},t),{},{lastActiveFrom:!e.from||i?e.from:new Date(e.from).toISOString(),lastActiveTo:!e.to||a?e.to:new Date(e.to).toISOString()})})},required:!0,toInputRef:O,toInvalid:m,toLabel:"To date",value:{from:u.lastActiveFrom,to:u.lastActiveTo}})]})})})})},e8=r(90089),e3=r(13306),e9=r(66338);function e4(e){var t=e.children,r=e.maxWidth;return(0,x.tZ)("div",{css:(0,l.iv)({position:"relative",maxWidth:r},"",""),children:t})}function e6(e){var t=e.disabled,r=e.onClick;return(0,x.tZ)(X.k,{alignItems:"center","aria-label":"Clear search",css:(0,l.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,u.XH)(.5)," + ").concat(u.TV.borderWidth.lg,"px)"),transform:"translateY(-50%)",opacity:t?.3:void 0,cursor:"pointer",color:u._X.foregroundAction,"&:hover":{color:u._X.foregroundText}},"",""),height:"2rem",justifyContent:"center",onClick:r,role:"button",width:"2rem",children:(0,x.tZ)(Y.Tw,{color:"inherit"})})}function te(e){var t=e.disabled;return(0,x.tZ)(Y.W1,{color:"muted",css:(0,l.iv)({position:"absolute",top:"50%",left:"calc(".concat((0,u.XH)(.75)," + ").concat(u.TV.borderWidth.lg,"px)"),transform:"translateY(-50%)",pointerEvents:"none",opacity:t?.3:void 0},"",""),size:"md",weight:"regular"})}var tt=["label","hideOptionalLabel","required","hint","message","invalid","block","maxWidth","id","disabled","value","onChange","onClear"],tr=["maxWidth"];function tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function to(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tn(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ti=(0,o.forwardRef)(function(e,t){var r,n,i,a,c,l=e.label,s=e.hideOptionalLabel,d=e.required,f=e.hint,p=e.message,h=e.invalid,b=e.block,g=e.maxWidth,m=void 0===g?"md":g,v=e.id,y=e.disabled,O=e.value,Z=e.onChange,w=e.onClear,P=(0,e8.Z)(e,tt),C=(0,o.useRef)(null),j=(0,o.useState)(O||""),S=j[0],k=j[1],T="string"==typeof O?O:S,X=function(e){null==Z||Z(e),k(e)},A=function(){var e;T&&(X(""),null==w||w(),null===(e=C.current)||void 0===e||e.focus())},E=function(e){"Escape"===e.code&&A()},D=!!T,B=(n=(r={block:b,maxWidth:m,showClearButton:D}).block,i=r.maxWidth,a=r.showClearButton,[(c=(0,e9.c)({block:n,maxWidth:i})).maxWidth,to(to(to({},(0,e8.Z)(c,tr)),{},{width:"100%",maxWidth:void 0,paddingLeft:"3rem"},a&&{paddingRight:"3rem"}),{},{"&::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{display:"none"}})]),R=(0,G.Z)(B,2),I=R[0],_=R[1];return(0,x.tZ)(e3.gN,{hideOptionalLabel:s,hint:f,id:v,invalid:h,label:l,maxWidth:m,message:p,required:d,children:function(e){return(0,x.BX)(e4,{maxWidth:I,children:[(0,x.tZ)(te,{disabled:y}),(0,x.tZ)("input",to(to({autoComplete:"off",css:_,disabled:y,onChange:function(e){return X(e.target.value)},onKeyDown:E,ref:(0,u.lq)([C,t]),type:"search",value:T},e),P)),D?(0,x.tZ)(e6,{disabled:y,onClick:A}):null]})}})}),ta=function(e){var t=e.block,r=$(),n=r.filters,o=r.setFilter;return(0,x.tZ)("div",{"aria-label":"Staff members",role:"search",children:(0,x.tZ)(ti,{"aria-controls":eY,block:t,hideOptionalLabel:!0,label:"Search name",maxWidth:"lg",onChange:function(e){o({name:e})},value:n.name||""})})},tc=function(e){var t=e.children;return(0,x.tZ)(a.K,{"aria-label":"Filters",as:"section",borderBottom:!0,gap:1,paddingBottom:1.5,children:t})},tl=function(e){var t=e.children;return(0,x.tZ)(X.k,{alignItems:{xs:"stretch",lg:"flex-end"},columnGap:1,flexDirection:{xs:"column",lg:"row"},justifyContent:{xs:"flex-start",md:"space-between"},rowGap:1.5,children:t})},ts=function(e){var t=e.children;return(0,x.tZ)(X.k,{alignItems:{xs:"stretch",md:"flex-end"},columnGap:1,flexDirection:{xs:"column",md:"row"},flexWrap:"wrap",rowGap:1.5,children:t})},td=function(e){var t=e.children,r=e["aria-label"];return(0,x.tZ)("nav",{"aria-label":r,children:(0,x.tZ)(X.k,{alignItems:"center",as:"ol",flexWrap:"wrap",justifyContent:"center",children:t})})},tu=function(e){var t=e.children,r=e.hasRightArea;return(0,x.tZ)(X.k,{alignItems:"center",flexDirection:{xs:"column",lg:"row"},flexWrap:"wrap",gap:1,justifyContent:r?"space-between":"center",children:t})},tf=function(e){var t=e.children;return(0,x.tZ)(X.k,{alignItems:"center",columnGap:2,flexDirection:{xs:"column",lg:"row"},rowGap:1,children:t})},tp="2.75rem",th="3rem",tb=["children"],tg=["as","children","direction"];function tm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tm(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tm(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ty(e){var t=e.direction,r=e.onClick;return(0,x.tZ)(tO,{direction:t,children:(0,x.tZ)(tZ,{"aria-label":"Go to ".concat("left"==t?"previous":"next"," page"),direction:t,onClick:r,children:"left"===t?"Previous":"Next"})})}function tO(e){var t=e.children,r=e.direction;return(0,x.tZ)(d.xu,{as:"li",paddingLeft:"right"===r?{sm:1}:void 0,paddingRight:"left"===r?{sm:1}:void 0,children:t})}var tZ=function(e){var t=e.children,r=(0,e8.Z)(e,tb);return(0,x.tZ)(tw,tv(tv({as:s.Yd},r),{},{children:t}))},tw=function(e){var t=e.as,r=e.children,n=e.direction,o=(0,e8.Z)(e,tg);return(0,x.BX)(X.k,tv(tv({alignItems:"center",as:t,css:(0,l.iv)(tv({alignSelf:"flex-start"},u.S0.hideHref),"",""),focusRingFor:"keyboard",fontFamily:"body",fontWeight:"normal",gap:.5,height:{xs:tp,sm:th},inline:!0,justifyContent:"center",link:!0,width:{xs:tp,sm:"auto"}},o),{},{children:["left"===n?(0,x.tZ)(Y.Y4,{size:"sm"}):null,(0,x.tZ)(d.xu,{as:"span",display:["none","inline"],children:r}),"right"===n?(0,x.tZ)(Y.LZ,{size:"sm"}):null]}))},tP=(0,u.yV)(function(e,t){var r=e.pageNumber,n=e.onClick,o=e.isActive;return(0,x.tZ)("li",{children:(0,x.tZ)(X.k,{alignItems:"center","aria-current":o?"page":void 0,"aria-label":"Go to page ".concat(r),as:s.Yd,css:o?{color:u._X.foregroundText,textDecoration:"none"}:void 0,focusRingFor:"keyboard",fontWeight:o?"bold":"normal",height:{xs:tp,sm:th},justifyContent:"center",link:!0,onClick:n,ref:t,width:{xs:tp,sm:th},children:r})})});function tC(e){var t=e.isLinks,r=e.missingLeftPageNumber,n=e.missingRightPageNumber;return(0,x.tZ)(X.k,{alignItems:"center","aria-label":"… Pages ".concat(r," to ").concat(n," are hidden. Use the Previous and Next ").concat(t?"links":"buttons"," to navigate"),as:"li",height:{sm:th},justifyContent:"center",width:{sm:th},children:(0,x.tZ)(N.x,{children:"…"})})}var tx=["label","maxWidth","options","placeholder","id"];function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tk=function(e){var t=e.label,r=e.maxWidth,n=e.options,o=e.placeholder,i=e.id,a=(0,e8.Z)(e,tx);return(0,x.BX)(X.k,{alignItems:"center",gap:1,children:[(0,x.tZ)(N.x,{as:"label",fontWeight:"bold",htmlFor:i,children:t}),(0,x.BX)("div",{css:(0,l.iv)({position:"relative",maxWidth:u.TV.maxWidth.field[void 0===r?"md":r]},"",""),children:[(0,x.tZ)("select",tS(tS({css:tA,id:i},a),{},{children:(0,x.tZ)(tT,{options:n,placeholder:o})})),(0,x.tZ)(tX,{})]})]})},tT=function(e){var t=e.options,r=e.placeholder;return(0,x.BX)(o.Fragment,{children:[r?(0,x.tZ)("option",{value:"",children:r}):null,t.map(function(e){return"options"in e?(0,x.tZ)("optgroup",{disabled:e.disabled,label:e.label,children:e.options.map(function(e){var t=e.value,r=e.label,n=e.disabled;return(0,x.tZ)("option",{disabled:n,value:t,children:r},t)})},e.label):(0,x.tZ)("option",{disabled:e.disabled,value:e.value,children:e.label},e.value)})]})},tX=function(e){var t=e.disabled;return(0,x.tZ)(Y.v4,{css:(0,l.iv)({position:"absolute",top:"50%",right:(0,u.XH)(.75),transform:"translateY(-50%)",opacity:t?.3:void 0,pointerEvents:"none",color:u._X.foregroundAction},"","")})},tA=tS(tS(tS({position:"relative",appearance:"none",boxSizing:"border-box",paddingLeft:(0,u.XH)(1),paddingRight:"calc(".concat(u.TV.borderWidth.lg,"px + 2.5rem)"),margin:0,background:u._X.backgroundBody,borderWidth:u.TV.borderWidth.lg,borderStyle:"solid",borderColor:u._X.border,borderRadius:u.TV.borderRadius,color:u._X.foregroundText,width:"100%",fontFamily:u.TV.font.body},u.lB.input.md),{},{lineHeight:u.TV.lineHeight.default},u.lB.truncate),{},{"&:disabled":{opacity:1,cursor:"not-allowed",borderColor:u._X.borderMuted,backgroundColor:u._X.backgroundShade,color:u._X.foregroundMuted},"&:focus":u.lB.outline}),tE=function(e){var t=e.value,r=e.options,n=e.onChange,o=(0,u.Me)();return(0,x.tZ)(tk,{id:"pagination-per-page-select-".concat(o),label:"Items per page",maxWidth:"sm",onChange:function(e){return n(Number(e.target.value))},options:(void 0===r?[10,20,50,100]:r).map(function(e){return{label:"".concat(e),value:"".concat(e)}}),value:"".concat(t)})};function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tB(e){var t,r=e["aria-label"],n=e.currentPage,i=e.itemRangeText,a=e.itemsPerPage,l=e.itemsPerPageOptions,s=e.onChange,d=e.onItemsPerPageChange,u=e.totalPages,f=e.windowLimit,p=(0,o.useState)(!1),h=p[0],b=p[1],g=(0,o.useRef)(null),m=function(e){var t=e.currentPage,r=e.totalPages,n=e.windowLimit,o=[],i=1,a=r;if(n<r){var c=Math.floor(n/2);i=t-(c+n%2-1),a=t+c,i<1&&(a=n,i=1),a>r&&(i=r-n+1,a=r)}t>1&&o.push({type:"direction",direction:"left",pageNumber:t-1}),i>1&&(o.push({type:"page",pageNumber:1,isActive:1===t}),i>3?o.push({type:"separator",pageNumber:0}):2!==i&&o.push({type:"page",pageNumber:2,isActive:2===t}));for(var l=i;l<=a;l++){var s=l===t;o.push({type:"page",pageNumber:l,isActive:s})}return a+1<r&&(a+1!==r-1?o.push({type:"separator",pageNumber:0}):o.push({type:"page",pageNumber:r-1,isActive:r-1===t})),a<r&&o.push({type:"page",pageNumber:r,isActive:r===t}),t<r&&o.push({type:"direction",direction:"right",pageNumber:t+1}),o}({currentPage:n,totalPages:u,windowLimit:void 0===f?3:f}),v=!!(a&&d||i);return h&&1===n&&(null===(t=g.current)||void 0===t||t.focus(),b(!1)),(0,x.BX)(tu,{hasRightArea:v,children:[(0,x.tZ)(td,{"aria-label":void 0===r?"Pagination":r,children:m.map(function(e,t){switch(e.type){case"direction":return(0,x.tZ)(ty,{direction:e.direction,onClick:function(){s(e.pageNumber),1===e.pageNumber&&b(!0)}},e.direction);case"page":return(0,x.tZ)(tP,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({isActive:e.isActive,onClick:function(){return s(e.pageNumber)},pageNumber:e.pageNumber},1===e.pageNumber&&{ref:g}),e.pageNumber);case"separator":return(0,x.tZ)(tC,{isLinks:!1,missingLeftPageNumber:m[t-1].pageNumber+1,missingRightPageNumber:m[t+1].pageNumber-1},"".concat(t,"-separator"));default:return null}})}),v&&(0,x.BX)(tf,{children:[i&&(0,x.tZ)(N.x,{role:"status",children:i}),a&&d&&(0,x.tZ)(tE,{onChange:d,options:l,value:a})]})]})}var tR=function(){var e,t,r,n,i,a,c,l,s=$(),d=s.pagination,u=s.setPagination,f=er(),p=f.displayData,h=f.totalItems,b=f.totalPages,g=f.loading,m=(t=(e={totalItems:h,currentPage:d.page,itemsPerPage:d.perPage,singularNoun:"item",pluralNoun:"items"}).totalItems,r=e.itemsPerPage,n=e.currentPage,i=e.singularNoun,a=e.pluralNoun,c=1===t?void 0===i?"item":i:void 0===a?"items":a,l=Math.min((n-1)*r+r,t),"".concat((n-1)*r+1," – ").concat(l," of ").concat(t," ").concat(c)),v=(0,o.useState)({page:d.page,itemRangeText:m,perPage:d.perPage}),y=v[0],O=v[1];return((0,o.useEffect)(function(){g||O({page:d.page,itemRangeText:m,perPage:d.perPage})},[m,g,d.page,d.perPage]),p.length)?(0,x.tZ)(tB,{currentPage:y.page,itemRangeText:y.itemRangeText,itemsPerPage:y.perPage,onChange:function(e){return u({perPage:y.perPage,page:e})},onItemsPerPageChange:function(e){return u({page:tI({currentPage:d.page,totalItems:h,perPage:e,prevPerPage:d.perPage}),perPage:e})},totalPages:b}):null},tI=function(e){var t=e.currentPage,r=e.totalItems,n=e.perPage,o=e.prevPerPage;return t>r/n?Math.ceil(r/n):Math.floor(Math.floor(t*o+(1-o))/n+1)},t_=function(){var e,t,r,n,i,a,c,l,s=(e=er().displayData,r=(t=$()).selection,n=t.selectRows,i=t.clearRowSelections,a=(0,o.useMemo)(function(){return e.map(function(e){return e.id})},[e]),c=(0,o.useMemo)(function(){return r.length>0},[r]),{isSelectAllCheckboxChecked:l=(0,o.useMemo)(function(){return a.length>0&&a.every(function(e){return r.includes(e)})},[a,r]),isSelectAllCheckboxIndeterminate:!l&&c,toggleAllRowsSelected:function(){l?i():n(a)}}),d=s.toggleAllRowsSelected,u=s.isSelectAllCheckboxChecked,f=s.isSelectAllCheckboxIndeterminate;return(0,x.tZ)(eE.X,{checked:u,indeterminate:f,onChange:d,size:"sm",children:"Select all rows"})},tz={sm:{borderWidth:u.lB.control.sm.borderWidth,height:u.lB.control.sm.height,thumbCheckedPos:"1.25rem",width:"2.75rem"},md:{borderWidth:u.lB.control.md.borderWidth,height:u.lB.control.md.height,thumbCheckedPos:"1.5rem",width:"3.5rem"}};function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tF(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tL={name:"sfltnx",styles:"position:relative;flex-shrink:0"},tW=function(e){var t=e.children,r=tz[e.size],n=r.width,o=r.height;return(0,x.tZ)(d.xu,{as:"span",css:tL,height:o,width:n,children:t})},tM=function(e){var t=e.checked,r=tz[e.size],n=r.borderWidth,o=r.height;return(0,x.tZ)(d.xu,{as:"span",css:(0,l.iv)(tF(tF({borderWidth:n,borderStyle:"solid",borderRadius:o,position:"absolute",inset:0},u.S0.exactColor),t?{backgroundColor:u._X.selected,borderColor:u._X.selected}:{borderColor:u._X.border,backgroundColor:u._X.backgroundShade}),"","")})},tH={sm:{prop:"sm",actual:"0.875rem"},md:{prop:"md",actual:"1.375rem"}},tV=function(e){var t=e.checked,r=e.size,n=tz[r],o=n.thumbCheckedPos,i=n.borderWidth,a=n.height,c=tH[r];return(0,x.tZ)(X.k,{alignItems:"center",as:"span",background:"body",css:(0,l.iv)({borderRadius:a,borderWidth:i,borderStyle:"solid",borderColor:t?u._X.selected:u._X.foregroundAction,position:"absolute",transition:"left ".concat(u.TV.transition.duration,"ms ").concat(u.TV.transition.timingFunction),left:t?o:"0rem"},"",""),height:a,justifyContent:"center",width:a,children:t&&(0,x.tZ)(Y.nQ,{color:"selected",css:(0,l.iv)({width:c.actual,height:c.actual},"",""),size:c.prop,weight:"bold"})})},tq=["size","label","onChange","checked"];function tG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tG(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tG(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var tY=function(e){var t=e.size,r=void 0===t?"md":t,n=e.label,o=e.onChange,i=e.checked,a=(0,e8.Z)(e,tq);return(0,x.BX)(X.k,{alignItems:"center",as:"label",css:(0,l.iv)({width:"fit-content",cursor:"pointer","&:hover":{"& input:not(:focus) ~ span:first-of-type":{borderColor:u._X.foregroundText,backgroundColor:i?u._X.foregroundText:u._X.backgroundShadeAlt},"& input:not(:focus) ~ span:last-of-type":{borderColor:u._X.foregroundText,"& svg":{stroke:i?u._X.foregroundText:void 0}}}},"",""),gap:.75,children:[(0,x.BX)(tW,{size:r,children:[(0,x.tZ)("input",{"aria-checked":i,"aria-controls":a["aria-controls"],checked:i,css:(0,l.iv)(tK(tK({},ex.JM),{},{"&:focus-visible ~ span:first-of-type":u.lB.outline}),"",""),onChange:function(){return o(!i)},role:"switch",type:"checkbox"}),(0,x.tZ)(tM,{checked:i,size:r}),(0,x.tZ)(tV,{checked:i,size:r})]}),(0,x.tZ)(N.x,{children:n})]})},tU=function(){var e=$(),t=e.filters,r=e.setFilter;return(0,x.tZ)(d.xu,{paddingBottom:.5,children:(0,x.tZ)(tY,{"aria-controls":eY,checked:t.activeUsers,label:"Active users",onChange:function(e){r({activeUsers:e})}})})};function tJ(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tQ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tJ(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var t$={invite:{description:"will receive an email asking them to create a staff account.",titlePrefix:"An email invitation has been sent to",titleSuffix:""},update:{description:null,titlePrefix:"",titleSuffix:"has been updated"},pause:{description:null,titlePrefix:"",titleSuffix:"has been paused as a staff member"},pauseBatch:{description:null,titlePrefix:"",titleSuffix:"have been paused as staff members"},remove:{description:null,titlePrefix:"",titleSuffix:"has been removed as a staff member"},removeBatch:{description:null,titlePrefix:"",titleSuffix:"have been removed as a staff members"}},t0=function(e){var t,r,n,i,c,f,p,h,b,g,m,v,y,O,Z,w,P,C,j=e.selectable,S=e.tableRef,k=(0,K.useRouter)(),T=(0,o.useRef)(null),X=(0,es.M)(),A=X.staffMembersGetState,E=X.staffMembersDelete,D=(0,u.hb)(!1),B=(0,G.Z)(D,3),R=B[0],I=B[1],_=B[2],z=ec(),F=(r=(t={filters:z.filters,pagination:z.pagination,sort:z.sort}).sort,n=t.filters,i=t.pagination,c=t.throwError,p=(f=(0,o.useState)(!0))[0],h=f[1],g=(b=(0,o.useState)([]))[0],m=b[1],y=(v=(0,o.useState)(0))[0],O=v[1],w=(Z=(0,o.useState)(0))[0],P=Z[1],C=(0,(0,es.M)().staffMembersGetState)(),((0,o.useEffect)(function(){h(!0),(function(e,t){return em.apply(this,arguments)})(C,{sort:r,filters:n,pagination:i}).then(function(e){m(e.displayData),O(e.totalPages),P(e.totalItems),h(!1)})},[C,r,n,i]),c)?{error:"Something went wrong",loading:!1,displayData:[],totalPages:0,totalItems:0}:{loading:p,displayData:g,totalPages:y,totalItems:w}),L=(0,o.useState)(k.query.successType),W=L[0],M=L[1],H=(0,o.useState)(function(){var e=A().find(function(e){return k.query.staffId===(null==e?void 0:e.id)});return e&&"remove"===k.query.successType&&E(e),(null==e?void 0:e.name)||""}),V=H[0],q=H[1];return(0,o.useEffect)(function(){W&&V&&setTimeout(function(){var e;null===(e=T.current)||void 0===e||e.focus()},500)},[W,V]),(0,x.tZ)(Q,{value:z,children:(0,x.BX)(et,{value:tQ(tQ({},F),{},{setSuccessMessageType:M,setUpdatedStaffMemberName:q}),children:[(0,x.tZ)(d.xu,{css:(0,l.iv)({display:W&&V?"block":"none"},"",""),focusRingFor:"all",ref:T,tabIndex:-1,children:(0,x.tZ)(U.E,{onClose:function(){M(null),k.replace(k.pathname,void 0,{shallow:!0})},title:W?"".concat(t$[W].titlePrefix," ").concat(V," ").concat(t$[W].titleSuffix):"",tone:"success",children:W&&t$[W].description&&(0,x.BX)(N.x,{as:"p",children:[V," ",t$[W].description]})})}),(0,x.BX)(a.K,{gap:0,children:[(0,x.BX)(tc,{children:[(0,x.BX)(tl,{children:[(0,x.BX)(ts,{children:[(0,x.tZ)(ta,{}),(0,x.tZ)(tU,{}),(0,x.tZ)(s.zx,{iconBefore:Y.k1,onClick:I,variant:"secondary",children:"Show filters"})]}),(0,x.tZ)(e$,{})]}),(0,x.tZ)(e5,{closeDrawer:_,isDrawerOpen:R}),(0,x.tZ)(ew,{})]}),j&&!!F.totalItems&&(0,x.tZ)(d.xu,{borderBottom:!0,padding:1,children:(0,x.tZ)(t_,{})}),(0,x.tZ)(eJ,{headingId:"staff-members-heading",ref:S,selectable:j})]}),(0,x.tZ)(tR,{})]})})},t1=r(72320);function t2(e){var t=e.isOpen,r=e.onConfirm,n=e.onClose,i=e.itemsToApprove,a=(0,o.useState)(!1),c=a[0],l=a[1],d=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to approve access for ".concat(i.length," staff ").concat((0,eO.Ho)(i.length,"member","members"),"?"),description:"Access will be approved immediately."}:{title:"Are you sure you want to approve access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be approved immediately."}},[i]),u=d.title,f=d.description;return(0,x.tZ)(eN.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),r()},1500)},children:"Approve access"}),(0,x.tZ)(s.zx,{onClick:n,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:n,title:u,children:(0,x.tZ)(N.x,{as:"p",children:f})})}function t7(e){var t=e.isOpen,r=e.onConfirm,n=e.onClose,i=e.itemsToReject,a=(0,o.useState)(!1),c=a[0],l=a[1],d=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to remove access for ".concat(i.length," staff ").concat((0,eO.Ho)(i.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be removed immediately. You can not undo this action."}},[i]),u=d.title,f=d.description;return(0,x.tZ)(eN.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),r()},1500)},children:"Reject access"}),(0,x.tZ)(s.zx,{onClick:n,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:n,title:u,children:(0,x.tZ)(N.x,{as:"p",children:f})})}var t5=function(e){var t=e.isOpen,r=e.onConfirm,n=e.onClose;return(0,x.tZ)(eN.u,{actions:(0,x.tZ)(s.hE,{children:(0,x.tZ)(s.zx,{onClick:r,children:"Okay"})}),isOpen:t,onClose:n,title:"This feature is not yet available.",children:(0,x.tZ)(N.x,{as:"p",children:"Note: the yourGov app is for demonstration purposes only."})})};function t8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function t3(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?t8(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var t9=function(){var e=(0,o.useRef)(null),t=(0,es.M)(),r=t.accessRequestsDelete,n=t.accessRequestsGetState,i=t.accessRequestsUpdate,f=(0,o.useState)([]),p=f[0],h=f[1],b=(0,o.useState)(),g=b[0],m=b[1],v=(0,u.hb)(!1),y=(0,G.Z)(v,3),O=y[0],Z=y[1],w=y[2],P=(0,u.hb)(!1),C=(0,G.Z)(P,3),j=C[0],S=C[1],k=C[2],T=(0,u.hb)(!1),A=(0,G.Z)(T,3),E=A[0],D=A[1],B=A[2],R=(0,o.useState)(),I=R[0],_=R[1],F=(0,o.useState)(),L=F[0],W=F[1],M=n(),H=(0,o.useMemo)(function(){return M.reduce(function(e,t){return null!=t&&t.firstName?t3(t3({},e),{},(0,c.Z)({},t.id,t)):e},{})},[M]),V=p.map(function(e){return H[e]}),q=function(){return h([])},K=p.length===M.length,J=p.length>0&&!K;return(0,o.useEffect)(function(){I&&L&&setTimeout(function(){var t;null===(t=e.current)||void 0===t||t.focus()},500)},[I,L]),(0,x.BX)(x.HY,{children:[(0,x.tZ)(d.xu,{css:(0,l.iv)({display:I&&L?"block":"none"},"",""),focusRingFor:"all",ref:e,tabIndex:-1,children:(0,x.tZ)(U.E,{onClose:function(){_(void 0)},title:"Access request for ".concat(Array.isArray(I)?I.length:"".concat(null==I?void 0:I.firstName," ").concat(null==I?void 0:I.lastName)," ").concat((0,eO.Ho)(Array.isArray(I)?I.length:1,"person has","people have")," been ").concat(L),tone:"success",children:(0,x.BX)(N.x,{as:"p",children:["Staff members will receive an email letting them know that their request has been ",L,"."]})})}),(0,x.BX)(a.K,{gap:.5,children:[0===M.length?(0,x.tZ)(a.K,{alignItems:"flex-start",gap:2,paddingY:1,role:"status",children:(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(Y.fM,{color:"muted",size:"lg"}),(0,x.tZ)(z.X,{fontSize:"lg",type:"h3",children:"There are no access requests"}),(0,x.tZ)(N.x,{children:"All access requests have been actioned."})]})}):(0,x.BX)(x.HY,{children:[(0,x.tZ)(d.xu,{css:(0,l.iv)({marginLeft:(0,u.XH)(.75)},"",""),children:(0,x.tZ)(eE.X,{checked:K,indeterminate:J,onChange:function(){K?q():h(M.map(function(e){return e.id}))},size:"sm",children:"Select all rows"})}),(0,x.tZ)(t1.i,{}),(0,x.tZ)(eX.y6,{children:(0,x.BX)(eX.iA,{"aria-labelledby":"access-requests-heading",children:[(0,x.tZ)(eX.ss,{children:(0,x.BX)(eX.SC,{children:[(0,x.tZ)(eX.xD,{scope:"col",width:"5rem",children:"Select"}),(0,x.tZ)(eX.xD,{scope:"col",children:"Name"}),(0,x.tZ)(eX.xD,{scope:"col",children:"Role"}),(0,x.tZ)(eX.xD,{scope:"col",children:"Status"}),(0,x.tZ)(eX.xD,{scope:"col",width:"5rem",children:"Actions"})]})}),(0,x.tZ)(eX.RM,{children:M.map(function(e){var t="".concat(e.firstName," ").concat(e.lastName);return(0,x.BX)(eX.SC,{selected:p.includes(e.id),children:[(0,x.tZ)(eX.pj,{children:(0,x.tZ)(eE.X,{checked:p.includes(e.id),onChange:function(){return h(function(t){return t.includes(e.id)?t.filter(function(t){return t!==e.id}):[].concat((0,en.Z)(t),[e.id])})},size:"sm",children:(0,x.tZ)(ex.TX,{children:"Select ".concat(t)})})}),(0,x.tZ)(eX.pj,{as:"th",fontWeight:"bold",id:"".concat(e.id,"-name"),scope:"row",children:(0,x.tZ)(eA.h,{href:"/not-found",onClick:function(e){e.preventDefault(),D()},children:t})}),(0,x.tZ)(eX.pj,{children:e.role}),(0,x.tZ)(eX.pj,{children:(0,x.tZ)(eD.O,{appearance:"subtle",label:e.status,tone:"infoMedium"})}),(0,x.tZ)(eX.pj,{children:(0,x.BX)(X.k,{gap:1,children:[(0,x.tZ)(s.zx,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){m(e),Z()},variant:"text",children:"Approve"}),(0,x.tZ)(s.zx,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){m(e),S()},variant:"text",children:"Reject"})]})})]},e.id)})})]})})]}),p.length>0&&(0,x.BX)(eX.HY,{children:[(0,x.BX)(eX.Sh,{children:["Apply action to ",p.length," ",(0,eO.Ho)(p.length,"item","items")]}),(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{onClick:Z,size:"sm",variant:"secondary",children:"Approve access"}),(0,x.tZ)(s.zx,{onClick:S,size:"sm",variant:"secondary",children:"Reject access"}),(0,x.tZ)(s.zx,{onClick:q,size:"sm",variant:"tertiary",children:"Cancel"})]})]}),(0,x.tZ)(t2,{isOpen:O,itemsToApprove:g||V,onClose:function(){w(),m(void 0)},onConfirm:function(){W("approved"),_(g||V),q(),i({accessRequestsToUpdate:g||V,updates:{status:"Active"}}),m(void 0),w()}}),(0,x.tZ)(t7,{isOpen:j,itemsToReject:g||V,onClose:function(){k(),m(void 0)},onConfirm:function(){W("rejected"),_(g||V),q(),r(g||V),m(void 0),k()}}),(0,x.tZ)(t5,{isOpen:E,onClose:B,onConfirm:B})]})]})},t4=r(28882),t6=function(){var e=(0,t4.w)().selectedBusiness,t=(0,(0,es.M)().accessRequestsGetState)(),r=(0,o.useRef)(null);return(0,x.BX)(o.Fragment,{children:[(0,x.tZ)(W.$,{title:"Staff".concat(null!=e&&e.name?" | ".concat(e.name):"")}),(0,x.tZ)(i.JH,{children:(0,x.BX)(a.K,{gap:3,children:[(0,x.tZ)(H.V,{callToAction:(0,x.BX)(a.K,{gap:2,maxWidth:"42rem",children:[(0,x.tZ)(F.P,{iconBefore:!0,label:"Why should I invite a new staff member?",children:(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(N.x,{as:"p",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,x.tZ)(q.f,{drawerContent:(0,x.BX)(a.K,{gap:2,children:[(0,x.tZ)(z.H1,{children:"Learn more about inviting a staff member"}),(0,x.tZ)(N.x,{as:"p",color:"muted",fontSize:"lg",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,x.tZ)(N.x,{as:"p",fontSize:"md",children:"As your business grows, you’ll need to scale your team accordingly. Inviting new staff members allows you to expand your workforce in line with your evolving needs."}),(0,x.tZ)(N.x,{as:"p",fontSize:"md",children:"Below are a list of the types of roles available:"}),(0,x.tZ)(z.H2,{children:"Owner"}),(0,x.tZ)(N.x,{as:"p",fontSize:"md",children:"Owners have the highest level of access. They can add, edit and remove managers and staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,x.tZ)(z.H2,{children:"Manager"}),(0,x.tZ)(N.x,{as:"p",fontSize:"md",children:"Managers can add, edit and remove staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,x.tZ)(z.H2,{children:"Employee"}),(0,x.tZ)(N.x,{as:"p",fontSize:"md",children:"Employees can see their shifts, send an receive messages with managers and edit their personal and contact information."}),(0,x.tZ)(V.O,{})]}),linkContent:"Learn more about inviting a staff member",linkHref:"https://exports.agriculture.gov.au/help/page/example-reference-article"})]})}),(0,x.tZ)(s.ZP,{alignSelf:"start",href:"/app/staff/invite-staff-member",children:"Invite staff member"})]}),introduction:(0,x.BX)(x.HY,{children:["Manage who can act for"," ",(0,x.tZ)(N.x,{fontSize:"md",fontWeight:"bold",children:"Walker‘s Frozen Food"}),"."]}),title:"Staff"}),(0,x.BX)(I,{contained:!1,children:[(0,x.BX)(A,{children:[(0,x.tZ)(k,{children:"Staff members"}),(0,x.tZ)(k,{children:(0,x.BX)(X.k,{gap:.5,children:["Access requests"," ",t.length>0&&(0,x.tZ)(L.C,{tone:"action",value:t.length})]})})]}),(0,x.BX)(R,{children:[(0,x.tZ)(B,{children:(0,x.BX)(a.K,{gap:1.5,children:[(0,x.tZ)(z.H2,{id:"staff-members-heading",children:"Staff members"}),(0,x.tZ)(t0,{selectable:!0,tableRef:r})]})}),(0,x.tZ)(B,{children:(0,x.BX)(a.K,{gap:1.5,children:[(0,x.tZ)(z.H2,{id:"access-requests-heading",children:"Access requests"}),(0,x.tZ)(t9,{})]})})]})]}),(0,x.tZ)(_.o,{cols:{xs:1,sm:4},children:(0,x.tZ)(_.s,{columnSpan:{xs:1,sm:3},children:(0,x.tZ)(V.O,{})})})]})})]})},re=t6;t6.getLayout=function(e){return(0,x.tZ)(M.L,{children:(0,x.tZ)(es.w,{children:e})})}},56861:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/staff",function(){return r(78972)}])}},function(e){e.O(0,[1065,9998,3982,2726,646,6236,9678,5294,8734,2370,8927,7171,6174,1863,2888,9774,179],function(){return e(e.s=56861)}),_N_E=e.O()}]);