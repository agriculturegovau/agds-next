"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7796],{17937:function(e,t,n){var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(34456),r()},19251:function(e,t,n){var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(48231),r()},88318:function(e,t,n){var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(51894),r()},68761:function(e,t,n){var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(49398),r()},48231:function(e,t,n){n.d(t,{ComboboxMulti:function(){return $}});var r=n(27378),i=n(8464),o=n(17625);n(66338);var a=n(13306);function l(){return(0,r.useMemo)(function(){return CSS.supports("-webkit-appearance","-apple-pay-button")&&CSS.supports("-webkit-overflow-scrolling","auto")},[])}var s=n(19631),d=n(88772),u=n(92288),c=n(90089),p=n(90849),m=n(87800),f=["children"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h={color:i._X.foregroundText,backgroundColor:i._X.backgroundShade,"> span":i.lB.underline},g=(0,i.vY)("sm","default"),y={"[data-combobox-list-item]":{alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:i.tokens.borderWidth.sm,borderColor:i._X.borderMuted,display:"flex",gap:(0,i.mapSpacing)(.75),paddingBottom:(0,i.mapSpacing)(.75),paddingLeft:(0,i.mapSpacing)(1),paddingRight:(0,i.mapSpacing)(1),paddingTop:(0,i.mapSpacing)(.75),'&[aria-selected="true"]':h,"&:last-of-type":{borderBottom:"none"},'&[data-combobox-list-item="interactive"]':{cursor:"pointer",color:i._X.foregroundAction,"&:hover":h},'[data-combobox-render-item="beforeElement"]':{flexShrink:0},'[data-combobox-render-item="itemLabel"]':{alignItems:"stretch",display:"flex",flexDirection:"column"},'[data-combobox-render-item="secondaryText"]':b({color:i._X.foregroundMuted,fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},g),'[data-combobox-render-item="tertiaryText"]':b({color:i._X.foregroundMuted,fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},g),'[data-combobox-render-item="endElement"]':{flexShrink:0,marginLeft:"auto"},'[data-combobox-render-item="renderedLabel"]':b({color:"inherit",fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},g)}},S=(0,r.forwardRef)(function(e,t){var n=e.children,r=(0,c.Z)(e,f),i=l();return(0,m.tZ)("li",b(b({"data-combobox-list-item":"static",ref:t,tabIndex:i?void 0:-1},r),{},{children:n}))});function O(){return(0,m.tZ)(S,{children:(0,m.BX)(s.Flex,{alignItems:"center",gap:1,children:[(0,m.tZ)(d.xg,{"aria-label":"Loading options",role:"alert",size:"sm"}),(0,m.tZ)(u.Text,{children:"Loading"})]})})}var Z=n(48499),w={name:"ozd7xs",styles:"flex-shrink:0"};function P(){return(0,m.tZ)(S,{children:(0,m.BX)(s.Flex,{alignItems:"center",gap:.5,children:[(0,m.tZ)(Z.AlertFilledIcon,{color:"error",css:w}),(0,m.tZ)(u.Text,{role:"alert",children:"Something went wrong."})]})})}function x(e){var t=e.message;return(0,m.tZ)(S,{children:(0,m.tZ)(u.Text,{children:t})})}var C=n(10043),B=n(58229),T=n(48050),k=["isOpen"],j=["disabled","icon"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e){var t=e.children;return(0,m.tZ)(s.Flex,{alignItems:"center",css:(0,C.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,i.mapSpacing)(.5)," + ").concat(i.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)"},"",""),gap:.25,children:t})}function A(){return(0,m.tZ)(T.Box,{"aria-hidden":!0,borderColor:"muted",borderLeft:!0,borderLeftWidth:"md",height:"1.5rem"})}var F=(0,r.forwardRef)(function(e,t){return(0,m.tZ)(X,I({"aria-label":"Clear input",icon:Z.Tw,ref:t},e))}),R=(0,r.forwardRef)(function(e,t){var n=e.isOpen,r=(0,c.Z)(e,k);return(0,m.tZ)(X,I({"aria-label":"Toggle menu",icon:n?Z.g8:Z.v4,ref:t},r))}),X=(0,r.forwardRef)(function(e,t){var n=e.disabled,r=e.icon,o=(0,c.Z)(e,j);return(0,m.tZ)(B.Yd,I(I({css:(0,C.iv)(I(I({display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",color:i._X.foregroundAction},n&&{cursor:"not-allowed",opacity:.3}),{},{"&:hover":{color:i._X.foregroundText}},T.j4),"",""),disabled:n,ref:t},o),{},{children:(0,m.tZ)(r,{color:"inherit",size:"md"})}))}),N=n(11246);function L(e){var t=e.children;return(0,m.tZ)("span",{"data-combobox-render-item":"itemLabel",children:t})}var W=["disabled","children","onRemove"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var q=(0,r.forwardRef)(function(e,t){var n=e.disabled,r=e.children,o=e.onRemove,a=(0,c.Z)(e,W);return(0,m.BX)(s.Flex,{alignItems:"center",as:"span",border:!0,color:"text",css:(0,C.iv)(z({cursor:"default"},n&&{cursor:"not-allowed",borderColor:i._X.borderMuted,color:i._X.foregroundMuted}),"",""),fontSize:"sm",gap:.25,inline:!0,paddingLeft:.5,paddingRight:.25,rounded:!0,children:[r,(0,m.tZ)(s.Flex,{alignItems:"center","aria-label":"Remove ".concat(r),as:"button",css:(0,C.iv)(z({background:"transparent",cursor:"pointer",svg:{display:"block",color:i._X.foregroundAction},"&:hover":{svg:{color:i._X.foregroundText}},"&&":{outlineOffset:0}},n&&{cursor:"not-allowed",opacity:.3}),"",""),focusRingFor:"all",height:(0,i.mapSpacing)(1.5),justifyContent:"center",onClick:function(e){n||(e.stopPropagation(),o())},onKeyDown:a.onKeyDown,ref:t,rounded:!0,type:"button",width:(0,i.mapSpacing)(1.5),children:(0,m.tZ)(Z.Tw,{size:"sm"})})]})}),V=["label","hideOptionalLabel","required","hint","message","invalid","inputId","disabled","block","maxWidth","renderItem","emptyResultsMessage","loading","networkError","combobox","inputItems","selectedItems","setSelectedItems","multiSelection","inputRef","onBlur","onFocus"];function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Y(e){var t,n,d,u,p,f,v,b,h=e.label,g=e.hideOptionalLabel,S=e.required,Z=e.hint,w=e.message,C=e.invalid,B=void 0!==C&&C,T=e.inputId,k=e.disabled,j=void 0!==k&&k,D=e.block,I=e.maxWidth,X=void 0===I?"xl":I,W=e.renderItem,M=e.emptyResultsMessage,z=void 0===M?"No options found.":M,H=e.loading,Y=e.networkError,G=e.combobox,U=e.inputItems,K=e.selectedItems,J=e.setSelectedItems,Q=e.multiSelection,$=e.inputRef,ee=e.onBlur,et=e.onFocus,en=(0,c.Z)(e,V),er=(0,r.useRef)(null),ei=l(),eo=(0,i.useTernaryState)(!1),ea=(0,N.Z)(eo,3),el=ea[0],es=ea[1],ed=ea[2],eu=(0,o.S)({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:G.isOpen}),ec=(null==K?void 0:K.length)>0,ep=(n=(t={block:D,disabled:j,inputValue:G.inputValue,invalid:B||!!en["aria-invalid"],isInputFocused:el,maxWidth:X,showClearButton:ec}).block,d=t.disabled,u=t.inputValue,p=t.invalid,f=t.isInputFocused,v=t.maxWidth,b=t.showClearButton,{fieldContainer:_(_(_({},y),function(e){var t={};if(!e)return t;var n=e.toLowerCase().split("");return n.forEach(function(e,r){var i=n.slice(0,r+1).map(function(e){return'[data-char="'.concat(e,'" i]')}).join(" + "),o=n.slice(r+1).map(function(e){return'+ [data-char="'.concat(e,'" i]')}).join(" ");t[o?"".concat(i,":has(").concat(o,")"):i]={fontWeight:"bold"}}),t}(u)),!n&&{maxWidth:i.tokens.maxWidth.field[v]}),container:_(_(_(_({position:"relative",cursor:"text",background:i._X.backgroundBody,borderWidth:i.tokens.borderWidth.lg,borderStyle:"solid",borderColor:i._X.border,borderRadius:i.tokens.borderRadius,color:i._X.foregroundText},i.lB.input.md),{},{height:"auto",minHeight:i.lB.input.md.height,margin:0,paddingTop:(0,i.mapSpacing)(.25),paddingBottom:(0,i.mapSpacing)(.25),paddingLeft:(0,i.mapSpacing)(.5),paddingRight:b?"5rem":"3rem"},d&&{cursor:"not-allowed",borderColor:i._X.borderMuted,backgroundColor:i._X.backgroundShade,color:i._X.foregroundMuted}),p&&{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError}),f&&i.lB.outline),inputContainer:{display:"flex",flex:"1 1 2rem"},input:_(_({appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:i._X.backgroundBody,color:i._X.foregroundText,fontFamily:i.tokens.font.body},(0,i.vY)("sm","default")),{},{'&[aria-invalid="true"]':{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:i._X.foregroundMuted,backgroundColor:i._X.backgroundShade}})}),em=(0,r.useMemo)(function(){return null!=U&&U.length?U.map(function(e){var t;return t=e.label,(0,m.tZ)("span",{"aria-label":t,"data-combobox-render-item":"renderedLabel",children:t.split("").map(function(e,t){return(0,m.tZ)("span",{"data-char":e,children:e},t)})})}):[]},[U]),ef=(0,r.useRef)(null),ev=(0,r.useCallback)(function(e){var t;e.target===ef.current&&(null===(t=er.current)||void 0===t||t.focus())},[er]),eb=(0,r.useCallback)(function(){var e;J([]),null===(e=er.current)||void 0===e||e.focus()},[J]),eh=$?(0,i.lq)([er,$]):er,eg=G.getLabelProps().id,ey=function(e){var t;ei&&!(null!==(t=e.nativeEvent)&&void 0!==t&&t.relatedTarget)&&(e.nativeEvent.preventDownshiftDefault=!0),null==ee||ee(e),ed()};return(0,m.tZ)(a.gN,{hideOptionalLabel:g,hint:Z,id:T,invalid:B,label:h,labelId:eg,maxWidth:X,message:w,required:S,children:function(e){return(0,m.BX)("div",_(_({},eu.getReferenceProps()),{},{css:ep.fieldContainer,onClick:ev,children:[(0,m.BX)(s.Flex,{alignItems:"center",css:ep.container,flexWrap:"wrap",gap:.5,ref:ef,children:[K.map(function(e,t){return(0,m.tZ)(q,_(_({disabled:j,onRemove:function(){return Q.removeSelectedItem(e)}},Q.getSelectedItemProps({selectedItem:e,index:t})),{},{children:e.label}),"selected-item-".concat(t))}),(0,m.tZ)("div",{css:ep.inputContainer,children:(0,m.tZ)("input",_(_({disabled:j},G.getInputProps(Q.getDropdownProps(_(_(_({},e),{"aria-describedby":en["aria-describedby"]||e["aria-describedby"],"aria-invalid":en["aria-invalid"]||e["aria-invalid"]}),{},{ref:eh,type:"text",preventKeyAction:!1,onFocus:function(e){null==et||et(e),es()},onBlur:ey})))),{},{css:ep.input}))}),(0,m.BX)(E,{children:[ec&&(0,m.BX)(r.Fragment,{children:[(0,m.tZ)(F,{disabled:j,onClick:eb}),(0,m.tZ)(A,{})]}),(0,m.tZ)(R,_({},G.getToggleButtonProps({isOpen:G.isOpen,disabled:j})))]})]}),(0,m.tZ)(o.J,_(_({as:"ul"},G.getMenuProps(eu.getPopoverProps())),{},{visibility:G.isOpen?"visible":"hidden",children:G.isOpen?(0,m.tZ)(r.Fragment,{children:H?(0,m.tZ)(O,{}):Y?(0,m.tZ)(P,{}):(0,m.tZ)(r.Fragment,{children:null!=U&&U.length?U.map(function(e,t){return(0,m.tZ)("li",_(_({"data-combobox-list-item":"interactive"},G.getItemProps({item:e,index:t})),{},{tabIndex:ei?void 0:-1,children:W?W(_(_({},e),{},{label:em[t]})):(0,m.tZ)(L,{children:em[t]})}),"".concat(e.value,"-").concat(t))}):(0,m.tZ)(x,{message:z})})}):null}))]}))}})}var G=n(44285),U=n(37914),K=["block","id","value","onChange","options"];function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,p.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $(e){var t,n=e.block,o=e.id,a=e.value,l=e.onChange,s=e.options,d=(0,c.Z)(e,K),u=(0,r.useState)(""),p=u[0],f=u[1],v=(t=(0,i.Me)(),o||"combobox-input-".concat(t)),b=(0,r.useState)([]),h=b[0],g=b[1],y=void 0===a?h:a,S=(0,r.useCallback)(function(e){g(e),null==l||l(e)},[l]),O=(0,r.useMemo)(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=(null==t?void 0:t.toLowerCase())||"";return e.filter(function(e){var t=e.value.toLowerCase().includes(r)||e.label.toLowerCase().includes(r);return void 0===n?t:t&&!(null!=n&&n.some(function(t){return t.label===e.label&&t.value===e.value}))})}(s,p,y)},[s,p,y]),Z=(0,r.useRef)([]),w=(0,U.M$)({selectedItems:y,getA11yStatusMessage:function(e){var t=e.selectedItems;if(t.length===Z.current.length)return Z.current=t,"";if(t.length>Z.current.length){var n=t.find(function(e){return 0>Z.current.findIndex(function(t){return t.value===e.value})});return Z.current=t,"".concat((null==n?void 0:n.label)||"An item"," has been added.")}if(0===t.length&&Z.current.length>0)return Z.current=t,"All items have been removed.";var r=Z.current.find(function(e){return 0>t.findIndex(function(t){return t.value===e.value})});return Z.current=t,"".concat((null==r?void 0:r.label)||"An item"," has been removed.")},onStateChange:function(e){var t=e.selectedItems;switch(e.type){case U.M$.stateChangeTypes.SelectedItemKeyDownBackspace:case U.M$.stateChangeTypes.SelectedItemKeyDownDelete:case U.M$.stateChangeTypes.DropdownKeyDownBackspace:case U.M$.stateChangeTypes.FunctionRemoveSelectedItem:S(null!=t?t:[])}}}),P=(0,U.Kb)({inputValue:p,inputId:v,items:null!=O?O:[],itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},defaultHighlightedIndex:0,selectedItem:null,stateReducer:function(e,t){var n=t.changes;switch(t.type){case U.Kb.stateChangeTypes.InputKeyDownEnter:case U.Kb.stateChangeTypes.ItemClick:return Q(Q({},n),{},{isOpen:!0,highlightedIndex:0});default:return n}},onStateChange:function(e){var t=e.inputValue,n=e.type,r=e.selectedItem;switch(n){case U.Kb.stateChangeTypes.InputKeyDownEnter:case U.Kb.stateChangeTypes.ItemClick:r&&(S([].concat((0,G.Z)(y),[r])),f(""));break;case U.Kb.stateChangeTypes.InputChange:f(void 0===t?"":t)}}});return(0,m.tZ)(Y,Q({block:void 0===n||n,combobox:P,inputId:v,inputItems:O,multiSelection:w,selectedItems:y,setSelectedItems:S},d))}n(57135)},51894:function(e,t,n){n.d(t,{Fieldset:function(){return m}});var r=n(8464),i=n(48050),o=n(87800),a=function(e){var t=e["aria-describedby"],n=e.children,r=e.id;return(0,o.tZ)(i.Box,{"aria-describedby":t,as:"fieldset",id:r,children:n})},l=n(27378),s=n(92288),d=function(e){var t=e.children;return(0,l.isValidElement)(t)?(0,o.tZ)("legend",{children:t}):(0,o.tZ)(s.Text,{as:"legend",fontSize:"lg",fontWeight:"bold",lineHeight:"heading",children:t})},u=n(10043),c=function(e){var t=e.children,n=e.id;return(0,l.isValidElement)(t)?(0,o.tZ)("div",{css:(0,u.iv)({marginTop:(0,r.mapSpacing)(.75)},"",""),id:n,children:t}):(0,o.tZ)(s.Text,{color:"muted",css:(0,u.iv)({marginTop:(0,r.mapSpacing)(.75)},"",""),display:"block",fontSize:"sm",id:n,children:t})},p=function(e){var t=e.children;return(0,o.tZ)("div",{css:(0,u.iv)({marginTop:(0,r.mapSpacing)(2)},"",""),children:t})},m=function(e){var t=e.children,n=e.hint,r=e.legend,i=f(e.id),l=i.fieldsetId,s=i.hintId;return(0,o.BX)(a,{"aria-describedby":n?s:void 0,id:l,children:[(0,o.tZ)(d,{children:r}),n?(0,o.tZ)(c,{id:s,children:n}):null,(0,o.tZ)(p,{children:t})]})},f=function(e){var t=(0,r.Me)(e);return{fieldsetId:e||"fieldset-".concat(t),hintId:"fieldset-".concat(t,"-hint")}}},49398:function(e,t,n){n.d(t,{GroupedFields:function(){return p}});var r=n(10043),i=n(34456),o=n(48050),a=n(8464),l=n(13306),s=n(19631),d=n(96778),u=n(87800),c=function(e){var t=e.hint,n=e.hintId,r=e.invalid,i=e.message,o=e.messageId,a=[r&&i?o:null,t?n:null].filter(Boolean).join(" ");return a.length>0?a:null};function p(e){var t,n=e.children,p=e.field1Invalid,m=void 0!==p&&p,f=e.field2Invalid,v=void 0!==f&&f,b=e.hideOptionalLabel,h=e.hint,g=e.id,y=e.legend,S=e.message,O=e.visuallyHideLegend,Z=void 0!==O&&O,w=(t=(0,a.Me)(g),{hintId:"grouped-fields-".concat(t,"-hint"),messageId:"grouped-fields-".concat(t,"-message")}),P=w.hintId,x=w.messageId,C=m||v,B={"aria-describedby":c({hint:h,hintId:P,invalid:m,message:S,messageId:x}),"aria-invalid":m},T={"aria-describedby":c({hint:h,hintId:P,invalid:v,message:S,messageId:x}),"aria-invalid":v};return(0,u.tZ)(l.i$,{invalid:C,children:(0,u.BX)(o.Box,{as:"fieldset",children:[(0,u.tZ)(l.Qy,{as:"legend",css:Z?i.visuallyHiddenStyles:void 0,hideOptionalLabel:void 0!==b&&b,required:!1,children:y}),(0,u.BX)(d.Stack,{css:(0,r.iv)({marginTop:Z?void 0:(0,a.mapSpacing)(.5)},"",""),gap:.5,children:[h?(0,u.tZ)(l.J1,{id:P,children:h}):null,S&&C?(0,u.tZ)(l.nd,{id:x,children:S}):null,(0,u.tZ)(s.Flex,{flexWrap:"wrap",gap:1,inline:!0,children:n({field1Props:B,field2Props:T})})]})]})})}},50498:function(e,t,n){n.d(t,{TimeInput:function(){return h}});var r=n(90849),i=n(90089),o=n(27378),a=n(13306),l=n(66338),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)return"";var n=new Date,r=e.replace(/\s/g,""),i=(null!==r.match(/\d+/)?3===r.length?null!==(o=null===(a=r.match(/(\w)(\w{1,2})/))||void 0===a?void 0:a.slice(1))&&void 0!==o?o:[]:null!==(l=r.match(/\d{1,2}/gi))&&void 0!==l?l:[]:[]).map(function(e){return 0|Number(e)});if(0===i.length||i[0]>24||i.length>1&&i[1]>59)return e;if(i[0]<=12){var o,a,l,s,d,c,p,m=null!==(c=e.match(/[a-zA-Z]{1,2}/))&&void 0!==c?c:[];switch(m.length>0?null===(p=m[0])||void 0===p?void 0:p.toLowerCase():12===i[0]?"pm":"am"){case"pm":case"p":n.setHours(12===i[0]?12:i[0]+12);break;default:n.setHours(i[0]%12)}}else n.setHours(i[0]);n.setMinutes(null!==(s=i[1])&&void 0!==s?s:0),n.setSeconds(null!==(d=i[2])&&void 0!==d?d:0);var f=new Intl.DateTimeFormat("en-GB",u[t]).format(n);return"HH:mm"===t&&f.startsWith("24:")?"00:".concat(f.split(":")[1]):f};function d(e,t){return void 0===e?"":s(e,t)}var u={"h:mm aaa":{hour:"numeric",hourCycle:"h12",minute:"2-digit"},"hh:mm aaa":{hour:"2-digit",hourCycle:"h12",minute:"2-digit"},"HH:mm":{hour:"2-digit",hourCycle:"h24",minute:"2-digit"}},c=Object.keys(u),p=n(87800),m=["block","hideOptionalLabel","hint","id","invalid","label","maxWidth","message","onBlur","onChange","required","timeFormat","value"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b={formatted:"",value:""},h=(0,o.forwardRef)(function(e,t){var n=e.block,r=e.hideOptionalLabel,u=e.hint,f=e.id,h=e.invalid,g=e.label,y=e.maxWidth,S=void 0===y?"md":y,O=e.message,Z=e.onBlur,w=e.onChange,P=e.required,x=e.timeFormat,C=void 0===x?"h:mm aaa":x,B=e.value,T=void 0===B?b:B,k=(0,i.Z)(e,m),j=(0,o.useState)(d(null==T?void 0:T.value,C)),D=j[0],I=j[1];(0,o.useEffect)(function(){I(d(T.value,C))},[C,T]);var E=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.value,r=s(n,"HH:mm");null==w||w({formatted:s(n,C),value:r}),null==Z||Z(e)},A=function(e){var t;I(null===(t=e.target)||void 0===t?void 0:t.value)},F=(0,o.useMemo)(function(){return"(e.g. "+s("21:30",c.includes(C)?C:"h:mm aaa")+")"},[C]),R=(0,l.c)({block:n,maxWidth:S});return(0,p.tZ)(a.gN,{hideOptionalLabel:r,hint:u,id:f,invalid:h,label:g,maxWidth:S,message:O,required:P,secondaryLabel:F,children:function(e){return(0,p.tZ)("input",v(v({},e),{},{css:R,onBlur:E,onChange:A,ref:t,type:"text",value:D},k))}})})},81128:function(e,t,n){var r=n(51502).___internalHook("/","../../../..","../..");e.exports=n(50498),r()},20547:function(e,t,n){n.d(t,{Y:function(){return s}});var r=n(27378),i=n(58607),o=n(27393),a=n(161),l=n(87800);function s(e){var t=e.callToAction,n=e.children,s=e.hideRequiredFieldsMessage,d=e.introduction,u=e.shouldFocusTitle,c=void 0===u||u,p=e.title,m=(0,a.t)().formTitle,f=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(c){var e;null===(e=f.current)||void 0===e||e.focus()}},[c]),(0,l.BX)(i.Stack,{gap:3,width:"100%",children:[(0,l.tZ)(o.D,{callToAction:t,formTitle:m,hideRequiredFieldsMessage:s,introduction:d,stepTitle:p,titleRef:f}),n]})}},87640:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(11246),i=n(82059),o=n(69460),a=n(52644),l=n(79628),s=n(94609),d=n(87800);function u(e){var t=e.errors,n=(0,i.useScrollToField)(),u=Object.entries(t).map(function(e){var t,n,i=(0,r.Z)(e,2),o=i[0],a=i[1];return"message"in a?{key:o,message:a.message}:"from"in a?{key:o,message:null===(t=a.from)||void 0===t?void 0:t.message}:"to"in a?{key:o,message:null===(n=a.to)||void 0===n?void 0:n.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)});return(0,d.BX)(a.PageAlert,{focusOnMount:!0,title:"There is a problem",tone:"error",children:[(0,d.tZ)(l.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,d.tZ)(o.UnorderedList,{children:u.map(function(e){var t=e.key,r=e.message;return(0,d.tZ)(o.ListItem,{children:(0,d.tZ)(s.TextLink,{href:"#".concat(t),onClick:n,children:r})},t)})})]})}},161:function(e,t,n){n.d(t,{i:function(){return v},t:function(){return b}});var r=n(90849),i=n(90089),o=n(86677),a=n(27378),l=n(61950),s={steps:n(97145).P$},d=n(21855),u=n(87800),c=["hasSynced","formState","setFormState"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,a.createContext)(void 0);function v(e){var t=e.children,n=(0,o.useRouter)(),r=(0,l.NU)("FormMobileFoodVendorPermit",s),p=r.hasSynced,v=r.formState,b=r.setFormState,h=(0,i.Z)(r,c),g="Apply for a ".concat(v.type," permit"),y=(0,a.useCallback)(function(){b(function(e){return m(m({},e),{},{id:(null==e?void 0:e.id)||Math.round(1e9*Math.random()).toString(),started:!0,steps:m({},e.steps)})})},[b]),S=(0,a.useState)(!1),O=S[0],Z=S[1],w=(0,a.useCallback)(function(){n.push(d.Hv)},[n]),P=(0,a.useState)(!1),x=P[0],C=P[1],B=(0,a.useCallback)(function(){C(!0),setTimeout(function(){C(!1),n.push(d.Hv)},1500)},[n]);if(!p)return null;var T=m(m({formTitle:g,managePermitsPage:d.Hv,startApplication:y,formState:v,setFormState:b},h),{},{isSubmittingStep:O,setIsSubmittingStep:Z,cancel:w,saveAndExit:B,isSavingBeforeExiting:x});return(0,u.tZ)(f.Provider,{value:T,children:t})}function b(){var e=(0,a.useContext)(f);if(!e)throw Error("Context provider not found");return e}},97796:function(e,t,n){n.d(t,{RV:function(){return x.R},lY:function(){return C.l},C8:function(){return ei.C},yN:function(){return q},AC:function(){return V.A},ru:function(){return H.r},BC:function(){return _.B},rP:function(){return Y.r},DS:function(){return G.D},kg:function(){return U.k},d9:function(){return et},RJ:function(){return en.R},Ln:function(){return er.L},Sf:function(){return P},iP:function(){return r.i},t8:function(){return g.t8},t7:function(){return r.t}});var r=n(161),i=n(90849),o=n(86677),a=n(88039),l=n(84200),s=n(32324),d=n(87466),u=n(37164),c=n(13690),p=n(47753),m=n(67728),f=n(39173),v=n(58607),b=n(94609),h=n(23372),g=n(88096),y=n(10043),S=n(87800);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=l.z.object({businessType:(0,h.Jg)("Business type is required")});function P(){var e,t,n=(0,o.useRouter)(),i=(0,a.cI)({resolver:(0,s.F)(w),mode:"onSubmit",reValidateMode:"onBlur"}),l=i.register,h=i.handleSubmit,O=i.formState.errors,P=(0,r.t)(),x=P.formState,C=P.setFormState;return(0,S.BX)(v.Stack,{as:"form",gap:3,onSubmit:h(function(e){C(Z(Z({},x),{},{lastUpdated:Date.now(),type:e.businessType})),n.push({pathname:g.t8[0].href})}),children:[(0,S.tZ)(c.ControlGroup,{block:!0,invalid:!!(null===(e=O.businessType)||void 0===e?void 0:e.message),label:"What type of business do you operate?",message:null===(t=O.businessType)||void 0===t?void 0:t.message,required:!0,children:["Food truck","Market stall","Coffee van"].map(function(e){var t;return(0,y.az)(f.Radio,Z(Z({},l("businessType")),{},{invalid:!!(null===(t=O.businessType)||void 0===t?void 0:t.message),key:e,value:e}),e)})}),(0,S.tZ)(p.Divider,{}),(0,S.BX)(m.Prose,{children:[(0,S.tZ)("h2",{id:"what-you-will-need",children:"What you will need"}),(0,S.tZ)("p",{children:"To complete this application you will need to provide:"}),(0,S.BX)("ul",{children:[(0,S.tZ)("li",{children:"business owner details"}),(0,S.tZ)("li",{children:"business type"}),(0,S.tZ)("li",{children:"business address"}),(0,S.tZ)("li",{children:"vehicle registration details and vehicle plans"}),(0,S.tZ)("li",{children:"trading times"}),(0,S.tZ)("li",{children:"food served"}),(0,S.tZ)("li",{children:"details of any employees who will be handling food"}),(0,S.tZ)("li",{children:"food safety supervisor certificate"})]}),(0,S.tZ)("p",{children:"Once you have confirmed business and employee details, we will provide a checklist of required documents."}),(0,S.tZ)("h2",{id:"what-happens-next",children:"What happens next"}),(0,S.tZ)("p",{children:"It will take 10 business days for your application to be reviewed by a yourGov representative."}),(0,S.tZ)(d.Box,{paddingTop:3,children:(0,S.tZ)(u.Button,{type:"submit",children:"Apply for permit"})}),(0,S.tZ)("h2",{id:"more-information",children:"More information"}),(0,S.tZ)("h3",{children:"Links"}),(0,S.BX)("ul",{children:[(0,S.tZ)("li",{children:(0,S.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Understand food safety requirements"})}),(0,S.tZ)("li",{children:(0,S.tZ)(b.TextLinkExternal,{href:"/not-found",children:"New laws for food businesses"})}),(0,S.tZ)("li",{children:(0,S.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Restricted areas and exclusion zones"})}),(0,S.tZ)("li",{children:(0,S.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Hours of operation"})})]})]})]})}var x=n(66847),C=n(39102),B=n(90089),T=n(27378),k=n(23748),j=n(51623),D=n(23434),I=n(13497),E=n(66881),A=n(79628),F=n(90460),R=n(82973),X=n(87640),N=n(21855),L=n(97145),W=["label","href"];function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function q(){var e,t,n,i,l,d,c,m=(0,o.useRouter)(),f=(0,r.t)(),b=f.formState,h=f.step1GetState,y=f.step1SetState,O=(0,a.cI)({defaultValues:h(),resolver:(0,s.F)(L.Mk),mode:"onSubmit",reValidateMode:"onBlur"}),Z=O.register,w=O.handleSubmit,P=O.formState.errors,C=(0,T.useState)(!1),M=C[0],q=C[1],V=g.g2.stepOwnerDetails.href,H=(0,N.nT)(P),_=(0,T.useRef)(null);(0,T.useEffect)(function(){var e;null===(e=_.current)||void 0===e||e.focus()},[]);var Y=(0,o.useRouter)().pathname,G=(0,x.G)().canConfirmAndSubmit;return(0,S.BX)(k.Columns,{children:[(0,S.tZ)(k.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,S.tZ)(E.ProgressIndicator,{activePath:"".concat("items"in g.g2.stepOwnerDetails&&(null===(e=g.g2.stepOwnerDetails.items[0])||void 0===e?void 0:e.href)),items:g.t8.map(function(e,t){var n,r,i=e.label,o=e.href,a=(0,B.Z)(e,W),l="items"in a?a.items:void 0;return{label:i,href:o,status:(r=g.t8[t]).href===Y.replace("/change-details","")?"started":null!==(n=b.steps)&&void 0!==n&&null!==(n=n[r.formStateKey])&&void 0!==n&&n.completed?"done":"stepReviewAndSubmit"!==r.formStateKey||G?"todo":"blocked",items:l}})})}),(0,S.tZ)(k.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,S.BX)(v.Stack,{alignItems:"flex-start",gap:3,children:[(0,S.tZ)(j.DirectionLink,{direction:"left",href:V,children:"Back"}),(0,S.BX)(v.Stack,{gap:1.5,children:[(0,S.tZ)(I.H1,{focusRingFor:"keyboard",ref:_,tabIndex:-1,children:"Change business owner details"}),(0,S.tZ)(A.Text,{as:"p",color:"muted",fontSize:"md",children:"Change your name and contact details."}),(0,S.tZ)(R.z,{})]}),(0,S.tZ)(v.Stack,{gap:1.5,width:"100%",children:(0,S.BX)(v.Stack,{as:"form",gap:3,noValidate:!0,onSubmit:w(function(e){q(!0),setTimeout(function(){q(!1),y(e),m.push("".concat(V,"?success=true"))},1500)}),children:[(0,S.BX)(D.FormStack,{children:[H&&(0,S.tZ)(X.v,{errors:P}),(0,S.tZ)(F.TextInput,z(z({},Z("firstName")),{},{autoComplete:"given-name",id:"firstName",invalid:!!(null===(t=P.firstName)||void 0===t?void 0:t.message),label:"First name",maxWidth:"lg",message:null===(n=P.firstName)||void 0===n?void 0:n.message,required:!0})),(0,S.tZ)(F.TextInput,z(z({},Z("lastName")),{},{autoComplete:"family-name",id:"lastName",invalid:!!(null===(i=P.lastName)||void 0===i?void 0:i.message),label:"Last name",maxWidth:"lg",message:null===(l=P.lastName)||void 0===l?void 0:l.message,required:!0})),(0,S.tZ)(F.TextInput,z(z({},Z("email")),{},{autoComplete:"email",id:"email",invalid:!!(null===(d=P.email)||void 0===d?void 0:d.message),label:"Email address",maxWidth:"xl",message:null===(c=P.email)||void 0===c?void 0:c.message,required:!0,type:"email"}))]}),(0,S.tZ)(p.Divider,{}),(0,S.BX)(u.ButtonGroup,{children:[(0,S.tZ)(u.Button,{loading:M,type:"submit",children:"Save changes"}),(0,S.tZ)(u.Button,{onClick:function(){m.push(V)},variant:"tertiary",children:"Cancel"})]})]})})]})})]})}var V=n(65874),H=n(60829),_=n(25351),Y=n(78111),G=n(82055),U=n(53289),K=n(44285),J=n(41228),Q=["label","href"];function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function et(){var e,t,n,i,l,d,c,m=(0,o.useRouter)(),f=(0,r.t)(),b=f.formState,h=f.step7GetState,y=f.step7SetState,O=(0,T.useRef)((0,J.H)()),Z=(0,a.cI)({resolver:(0,s.F)(L.xt),mode:"onSubmit",reValidateMode:"onBlur"}),w=Z.register,P=Z.handleSubmit,C=Z.formState.errors,W=void 0===C?{}:C,M=(0,T.useState)(!1),z=M[0],q=M[1],V=g.g2.stepEmployees.href,H=null==W?void 0:W.employee,_=(0,N.nT)(H),Y=(0,T.useRef)(null);(0,T.useEffect)(function(){var e;null===(e=Y.current)||void 0===e||e.focus()},[]);var G=(0,o.useRouter)().pathname,U=(0,x.G)().canConfirmAndSubmit;return(0,S.BX)(k.Columns,{children:[(0,S.tZ)(k.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,S.tZ)(E.ProgressIndicator,{activePath:"".concat("items"in g.g2.stepEmployees&&(null===(e=g.g2.stepEmployees.items[0])||void 0===e?void 0:e.href)),items:g.t8.map(function(e,t){var n,r,i=e.label,o=e.href,a=(0,B.Z)(e,Q);return{label:i,href:o,status:(r=g.t8[t]).href===G.replace("/add-employee","")?"started":null!==(n=b.steps)&&void 0!==n&&null!==(n=n[r.formStateKey])&&void 0!==n&&n.completed?"done":"stepReviewAndSubmit"!==r.formStateKey||U?"todo":"blocked",items:"items"in a?a.items:void 0}})})}),(0,S.tZ)(k.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,S.BX)(v.Stack,{alignItems:"flex-start",gap:3,children:[(0,S.tZ)(j.DirectionLink,{direction:"left",href:V,children:"Back"}),(0,S.BX)(v.Stack,{gap:1.5,children:[(0,S.tZ)(I.H1,{focusRingFor:"keyboard",ref:Y,tabIndex:-1,children:"Add employee"}),(0,S.tZ)(A.Text,{as:"p",color:"muted",fontSize:"md",children:"Provide your employee’s name and email."}),(0,S.tZ)(R.z,{})]}),(0,S.tZ)(v.Stack,{gap:1.5,width:"100%",children:(0,S.BX)(v.Stack,{as:"form",gap:3,noValidate:!0,onSubmit:P(function(e){q(!0),setTimeout(function(){var t;q(!1),y({employee:[].concat((0,K.Z)((null===(t=h())||void 0===t?void 0:t.employee)||[]),[e.employee]).sort(function(e,t){return!(null!=e&&e.firstName)||!(null!=t&&t.firstName)||!(null!=e&&e.lastName)||!t.lastName||e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:e.firstName.toLowerCase()>t.firstName.toLowerCase()?1:e.lastName.toLowerCase()<t.lastName.toLowerCase()?-1:e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:0}),completed:!1}),m.push("".concat(V,"?success=").concat(O.current))},1500)}),children:[(0,S.BX)(D.FormStack,{children:[_&&(0,S.tZ)(X.v,{errors:H}),(0,S.tZ)("input",ee(ee({},w("employee.id")),{},{id:"id",required:!0,type:"hidden",value:O.current})),(0,S.tZ)(F.TextInput,ee(ee({},w("employee.firstName")),{},{autoComplete:"given-name",id:"firstName",invalid:!!(null==W||null===(t=W.employee)||void 0===t||null===(t=t.firstName)||void 0===t?void 0:t.message),label:"First name",maxWidth:"lg",message:null==W||null===(n=W.employee)||void 0===n||null===(n=n.firstName)||void 0===n?void 0:n.message,required:!0})),(0,S.tZ)(F.TextInput,ee(ee({},w("employee.lastName")),{},{autoComplete:"family-name",id:"lastName",invalid:!!(null==W||null===(i=W.employee)||void 0===i||null===(i=i.lastName)||void 0===i?void 0:i.message),label:"Last name",maxWidth:"lg",message:null==W||null===(l=W.employee)||void 0===l||null===(l=l.lastName)||void 0===l?void 0:l.message,required:!0})),(0,S.tZ)(F.TextInput,ee(ee({},w("employee.email")),{},{autoComplete:"email",id:"email",invalid:!!(null==W||null===(d=W.employee)||void 0===d||null===(d=d.email)||void 0===d?void 0:d.message),label:"Email address",maxWidth:"xl",message:null==W||null===(c=W.employee)||void 0===c||null===(c=c.email)||void 0===c?void 0:c.message,required:!0,type:"email"}))]}),(0,S.tZ)(p.Divider,{}),(0,S.BX)(u.ButtonGroup,{children:[(0,S.tZ)(u.Button,{loading:z,type:"submit",children:"Add employee"}),(0,S.tZ)(u.Button,{onClick:function(){m.push(V)},variant:"tertiary",children:"Cancel"})]})]})})]})})]})}var en=n(15249),er=n(62853),ei=n(87705);n(98893)},16950:function(e,t,n){n.d(t,{l:function(){return v}});var r=n(58607),i=n(11246),o=n(27378),a=n(37164),l=n(8632),s=n(79628),d=n(75601),u=n(47753),c=n(161),p=n(87800);function m(e){var t=e.hasSaveAndExit,n=e.submitText,m=(0,d.useTernaryState)(!1),f=(0,i.Z)(m,3),v=f[0],b=f[1],h=f[2],g=(0,c.t)(),y=g.isSubmittingStep,S=g.saveAndExit,O=g.isSavingBeforeExiting,Z=g.cancel;return(0,p.BX)(o.Fragment,{children:[(0,p.BX)(r.Stack,{gap:3,children:[(0,p.tZ)(u.Divider,{}),(0,p.BX)(a.ButtonGroup,{children:[(0,p.tZ)(a.Button,{loading:y,type:"submit",variant:"primary",children:void 0===n?"Save and continue":n}),(void 0===t||t)&&(0,p.tZ)(a.Button,{loading:O,onClick:S,type:"submit",variant:"secondary",children:"Save and exit"}),(0,p.tZ)(a.Button,{onClick:b,type:"button",variant:"tertiary",children:"Cancel"})]})]}),(0,p.tZ)(l.Modal,{actions:(0,p.BX)(a.ButtonGroup,{children:[(0,p.tZ)(a.Button,{onClick:Z,children:"Yes, cancel"}),(0,p.tZ)(a.Button,{onClick:h,variant:"secondary",children:"No, take me back"})]}),isOpen:v,onClose:h,title:"Are you sure you want to cancel?",children:(0,p.tZ)(s.Text,{as:"p",children:"If you cancel, you will lose all information entered."})})]})}var f=n(72604),v=function(e){var t=e.children,n=e.noValidate,i=e.onSubmit,o=e.submitText,a=(0,f.M)();return(0,p.BX)(r.Stack,{as:"form",gap:3,noValidate:void 0===n||n,onSubmit:i,children:[t,a?(0,p.tZ)(m,{hasSaveAndExit:!1,submitText:"Save changes"}):(0,p.tZ)(m,{submitText:o})]})}},47223:function(e,t,n){n.d(t,{Y:function(){return b}});var r=n(27378),i=n(86677),o=n(23748),a=n(60564),l=n(51623),s=n(66881),d=n(58607),u=n(161),c=n(20547),p=n(72604),m=n(66847),f=n(88096),v=n(87800);function b(e){var t=e.formTitle,n=e.formIntroduction,b=e.formCallToAction,h=e.children,g=e.hideRequiredFieldsMessage,y=e.shouldFocusTitle,S=(0,i.useRouter)(),O=S.asPath,Z=S.pathname,w=(0,u.t)(),P=w.formState,x=w.startApplication,C=(0,m.G)(),B=C.backHref,T=C.canConfirmAndSubmit,k=(0,p.M)();return(0,r.useEffect)(function(){x()},[x]),(0,v.BX)(o.Columns,{children:[(0,v.tZ)(o.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,v.tZ)(a.ContentBleed,{visible:{md:!1},children:(0,v.tZ)(s.ProgressIndicator,{activePath:O,items:f.t8.map(function(e,t){var n,r,i;return{label:e.label,href:e.href,status:(r=f.t8[t],i=null===(n=P.steps)||void 0===n?void 0:n[r.formStateKey],r.href===Z?"started":null!=i&&i.completed?"done":null!=i&&i.started?"started":"stepReviewAndSubmit"!==r.formStateKey||T?k?"started":"todo":"blocked"),items:k?f.t8.map(function(e){return{label:e.labelWhenChanging,href:f.g2.stepReviewAndSubmit.href+"/change-"+e.href.slice(e.href.lastIndexOf("/")+1)}}):void 0}})})})}),(0,v.tZ)(o.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,v.BX)(d.Stack,{alignItems:"flex-start",gap:3,children:[(0,v.tZ)(l.DirectionLink,{direction:"left",href:B,children:"Back"}),(0,v.tZ)(c.Y,{callToAction:b,hideRequiredFieldsMessage:g,introduction:n,shouldFocusTitle:void 0===y||y,title:t,children:h})]})})]})}},66847:function(e,t,n){n.d(t,{G:function(){return v},R:function(){return f}});var r=n(55732),i=n(57135),o=n.n(i),a=n(86677),l=n(27378),s=n(161),d=n(21855),u=n(72604),c=n(88096),p=n(87800),m=(0,l.createContext)(void 0);function f(e){var t,n,i=e.children,f=(0,a.useRouter)(),v=f.pathname,b=f.push,h=(0,s.t)(),g=h.setIsSubmittingStep,y=h.formState,S=h.isSavingBeforeExiting,O=c.t8.findIndex(function(e){return e.href===v}),Z=(0,u.M)(),w=(0,l.useCallback)((0,r.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return g(!0),e.next=5,new Promise(function(e){return setTimeout(e,1500)});case 5:b((0,d.uY)({currentStepIndex:O,id:y.id,isEditingFromReviewStep:Z,steps:c.t8})),g(!1);case 8:case"end":return e.stop()}},e)})),[O,y,Z,S,b,g]),P="".concat(null!==(t=null===(n=Z?c.g2.stepReviewAndSubmit:c.t8[O-1])||void 0===n?void 0:n.href)&&void 0!==t?t:d.Pl),x=(0,l.useMemo)(function(){var e,t,n,r,i,o,a,l,s;return null!==(e=y.steps)&&void 0!==e&&null!==(e=e.stepOwnerDetails)&&void 0!==e&&!!e.completed&&null!==(t=y.steps)&&void 0!==t&&null!==(t=t.stepBusinessDetails)&&void 0!==t&&!!t.completed&&null!==(n=y.steps)&&void 0!==n&&null!==(n=n.stepBusinessAddress)&&void 0!==n&&!!n.completed&&null!==(r=y.steps)&&void 0!==r&&null!==(r=r.stepVehicleRegistration)&&void 0!==r&&!!r.completed&&null!==(i=y.steps)&&void 0!==i&&null!==(i=i.stepTradingTime)&&void 0!==i&&!!i.completed&&null!==(o=y.steps)&&void 0!==o&&null!==(o=o.stepFoodServed)&&void 0!==o&&!!o.completed&&null!==(a=y.steps)&&void 0!==a&&null!==(a=a.stepEmployees)&&void 0!==a&&!!a.completed&&null!==(l=y.steps)&&void 0!==l&&null!==(l=l.stepFoodSafetySupervisor)&&void 0!==l&&!!l.completed&&null!==(s=y.steps)&&void 0!==s&&null!==(s=s.stepUploadDocuments)&&void 0!==s&&!!s.completed},[y]);return(0,p.tZ)(m.Provider,{value:{backHref:P,submitStep:w,canConfirmAndSubmit:x},children:i})}function v(){var e=(0,l.useContext)(m);if(!e)throw Error("Context provider not found");return e}},97145:function(e,t,n){n.d(t,{D5:function(){return a},L3:function(){return s},Mk:function(){return o},P$:function(){return b},Qu:function(){return h},h9:function(){return u},h_:function(){return c},id:function(){return m},pp:function(){return g},q0:function(){return f},tU:function(){return d},uP:function(){return v},xt:function(){return p},yS:function(){return l}});var r=n(84200),i=n(23372),o=r.z.object({firstName:(0,i.Jg)("Enter your first name"),lastName:(0,i.Jg)("Enter your last name"),email:(0,i.Jg)("Enter your email address").email("Enter a valid email address"),contactPhoneNumber:(0,i.jF)()}),a=r.z.object({contactPhoneNumber:(0,i.jF)()}),l=r.z.object({businessName:(0,i.Jg)("Business or company name is required"),tradingName:(0,i.ly)(),businessStructure:(0,i.Jg)("Business structure is required"),abn:(0,i.ly)(),acn:(0,i.ly)()}).refine(function(e){return"Business"!==e.businessStructure||!!e.abn},{path:["abn"],message:"ABN is required"}).refine(function(e){return"Company"!==e.businessStructure||!!e.acn},{path:["acn"],message:"ACN is required"}),s=r.z.object({streetAddress:(0,i.Jg)("Enter your street address"),suburbTownCity:(0,i.Jg)("Enter your suburb, town or city"),state:(0,i.Jg)("Enter your state"),postcode:(0,i.Jg)("Enter your postcode").length(4,{message:"An Australian postcode is 4 digits long"}),isPostalAddressSameAsBusinessAddress:r.z.boolean(),postalAddress:(0,i.ly)(),postalSuburbTownCity:(0,i.ly)(),postalState:(0,i.ly)(),postalPostcode:(0,i.ly)()}).superRefine(function(e,t){function n(e,n,i){t.addIssue({code:r.NL.invalid_string,message:i||"Enter your ".concat(n),validation:{includes:""},path:[e]})}e.isPostalAddressSameAsBusinessAddress||(e.postalAddress||n("postalAddress","postal address"),e.postalSuburbTownCity||n("postalSuburbTownCity","suburb, town or city"),e.postalState||n("postalState","state"),e.postalPostcode?4!==e.postalPostcode.length&&n("postalPostcode","postcode","An Australian postcode is 4 digits long"):n("postalPostcode","postcode"))}),d=r.z.object({registrationNumber:(0,i.Jg)("Vehicle registration number is required").max(6,"Registration number can not be longer than 6 characters"),registrationExpiry:(0,i.MG)("Registration expiry date is required")}),u=r.z.object({tradingPeriod:r.z.object({from:(0,i.MG)("Start date is required"),to:(0,i.MG)("End date is required")}),openingTime:(0,i.AY)({label:"Opening time"}),closingTime:(0,i.AY)({label:"Closing time"})}),c=r.z.object({foodServed:(0,i.b5)(r.z.object({label:(0,i.Jg)(),value:(0,i.Jg)()}),"Food types is required")}),p=r.z.object({employee:r.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("Enter employee’s first name"),lastName:(0,i.Jg)("Enter employee’s last name"),email:(0,i.Jg)("Enter employee’s email address").email("Enter a valid email address")})}),m=r.z.object({supervisor:(0,i.Jg)("Food safety supervisor is required")}),f=r.z.object({files:r.z.object({"rms-vehicle-registration":r.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()}),"food-safety-certificate":r.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()}),"suggested-menu-or-list-of-foods-being-sold":r.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()})})}),v=r.z.object({declaration1:r.z.boolean().refine(function(e){return e},"Accept the first declaration to continue"),declaration2:r.z.boolean().refine(function(e){return e},"Accept the second declaration to continue"),declaration3:r.z.boolean().refine(function(e){return e},"Accept the third declaration to continue")}),b={stepOwnerDetails:{firstName:"Charlie",lastName:"Walker",email:"c.walker@email.com",completed:!1},stepBusinessAddress:{isPostalAddressSameAsBusinessAddress:!0,completed:!1},stepEmployees:{employee:[]},stepUploadDocuments:{files:{"rms-vehicle-registration":{file:"",size:""},"food-safety-certificate":{file:"",size:""},"suggested-menu-or-list-of-foods-being-sold":{file:"",size:""}}}},h=r.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("Enter employee’s first name"),lastName:(0,i.Jg)("Enter employee’s last name"),email:(0,i.Jg)("Enter employee’s email address").email("Enter a valid email address"),mobile:(0,i.ME)("Enter employee’s mobile number"),role:r.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Please choose a role"}}}),trainingCompleted:r.z.array(r.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))}),g=r.z.object({role:r.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Please choose a role"}}}),trainingCompleted:r.z.array(r.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))})},39102:function(e,t,n){n.d(t,{l:function(){return E}});var r=n(90849),i=n(55732),o=n(11246),a=n(57135),l=n.n(a),s=n(88039),d=n(27378),u=n(86677),c=n(32324),p=n(37164),m=n(80043),f=n(23434),v=n(13497),b=n(67728),h=n(58607),g=n(5443),y=n(41794),S=n(90460),O=n(75601),Z=n(161),w=n(72604),P=n(87594),x=n(97145),C=n(47223),B=n(66847),T=n(16950),k=n(88096),j=n(87800);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(){var e=(0,(0,Z.t)().step1GetState)(),t="true"===(0,u.useRouter)().query.success,n=(0,d.useState)(t),r=n[0],i=n[1],a=(0,w.M)(),l=(0,O.useTernaryState)(!1),s=(0,o.Z)(l,3),c=s[0],S=s[1],x=s[2];return(0,d.useEffect)(function(){i(t)},[t]),(0,j.BX)(C.Y,{formIntroduction:"Confirm your name and contact details.",formTitle:a?k.g2.stepOwnerDetails.labelWhenChanging:k.g2.stepOwnerDetails.label,shouldFocusTitle:!r,children:[(0,j.BX)(h.Stack,{gap:3,children:[(0,j.BX)(f.FormStack,{children:[(0,j.tZ)(v.H2,{children:"Confirm business owner details"}),(0,j.tZ)(m.Details,{iconBefore:!0,label:"How were my details prefilled?",children:(0,j.BX)(b.Prose,{children:[(0,j.tZ)("p",{children:"We’re working hard to improve the way we do business with you. This includes making applications and registrations easier to use."}),(0,j.tZ)("p",{children:"If we already have some of the information you need to tell us, we’ll pre-fill it into your applications. This saves you entering all your details yourself."}),(0,j.tZ)("p",{children:"It’s important to check the pre-filled information in your report before you submit it."})]})}),r&&(0,j.tZ)(g.SectionAlert,{focusOnMount:!0,onClose:function(){return i(!1)},title:"Business owner details have been updated",tone:"success"}),(0,j.BX)(h.Stack,{gap:1.5,children:[(0,j.BX)(y.SummaryList,{children:[(0,j.BX)(y.SummaryListItem,{children:[(0,j.tZ)(y.SummaryListItemTerm,{children:"First name"}),(0,j.tZ)(y.SummaryListItemDescription,{children:null==e?void 0:e.firstName})]}),(0,j.BX)(y.SummaryListItem,{children:[(0,j.tZ)(y.SummaryListItemTerm,{children:"Last name"}),(0,j.tZ)(y.SummaryListItemDescription,{children:null==e?void 0:e.lastName})]}),(0,j.BX)(y.SummaryListItem,{children:[(0,j.tZ)(y.SummaryListItemTerm,{children:"Email address"}),(0,j.tZ)(y.SummaryListItemDescription,{children:null==e?void 0:e.email})]})]}),a?(0,j.tZ)(p.Button,{alignSelf:"start",onClick:S,variant:"text",children:"Change business owner details"}):(0,j.tZ)(p.ButtonLink,{alignSelf:"start",href:"items"in k.g2.stepOwnerDetails?k.g2.stepOwnerDetails.items[0].href:void 0,variant:"text",children:"Change business owner details"})]})]}),(0,j.tZ)(A,{})]}),(0,j.tZ)(P.C,{isOpen:c,onClose:x,onConfirm:x})]})}function A(){var e,t,n,r=(0,Z.t)(),o=r.step1GetState,a=r.step1SetState,d=r.isSavingBeforeExiting,u=(0,B.G)().submitStep,p=(0,s.cI)({defaultValues:{contactPhoneNumber:null===(t=o())||void 0===t?void 0:t.contactPhoneNumber},resolver:(0,c.F)(x.D5),mode:"onSubmit",reValidateMode:"onBlur"}),m=p.register,b=p.handleSubmit,h=p.formState.errors,g=(e=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u();case 4:a(I(I({},t),{},{completed:!d,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,j.tZ)(T.l,{noValidate:!1,onSubmit:b(g),children:(0,j.BX)(f.FormStack,{children:[(0,j.tZ)(v.H2,{children:"Additional details"}),(0,j.tZ)(S.TextInput,I(I({},m("contactPhoneNumber")),{},{autoComplete:"tel",hint:"Any Australian mobile or landline. For example, 0444111222 or 02 9988 7766",id:"contactPhoneNumber",invalid:!!h.contactPhoneNumber,label:"Contact phone number",message:null===(n=h.contactPhoneNumber)||void 0===n?void 0:n.message}))]})})}},87705:function(e,t,n){n.d(t,{C:function(){return T}});var r=n(90849),i=n(55732),o=n(57135),a=n.n(o),l=n(27378),s=n(88039),d=n(32324),u=n(3096),c=n(13690),p=n(13497),m=n(23434),f=n(94609),v=n(79628),b=n(52644),h=n(87800);function g(){return(0,h.tZ)(b.PageAlert,{title:(0,h.tZ)(b.PageAlertTitle,{as:"h2",children:"This section of the form is not ready to be completed"}),tone:"warning",children:(0,h.tZ)(v.Text,{as:"p",children:"Before starting this part of the form, you will need to go back and complete all of the previous sections."})})}var y=n(161),S=n(47223),O=n(66847),Z=n(98893),w=n(97145),P=n(16950),x=n(88096);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(){var e,t,n,r,o=(0,y.t)(),b=o.isSavingBeforeExiting,C=o.step10SetState,T=(0,O.G)(),k=T.submitStep,j=T.canConfirmAndSubmit,D=(0,s.cI)({resolver:(0,d.F)(w.uP),mode:"onSubmit",reValidateMode:"onBlur"}),I=D.register,E=D.handleSubmit,A=D.formState.errors,F=(e=(0,i.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,k();case 4:C(B(B({},t),{},{completed:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),R=Object.keys(A).length>1;return(0,h.tZ)(S.Y,{formIntroduction:"Check and confirm all details on this page.",formTitle:x.g2.stepReviewAndSubmit.label,hideRequiredFieldsMessage:!0,children:j?(0,h.BX)(l.Fragment,{children:[(0,h.tZ)(Z.L,{}),(0,h.tZ)(P.l,{onSubmit:E(F),submitText:"Submit application",children:(0,h.BX)(m.FormStack,{children:[(0,h.tZ)(p.H2,{children:"Declaration"}),(0,h.BX)(v.Text,{as:"p",children:["You must agree to the"," ",(0,h.tZ)(f.TextLinkExternal,{href:"/not-found",children:"Terms of Use"}),", the"," ",(0,h.tZ)(f.TextLinkExternal,{href:"/not-found",children:"Privacy Policy"})," ","and the"," ",(0,h.tZ)(f.TextLinkExternal,{href:"/not-found",children:"Privacy Notice"})," ","to continue."]}),(0,h.BX)(c.ControlGroup,{block:!0,id:"checkbox",invalid:R||!!(A.declaration1||A.declaration2||A.declaration3),message:R?"Accept all declarations to continue":(null===(t=A.declaration1)||void 0===t?void 0:t.message)||(null===(n=A.declaration2)||void 0===n?void 0:n.message)||(null===(r=A.declaration3)||void 0===r?void 0:r.message),required:!0,children:[(0,h.tZ)(u.Checkbox,B(B({},I("declaration1")),{},{children:"I have read, understood and agree to be bound by the Terms of Use, The Privacy Policy and the Privacy notice."})),(0,h.tZ)(u.Checkbox,B(B({},I("declaration2")),{},{children:"I understand and agree that any information I provide to the Export Service may be used in relation to other Services in order to improve the Export Service experience."})),(0,h.tZ)(u.Checkbox,B(B({},I("declaration3")),{},{children:"I understand and consent to the Department using the personal information, sensitive information, and/or relevant information (within the meaning of the Export Control Act 2020 (Cth) and the Privacy Act 1988 (Cth)) I provide for the purposes of facilitating my access to, and ability to perform export activities in, the Export Service."}))]})]})})]}):(0,h.tZ)(g,{})})}},98893:function(e,t,n){n.d(t,{L:function(){return g}});var r=n(11246),i=n(37164),o=n(13497),a=n(58607),l=n(27140),s=n(79628),d=n(67637),u=n(161),c=n(5443),p=n(87800),m={name:"1d3w5wq",styles:"width:100%"};function f(){return(0,p.tZ)("div",{css:m,children:(0,p.tZ)(c.SectionAlert,{title:"Errors detected. Please edit your answers in this section.",tone:"error"})})}var v=n(97145),b=n(62853),h=n(88096);function g(){var e,t,n,c,m,g,y,S,O,Z,w,P,x,C,B,T,k,j,D,I,E,A,F,R,X,N,L,W,M,z,q,V,H,_,Y,G,U,K,J,Q,$=(0,u.t)().formState,ee={stepOwnerDetails:v.Mk.safeParse(null===(e=$.steps)||void 0===e?void 0:e.stepOwnerDetails),stepBusinessDetails:v.yS.safeParse(null===(t=$.steps)||void 0===t?void 0:t.stepBusinessDetails),stepBusinessAddress:v.L3.safeParse(null===(n=$.steps)||void 0===n?void 0:n.stepBusinessAddress),stepVehicleRegistration:v.tU.safeParse(null===(c=$.steps)||void 0===c?void 0:c.stepVehicleRegistration),stepTradingTime:v.h9.safeParse(null===(m=$.steps)||void 0===m?void 0:m.stepTradingTime),stepFoodServed:v.h_.safeParse(null===(g=$.steps)||void 0===g?void 0:g.stepFoodServed),stepEmployees:{success:null===(y=$.steps)||void 0===y||null===(y=y.stepEmployees)||void 0===y||null===(y=y.employee)||void 0===y?void 0:y.every(function(e){return v.xt.safeParse(e)})},stepFoodSafetySupervisor:v.id.safeParse(null===(S=$.steps)||void 0===S?void 0:S.stepFoodSafetySupervisor),stepUploadDocuments:v.q0.safeParse(null===(O=$.steps)||void 0===O?void 0:O.stepUploadDocuments)};return(0,p.BX)(a.Stack,{gap:3,children:[(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepOwnerDetails.label}),ee.stepOwnerDetails.success?(0,p.BX)(d.xL,{children:[(0,p.tZ)(d.VY,{label:"First name",value:null===(Z=$.steps)||void 0===Z||null===(Z=Z.stepOwnerDetails)||void 0===Z?void 0:Z.firstName}),(0,p.tZ)(d.VY,{label:"Last name",value:null===(w=$.steps)||void 0===w||null===(w=w.stepOwnerDetails)||void 0===w?void 0:w.lastName}),(0,p.tZ)(d.VY,{label:"Email address",value:null===(P=$.steps)||void 0===P||null===(P=P.stepOwnerDetails)||void 0===P?void 0:P.email}),(0,p.tZ)(d.VY,{label:"Contact phone number",value:null===(x=$.steps)||void 0===x||null===(x=x.stepOwnerDetails)||void 0===x?void 0:x.contactPhoneNumber})]}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-owner-details"),variant:"text",children:h.g2.stepOwnerDetails.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepBusinessDetails.label}),ee.stepBusinessDetails.success?(0,p.BX)(d.xL,{children:[(0,p.tZ)(d.VY,{label:"Business name",value:null===(C=$.steps)||void 0===C||null===(C=C.stepBusinessDetails)||void 0===C?void 0:C.businessName}),(0,p.tZ)(d.VY,{label:"Trading name",value:null===(B=$.steps)||void 0===B||null===(B=B.stepBusinessDetails)||void 0===B?void 0:B.tradingName}),(0,p.tZ)(d.VY,{label:"Business structure",value:null===(T=$.steps)||void 0===T||null===(T=T.stepBusinessDetails)||void 0===T?void 0:T.businessStructure}),(null===(k=$.steps)||void 0===k||null===(k=k.stepBusinessDetails)||void 0===k?void 0:k.businessStructure)==="Business"?(0,p.tZ)(d.VY,{label:"Australian Business Number (ABN)",value:null===(j=$.steps)||void 0===j||null===(j=j.stepBusinessDetails)||void 0===j?void 0:j.abn}):(null===(D=$.steps)||void 0===D||null===(D=D.stepBusinessDetails)||void 0===D?void 0:D.businessStructure)==="Company"?(0,p.tZ)(d.VY,{label:"Australian Company Number (ACN)",value:null===(I=$.steps)||void 0===I||null===(I=I.stepBusinessDetails)||void 0===I?void 0:I.acn}):null]}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-business-details"),variant:"text",children:h.g2.stepBusinessDetails.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepBusinessAddress.label}),ee.stepBusinessAddress.success?(0,p.BX)(d.xL,{children:[(0,p.tZ)(d.Zu,{address:null===(E=$.steps)||void 0===E||null===(E=E.stepBusinessAddress)||void 0===E?void 0:E.streetAddress,label:"Street address",postcode:null===(A=$.steps)||void 0===A||null===(A=A.stepBusinessAddress)||void 0===A?void 0:A.postcode,state:null===(F=$.steps)||void 0===F||null===(F=F.stepBusinessAddress)||void 0===F?void 0:F.state,suburb:null===(R=$.steps)||void 0===R||null===(R=R.stepBusinessAddress)||void 0===R?void 0:R.suburbTownCity}),null!==(X=$.steps)&&void 0!==X&&null!==(X=X.stepBusinessAddress)&&void 0!==X&&X.isPostalAddressSameAsBusinessAddress?(0,p.tZ)(d.VY,{label:"Postal address",value:"Same as street address"}):(0,p.tZ)(d.Zu,{address:null===(N=$.steps)||void 0===N||null===(N=N.stepBusinessAddress)||void 0===N?void 0:N.postalAddress,label:"Postal address",postcode:null===(L=$.steps)||void 0===L||null===(L=L.stepBusinessAddress)||void 0===L?void 0:L.postalPostcode,state:null===(W=$.steps)||void 0===W||null===(W=W.stepBusinessAddress)||void 0===W?void 0:W.postalState,suburb:null===(M=$.steps)||void 0===M||null===(M=M.stepBusinessAddress)||void 0===M?void 0:M.postalSuburbTownCity})]}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-business-address"),variant:"text",children:h.g2.stepBusinessAddress.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepVehicleRegistration.label}),ee.stepVehicleRegistration.success?(0,p.BX)(d.xL,{children:[(0,p.tZ)(d.VY,{label:"Vehicle registration number",value:null===(z=$.steps)||void 0===z||null===(z=z.stepVehicleRegistration)||void 0===z?void 0:z.registrationNumber}),(0,p.tZ)(d.ge,{label:"Registration expiry date",value:null===(q=$.steps)||void 0===q||null===(q=q.stepVehicleRegistration)||void 0===q?void 0:q.registrationExpiry})]}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-vehicle-registration"),variant:"text",children:h.g2.stepVehicleRegistration.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepTradingTime.label}),ee.stepTradingTime.success?(0,p.BX)(d.xL,{children:[(0,p.tZ)(d._c,{fromLabel:"Start date",fromValue:null===(V=$.steps)||void 0===V||null===(V=V.stepTradingTime)||void 0===V||null===(V=V.tradingPeriod)||void 0===V?void 0:V.from,toLabel:"End date",toValue:null===(H=$.steps)||void 0===H||null===(H=H.stepTradingTime)||void 0===H||null===(H=H.tradingPeriod)||void 0===H?void 0:H.to}),(0,p.tZ)(d.VY,{label:"Trading hours",value:"".concat(null===(_=$.steps)||void 0===_||null===(_=_.stepTradingTime)||void 0===_||null===(_=_.openingTime)||void 0===_?void 0:_.formatted," - ").concat(null===(Y=$.steps)||void 0===Y||null===(Y=Y.stepTradingTime)||void 0===Y||null===(Y=Y.closingTime)||void 0===Y?void 0:Y.formatted)})]}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-trading-name"),variant:"text",children:h.g2.stepTradingTime.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepFoodServed.label}),ee.stepFoodServed.success?(0,p.tZ)(d.xL,{children:(0,p.tZ)(d.VY,{label:"Food served",value:null===(G=$.steps)||void 0===G||null===(G=G.stepFoodServed)||void 0===G||null===(G=G.foodServed)||void 0===G?void 0:G.map(function(e){return null==e?void 0:e.label}).join(", ")})}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-food-served"),variant:"text",children:h.g2.stepFoodServed.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{id:"employees-heading",children:h.g2.stepEmployees.label}),ee.stepEmployees.success?(0,p.tZ)(l.TableWrapper,{children:(0,p.BX)(l.Table,{"aria-labelledby":"employees-heading",children:[(0,p.tZ)(l.TableHead,{children:(0,p.BX)(l.TableRow,{children:[(0,p.tZ)(l.TableHeader,{width:"33%",children:"Employee name"}),(0,p.tZ)(l.TableHeader,{children:"Email address"})]})}),(0,p.tZ)(l.TableBody,{children:null===(U=$.steps)||void 0===U||null===(U=U.stepEmployees)||void 0===U||null===(U=U.employee)||void 0===U?void 0:U.map(function(e){return(null==e?void 0:e.id)&&(0,p.BX)(l.TableRow,{children:[(0,p.BX)(l.TableCell,{children:[e.firstName," ",e.lastName]}),(0,p.tZ)(l.TableCell,{children:e.email})]},e.id)})})]})}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-employees"),variant:"text",children:h.g2.stepEmployees.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{children:h.g2.stepFoodSafetySupervisor.label}),ee.stepFoodSafetySupervisor.success?(0,p.tZ)(d.xL,{children:(0,p.tZ)(d.VY,{label:"Food safety supervisor",value:null===(K=$.steps)||void 0===K||null===(K=K.stepFoodSafetySupervisor)||void 0===K?void 0:K.supervisor})}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-food-safety-supervisor"),variant:"text",children:h.g2.stepFoodSafetySupervisor.labelWhenChanging})]}),(0,p.BX)(a.Stack,{gap:1.5,children:[(0,p.tZ)(o.H2,{id:"upload-documents-heading",children:h.g2.stepUploadDocuments.label}),ee.stepUploadDocuments.success?(0,p.tZ)(l.TableWrapper,{children:(0,p.BX)(l.Table,{"aria-labelledby":"upload-documents-heading",children:[(0,p.tZ)(l.TableHead,{children:(0,p.BX)(l.TableRow,{children:[(0,p.tZ)(l.TableHeader,{width:"33%",children:"Document type"}),(0,p.tZ)(l.TableHeader,{children:"File"})]})}),(0,p.tZ)(l.TableBody,{children:(null===(J=$.steps)||void 0===J||null===(J=J.stepUploadDocuments)||void 0===J?void 0:J.files)&&(null===(Q=Object.entries($.steps.stepUploadDocuments.files))||void 0===Q?void 0:Q.map(function(e){var t=(0,r.Z)(e,2),n=t[0],i=t[1],o=i.file,a=i.size;return(0,p.BX)(l.TableRow,{children:[(0,p.tZ)(l.TableCell,{children:b.W[n]}),(0,p.tZ)(l.TableCell,{children:(0,p.tZ)(s.Text,{breakWords:!0,children:"".concat(o||""," (").concat(a,")")})})]},n)}))})]})}):(0,p.tZ)(f,{}),(0,p.tZ)(i.ButtonLink,{alignSelf:"start",href:"".concat(h.g2.stepReviewAndSubmit.href,"/change-documents"),variant:"text",children:h.g2.stepUploadDocuments.labelWhenChanging})]})]})}},65874:function(e,t,n){n.d(t,{A:function(){return B}});var r=n(90849),i=n(55732),o=n(57135),a=n.n(o),l=n(88039),s=n(27378),d=n(32324),u=n(13690),c=n(23434),p=n(39173),m=n(90460),f=n(47753),v=n(87640),b=n(21855),h=n(161),g=n(72604),y=n(47223),S=n(66847),O=n(97145),Z=n(16950),w=n(88096),P=n(87800);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(){var e,t,n,r,o,x,B,T,k,j,D,I=(0,h.t)(),E=I.formState,A=I.step2SetState,F=I.isSavingBeforeExiting,R=(0,S.G)().submitStep,X=(0,g.M)(),N=(0,l.cI)({defaultValues:null===(t=E.steps)||void 0===t?void 0:t.stepBusinessDetails,resolver:F?void 0:(0,d.F)(O.yS),mode:"onSubmit",reValidateMode:"onBlur"}),L=N.watch,W=N.register,M=N.handleSubmit,z=N.trigger,q=N.formState,V=q.errors,H=q.isSubmitted,_=(e=(0,i.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,R();case 4:A(C(C({},t),{},{completed:!F,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),Y=(0,b.nT)(V),G="Business"===L("businessStructure"),U="Company"===L("businessStructure");return(0,s.useEffect)(function(){H&&z()},[H,z]),(0,P.tZ)(y.Y,{formIntroduction:"Your business details must match your business registration.",formTitle:X?w.g2.stepBusinessDetails.labelWhenChanging:w.g2.stepBusinessDetails.label,children:(0,P.tZ)(Z.l,{onSubmit:M(_),children:(0,P.BX)(c.FormStack,{children:[Y&&(0,P.tZ)(v.v,{errors:V}),(0,P.tZ)(m.TextInput,C(C({},W("businessName")),{},{autoComplete:"organization",id:"businessName",invalid:!!(null===(n=V.businessName)||void 0===n?void 0:n.message),label:"Business or company name",maxWidth:"xl",message:null===(r=V.businessName)||void 0===r?void 0:r.message,required:!0})),(0,P.tZ)(m.TextInput,C(C({},W("tradingName")),{},{autoComplete:"on",id:"tradingName",invalid:!!(null===(o=V.tradingName)||void 0===o?void 0:o.message),label:"Trading name",maxWidth:"xl",message:null===(x=V.tradingName)||void 0===x?void 0:x.message})),(0,P.BX)(u.ControlGroup,{block:!0,id:"businessStructure",invalid:!!V.businessStructure,label:"Business structure",message:null===(B=V.businessStructure)||void 0===B?void 0:B.message,required:!0,children:[(0,P.tZ)(p.Radio,C(C({},W("businessStructure")),{},{value:"Business",children:"Business"})),(0,P.tZ)(p.Radio,C(C({},W("businessStructure")),{},{value:"Company",children:"Company"})),(0,P.tZ)(p.Radio,C(C({},W("businessStructure")),{},{value:"Sole trader",children:"Sole trader"}))]}),G&&(0,P.BX)(P.HY,{children:[(0,P.tZ)(f.Divider,{}),(0,P.tZ)(m.TextInput,C(C({},W("abn")),{},{autoComplete:"on",id:"abn",invalid:!!(null===(T=V.abn)||void 0===T?void 0:T.message),label:"Australian Business Number (ABN)",message:null===(k=V.abn)||void 0===k?void 0:k.message,required:!0}))]}),U&&(0,P.BX)(P.HY,{children:[(0,P.tZ)(f.Divider,{}),(0,P.tZ)(m.TextInput,C(C({},W("acn")),{},{autoComplete:"on",id:"acn",invalid:!!(null===(j=V.acn)||void 0===j?void 0:j.message),label:"Australian Company Number (ACN)",message:null===(D=V.acn)||void 0===D?void 0:D.message,required:!0}))]})]})})})}},60829:function(e,t,n){n.d(t,{r:function(){return T}});var r=n(90849),i=n(55732),o=n(57135),a=n.n(o),l=n(88039),s=n(32324),d=n(3096),u=n(88318),c=n(23434),p=n(13497),m=n(59595),f=n(90460),v=n(47753),b=n(87640),h=n(21855),g=n(161),y=n(72604),S=n(47223),O=n(66847),Z=n(97145),w=n(16950),P=n(88096),x=n(87800);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(){var e,t,n,r,o,C,T,k,j,D,I,E,A,F,R,X,N,L,W=(0,g.t)(),M=W.formState,z=W.step3SetState,q=W.isSavingBeforeExiting,V=(0,O.G)().submitStep,H=(0,y.M)(),_=(0,l.cI)({defaultValues:null===(t=M.steps)||void 0===t?void 0:t.stepBusinessAddress,resolver:q?void 0:(0,s.F)(Z.L3),mode:"onSubmit",reValidateMode:"onBlur"}),Y=_.watch,G=_.register,U=_.handleSubmit,K=_.formState.errors,J=(e=(0,i.Z)(a().mark(function e(t){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!q){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V();case 4:z(B(B({},t),{},{completed:!q,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),Q=(0,h.nT)(K),$=Y("isPostalAddressSameAsBusinessAddress");return(0,x.tZ)(S.Y,{formIntroduction:"Add your business address.",formTitle:H?P.g2.stepBusinessAddress.labelWhenChanging:P.g2.stepBusinessAddress.label,children:(0,x.BX)(w.l,{onSubmit:U(J),children:[Q&&(0,x.tZ)(b.v,{errors:K}),(0,x.tZ)(c.FormStack,{children:(0,x.tZ)(u.Fieldset,{legend:(0,x.tZ)(p.H2,{children:"Business address"}),children:(0,x.BX)(c.FormStack,{children:[(0,x.tZ)(f.TextInput,B(B({},G("streetAddress")),{},{autoComplete:"on",id:"streetAddress",invalid:!!(null===(n=K.streetAddress)||void 0===n?void 0:n.message),label:"Street address",maxWidth:"xl",message:null===(r=K.streetAddress)||void 0===r?void 0:r.message,required:!0})),(0,x.tZ)(f.TextInput,B(B({},G("suburbTownCity")),{},{autoComplete:"on",id:"suburbTownCity",invalid:!!(null===(o=K.suburbTownCity)||void 0===o?void 0:o.message),label:"Suburb, town or city",maxWidth:"lg",message:null===(C=K.suburbTownCity)||void 0===C?void 0:C.message,required:!0})),(0,x.tZ)(m.Select,B(B({},G("state")),{},{autoComplete:"on",id:"state",invalid:!!(null===(T=K.state)||void 0===T?void 0:T.message),label:"State or territory",maxWidth:"sm",message:null===(k=K.state)||void 0===k?void 0:k.message,options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],placeholder:"Select",required:!0})),(0,x.tZ)(f.TextInput,B(B({},G("postcode")),{},{autoComplete:"on",id:"postcode",inputMode:"numeric",invalid:!!(null===(j=K.postcode)||void 0===j?void 0:j.message),label:"Postcode",maxWidth:"sm",message:null===(D=K.postcode)||void 0===D?void 0:D.message,pattern:"[0-9]*",required:!0}))]})})}),(0,x.tZ)(c.FormStack,{children:(0,x.tZ)(u.Fieldset,{legend:(0,x.tZ)(p.H2,{children:"Postal address"}),children:(0,x.BX)(c.FormStack,{children:[(0,x.tZ)(d.Checkbox,B(B({},G("isPostalAddressSameAsBusinessAddress")),{},{id:"isPostalAddressSameAsBusinessAddress",children:"Same as business address"})),!$&&(0,x.BX)(c.FormStack,{children:[(0,x.tZ)(v.Divider,{}),(0,x.tZ)(f.TextInput,B(B({},G("postalAddress")),{},{autoComplete:"on",id:"postalAddress",invalid:!!(null===(I=K.postalAddress)||void 0===I?void 0:I.message),label:"Postal address",maxWidth:"xl",message:null===(E=K.postalAddress)||void 0===E?void 0:E.message,required:!0})),(0,x.tZ)(f.TextInput,B(B({},G("postalSuburbTownCity")),{},{autoComplete:"on",id:"postalSuburbTownCity",invalid:!!(null===(A=K.postalSuburbTownCity)||void 0===A?void 0:A.message),label:"Suburb, town or city",maxWidth:"lg",message:null===(F=K.postalSuburbTownCity)||void 0===F?void 0:F.message,required:!0})),(0,x.tZ)(m.Select,B(B({},G("postalState")),{},{autoComplete:"on",id:"postalState",invalid:!!(null===(R=K.postalState)||void 0===R?void 0:R.message),label:"State or territory",maxWidth:"sm",message:null===(X=K.postalState)||void 0===X?void 0:X.message,options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],placeholder:"Select",required:!0})),(0,x.tZ)(f.TextInput,B(B({},G("postalPostcode")),{},{autoComplete:"on",id:"postalPostcode",inputMode:"numeric",invalid:!!(null===(N=K.postalPostcode)||void 0===N?void 0:N.message),label:"Postcode",maxWidth:"sm",message:null===(L=K.postalPostcode)||void 0===L?void 0:L.message,pattern:"[0-9]*",required:!0}))]})]})})})]})})}},25351:function(e,t,n){n.d(t,{B:function(){return C}});var r=n(90089),i=n(55732),o=n(90849),a=n(57135),l=n.n(a),s=n(88039),d=n(32324),u=n(52747),c=n(23434),p=n(90460),m=n(87640),f=n(21855),v=n(161),b=n(72604),h=n(66847),g=n(47223),y=n(97145),S=n(16950),O=n(88096),Z=n(87800),w=["ref"];function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(){var e,t,n,o,a,P,C=(0,v.t)(),B=C.formState,T=C.step4SetState,k=C.isSavingBeforeExiting,j=(0,h.G)().submitStep,D=(0,b.M)(),I=(0,s.cI)({defaultValues:(t=null==(e=null===(o=B.steps)||void 0===o?void 0:o.stepVehicleRegistration)?void 0:e.registrationExpiry,x(x({},e),{},{registrationExpiry:(0,f.LZ)(t)})),resolver:k?void 0:(0,d.F)(y.tU),mode:"onSubmit",reValidateMode:"onBlur"}),E=I.control,A=I.register,F=I.handleSubmit,R=I.formState.errors,X=(n=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j();case 4:T(x(x({},t),{},{completed:!k,started:!0}));case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),N=(0,f.nT)(R);return(0,Z.tZ)(g.Y,{formIntroduction:"Add your vehicle registration details.",formTitle:D?O.g2.stepVehicleRegistration.labelWhenChanging:O.g2.stepVehicleRegistration.label,children:(0,Z.tZ)(S.l,{onSubmit:F(X),children:(0,Z.BX)(c.FormStack,{children:[N&&(0,Z.tZ)(m.v,{errors:R}),(0,Z.tZ)(p.TextInput,x(x({},A("registrationNumber")),{},{autoComplete:"on",hint:"Enter a plate number, maximum 6 characters. For example ABC123.",id:"registrationNumber",invalid:!!(null===(a=R.registrationNumber)||void 0===a?void 0:a.message),label:"Vehicle registration number",message:null===(P=R.registrationNumber)||void 0===P?void 0:P.message,required:!0})),(0,Z.tZ)(s.Qr,{control:E,name:"registrationExpiry",render:function(e){var t,n,i=e.field,o=i.ref,a=(0,r.Z)(i,w);return(0,Z.tZ)(u.DatePicker,x(x({},a),{},{id:"registrationExpiry",inputRef:o,invalid:!!(null===(t=R.registrationExpiry)||void 0===t?void 0:t.message),label:"Registration expiry date",message:null===(n=R.registrationExpiry)||void 0===n?void 0:n.message,required:!0}))}})]})})})}},78111:function(e,t,n){n.d(t,{r:function(){return k}});var r=n(90089),i=n(55732),o=n(90849),a=n(57135),l=n.n(a),s=n(27378),d=n(88039),u=n(32324),c=n(71077),p=n(23434),m=n(68761),f=n(81128),v=n(87640),b=n(161),h=n(72604),g=n(47223),y=n(66847),S=n(97145),O=n(16950),Z=n(88096),w=n(87800),P=["ref","value","onChange"],x=["ref"],C=["ref"];function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(){var e,t,n,o,a,B,k,j,D,I,E,A,F,R=(0,b.t)(),X=R.formState,N=R.step5SetState,L=R.isSavingBeforeExiting,W=(0,y.G)().submitStep,M=(0,s.useRef)(null),z=(0,s.useRef)(null),q=(0,h.M)(),V=(0,d.cI)({defaultValues:(o=null==(e=null===(k=X.steps)||void 0===k?void 0:k.stepTradingTime)||null===(t=e.tradingPeriod)||void 0===t?void 0:t.from,a=null==e||null===(n=e.tradingPeriod)||void 0===n?void 0:n.to,T(T({},e),{},{tradingPeriod:{from:o,to:a}})),resolver:L?void 0:(0,u.F)(S.h9),mode:"onSubmit",reValidateMode:"onBlur"}),H=V.control,_=V.handleSubmit,Y=V.formState.errors,G=(B=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!L){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,W();case 4:N(T(T({},t),{},{completed:!L,started:!0}));case 5:case"end":return e.stop()}},e)})),function(e){return B.apply(this,arguments)}),U=(0,s.useMemo)(function(){var e,t,n,r,i,o,a,l,s,d,u,c;return{tradingPeriod:{both:!!(null===(e=Y.tradingPeriod)||void 0===e||null===(e=e.from)||void 0===e?void 0:e.message)&&!!(null===(t=Y.tradingPeriod)||void 0===t||null===(t=t.to)||void 0===t?void 0:t.message),from:!!(null===(n=Y.tradingPeriod)||void 0===n||null===(n=n.from)||void 0===n?void 0:n.message)&&!(null!==(r=Y.tradingPeriod)&&void 0!==r&&null!==(r=r.to)&&void 0!==r&&r.message),to:!(null!==(i=Y.tradingPeriod)&&void 0!==i&&null!==(i=i.from)&&void 0!==i&&i.message)&&!!(null===(o=Y.tradingPeriod)||void 0===o||null===(o=o.to)||void 0===o?void 0:o.message)},hours:{both:!!(null===(a=Y.openingTime)||void 0===a?void 0:a.message)&&!!(null===(l=Y.closingTime)||void 0===l?void 0:l.message),from:!!(null===(s=Y.openingTime)||void 0===s?void 0:s.message)&&!(null!==(d=Y.closingTime)&&void 0!==d&&d.message),to:!(null!==(u=Y.openingTime)&&void 0!==u&&u.message)&&!!(null===(c=Y.closingTime)||void 0===c?void 0:c.message)}}},[Y,Y]),K=[U.tradingPeriod.both,U.tradingPeriod.from,U.tradingPeriod.to,U.hours.both,U.hours.from,U.hours.to].filter(Boolean),J=K.length>1;return(0,s.useEffect)(function(){var e,t,n;U.tradingPeriod.both&&1===K.length?null==M||null===(e=M.current)||void 0===e||e.focus():U.tradingPeriod.from&&1===K.length?null==M||null===(t=M.current)||void 0===t||t.focus():U.tradingPeriod.to&&1===K.length&&(null==z||null===(n=z.current)||void 0===n||n.focus())},[U,K]),(0,w.tZ)(g.Y,{formIntroduction:"What times would you like to operate?",formTitle:q?Z.g2.stepTradingTime.labelWhenChanging:Z.g2.stepTradingTime.label,children:(0,w.tZ)(O.l,{onSubmit:_(G),children:(0,w.BX)(p.FormStack,{children:[J&&(0,w.tZ)(v.v,{errors:{"date-range-picker-tradingPeriod-from":{message:U.tradingPeriod.both?"Start date and End date are required":null===(j=Y.tradingPeriod)||void 0===j||null===(j=j.from)||void 0===j?void 0:j.message},"date-range-picker-tradingPeriod-to":{message:U.tradingPeriod.both?void 0:null===(D=Y.tradingPeriod)||void 0===D||null===(D=D.to)||void 0===D?void 0:D.message},openingTime:{message:U.hours.both?"Opening time and Closing time are required":null===(I=Y.openingTime)||void 0===I?void 0:I.message},closingTime:{message:U.hours.to?null===(E=Y.closingTime)||void 0===E?void 0:E.message:void 0}}}),(0,w.tZ)(d.Qr,{control:H,name:"tradingPeriod",render:function(e){var t,n,i=e.field,o=(i.ref,i.value),a=i.onChange,l=(0,r.Z)(i,P);return(0,w.tZ)(c.DateRangePicker,T(T({},l),{},{fromInputRef:M,fromInvalid:U.tradingPeriod.both||U.tradingPeriod.from,id:"tradingPeriod",legend:"Trading period",message:U.tradingPeriod.both?"Start date and End date is required":(null===(t=Y.tradingPeriod)||void 0===t||null===(t=t.from)||void 0===t?void 0:t.message)||(null===(n=Y.tradingPeriod)||void 0===n||null===(n=n.to)||void 0===n?void 0:n.message),onChange:a,onFromInputChange:function(e){return a(T(T({},o),{},{from:e}))},onToInputChange:function(e){return a(T(T({},o),{},{to:e}))},required:!0,toInputRef:z,toInvalid:U.tradingPeriod.both||U.tradingPeriod.to,value:o}))}}),(0,w.tZ)(m.GroupedFields,{field1Invalid:U.hours.both||U.hours.from,field2Invalid:U.hours.both||U.hours.to,hideOptionalLabel:!0,hint:"Provide the time you will open and close. For example, 3:00 pm - enter 12 am for midnight",legend:"Hours of operation",message:U.hours.both?"Opening time and Closing time is required":(null===(A=Y.openingTime)||void 0===A?void 0:A.message)||(null===(F=Y.closingTime)||void 0===F?void 0:F.message),children:function(e){var t=e.field1Props,n=e.field2Props;return(0,w.BX)(w.HY,{children:[(0,w.tZ)(d.Qr,{control:H,name:"openingTime",render:function(e){var n=e.field,i=n.ref,o=(0,r.Z)(n,x);return(0,w.tZ)(f.TimeInput,T(T(T({},o),t),{},{autoComplete:"on",id:"openingTime",label:"Opening time",ref:i,required:!0}))}}),(0,w.tZ)(d.Qr,{control:H,name:"closingTime",render:function(e){var t=e.field,i=t.ref,o=(0,r.Z)(t,C);return(0,w.tZ)(f.TimeInput,T(T(T({},o),n),{},{autoComplete:"on",id:"closingTime",label:"Closing time",ref:i,required:!0}))}})]})}})]})})})}},82055:function(e,t,n){n.d(t,{D:function(){return Z}});var r=n(90089),i=n(90849),o=n(55732),a=n(57135),l=n.n(a),s=n(88039),d=n(32324),u=n(19251),c=n(161),p=n(72604),m=n(47223),f=n(66847),v=n(97145),b=n(16950),h=n(88096),g=n(87800),y=["ref"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Z(){var e,t,n=(0,c.t)(),i=n.formState,a=n.step6SetState,S=n.isSavingBeforeExiting,Z=(0,f.G)().submitStep,P=(0,p.M)(),x=(0,s.cI)({defaultValues:null===(t=i.steps)||void 0===t?void 0:t.stepFoodServed,resolver:S?void 0:(0,d.F)(v.h_),mode:"onSubmit",reValidateMode:"onBlur"}),C=x.control,B=x.handleSubmit,T=x.formState.errors,k=(e=(0,o.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z();case 4:a(O(O({},t),{},{completed:!S,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,g.tZ)(m.Y,{formIntroduction:"What type of food will you be serving?",formTitle:P?h.g2.stepFoodServed.labelWhenChanging:h.g2.stepFoodServed.label,children:(0,g.tZ)(b.l,{onSubmit:B(k),children:(0,g.tZ)(s.Qr,{control:C,name:"foodServed",render:function(e){var t,n,i=e.field,o=i.ref,a=(0,r.Z)(i,y);return(0,g.tZ)(u.ComboboxMulti,O(O({},a),{},{block:!1,hint:"Start typing to see results. You can add multiple selections.",id:"foodServed",inputRef:o,invalid:!!(null===(t=T.foodServed)||void 0===t?void 0:t.message),label:"Select food types",maxWidth:"xl",message:null===(n=T.foodServed)||void 0===n?void 0:n.message,options:w,required:!0}))}})})})}var w=[{value:"asian noodle bowls",label:"Asian Noodle Bowls"},{value:"banh mi sandwiches",label:"Banh Mi Sandwiches"},{value:"bbq ribs",label:"BBQ Ribs"},{value:"burgers",label:"Burgers"},{value:"cake",label:"Cake"},{value:"coffee",label:"Coffee"},{value:"cookies",label:"Cookies"},{value:"falafel pitas",label:"Falafel Pitas"},{value:"fish and chips",label:"Fish and Chips"},{value:"fried chicken",label:"Fried Chicken"},{value:"fries",label:"Fries"},{value:"grilled cheese sandwiches",label:"Grilled Cheese Sandwiches"},{value:"ice cream",label:"Ice Cream"},{value:"mexican",label:"Mexican"},{value:"pasta",label:"Pasta"},{value:"pulled pork",label:"Pulled Pork"},{value:"soft drinks",label:"Soft Drinks"},{value:"veggie wraps",label:"Veggie Wraps"}]},53289:function(e,t,n){n.d(t,{k:function(){return I}});var r=n(10043),i=n(55732),o=n(90849),a=n(11246),l=n(57135),s=n.n(l),d=n(27378),u=n(86677),c=n(87466),p=n(37164),m=n(13497),f=n(61066),v=n(8632),b=n(52644),h=n(58607),g=n(27140),y=n(79628),S=n(5443),O=n(75601),Z=n(161),w=n(87594),P=n(72604),x=n(47223),C=n(66847),B=n(16950),T=n(88096),k=n(87800);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function I(){var e,t=(0,Z.t)(),n=t.step7GetState,o=t.step7SetState,l=t.step8GetState,j=t.step8SetState,I=t.isSavingBeforeExiting,E=(0,C.G)().submitStep,A=(0,u.useRouter)().query,F=n(),R=(0,d.useState)(),X=R[0],N=R[1],L=(0,d.useState)(""),W=L[0],M=L[1],z=(0,d.useState)(!1),q=z[0],V=z[1],H=(0,d.useState)(!1),_=H[0],Y=H[1],G=(0,d.useState)(!1),U=G[0],K=G[1],J=(0,d.useRef)(null),Q=(0,d.useRef)(null),$=A.success?(null==F?void 0:F.employee)&&F.employee.find(function(e){return(null==e?void 0:e.id)===A.success}):void 0,ee=(0,d.useState)(!!$),et=ee[0],en=ee[1],er=(0,P.M)(),ei=(0,O.useTernaryState)(!1),eo=(0,a.Z)(ei,3),ea=eo[0],el=eo[1],es=eo[2],ed=function(){en(!1),N(void 0)};(0,d.useEffect)(function(){V(!!X),Y(!1)},[X]);var eu=(e=(0,i.Z)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!I){e.next=3;break}return e.abrupt("return");case 3:if(!(null!=F&&F.employee&&(null==F?void 0:F.employee.length)===0)){e.next=7;break}return Y(!1),K(!0),e.abrupt("return");case 7:return e.next=9,E();case 9:o(D(D({},F),{},{completed:!I,started:!0}));case 10:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,d.useEffect)(function(){en(!!$),$&&setTimeout(function(){var e;null===(e=J.current)||void 0===e||e.focus()},500)},[$]),(0,d.useEffect)(function(){W&&setTimeout(function(){var e;null===(e=Q.current)||void 0===e||e.focus()},500)},[W]),(0,k.BX)(x.Y,{formIntroduction:"Add your employee details.",formTitle:er?T.g2.stepEmployees.labelWhenChanging:T.g2.stepEmployees.label,hideRequiredFieldsMessage:!0,shouldFocusTitle:!et,children:[(0,k.BX)(h.Stack,{gap:2,children:[U&&(0,k.tZ)(b.PageAlert,{focusOnMount:!0,title:"No employees added",tone:"error",children:(0,k.tZ)(y.Text,{as:"p",children:"You need to add some staff."})}),(0,k.tZ)(m.H2,{id:"list-of-employees",children:"List of employees"}),(0,k.tZ)(c.Box,{css:(0,r.iv)({display:et?"block":"none"},"",""),focusRingFor:"all",ref:J,tabIndex:-1,children:(0,k.tZ)(S.SectionAlert,{onClose:function(){return en(!1)},title:"".concat(null==$?void 0:$.firstName," ").concat(null==$?void 0:$.lastName," has been added as an\n							employee"),tone:"success"})}),(0,k.tZ)(c.Box,{css:(0,r.iv)({display:_?"block":"none"},"",""),focusRingFor:"all",ref:Q,tabIndex:-1,children:(0,k.tZ)(S.SectionAlert,{onClose:function(){return Y(!1)},title:"".concat(W," has been removed as an\n							employee"),tone:"success"})}),null!=F&&F.employee&&F.employee.length>0?(0,k.tZ)(g.TableWrapper,{children:(0,k.BX)(g.Table,{"aria-labelledby":"list-of-employees",children:[(0,k.tZ)(g.TableHead,{children:(0,k.BX)(g.TableRow,{children:[(0,k.tZ)(g.TableHeader,{children:"Employee name"}),(0,k.tZ)(g.TableHeader,{children:"Email address"}),(0,k.tZ)(g.TableHeader,{children:"Action"})]})}),(0,k.tZ)(g.TableBody,{children:F.employee.map(function(e){return(null==e?void 0:e.id)&&(0,k.BX)(g.TableRow,{children:[(0,k.BX)(g.TableCell,{id:e.id,children:[e.firstName," ",e.lastName]}),(0,k.tZ)(g.TableCell,{children:e.email}),(0,k.tZ)(g.TableCell,{children:(0,k.tZ)(p.Button,{"aria-describedby":e.id,onClick:function(){N(e)},variant:"text",children:"Remove"})})]},e.id)})})]})}):(0,k.BX)(h.Stack,{gap:1,children:[(0,k.tZ)(f.AvatarIcon,{color:"muted",size:"lg"}),(0,k.tZ)(m.H3,{children:"No employees added"}),(0,k.tZ)(y.Text,{as:"p",children:"You must add an employee to proceed."})]}),er?(0,k.tZ)(p.Button,{alignSelf:"start",iconBefore:f.PlusIcon,onClick:el,size:"sm",variant:"secondary",children:"Add employee"}):(0,k.tZ)(p.ButtonLink,{alignSelf:"start",href:"items"in T.g2.stepEmployees?T.g2.stepEmployees.items[0].href:void 0,iconBefore:f.PlusIcon,size:"sm",variant:"secondary",children:"Add employee"})]}),(0,k.tZ)(B.l,{onSubmit:eu}),(0,k.tZ)(v.Modal,{actions:(0,k.BX)(p.ButtonGroup,{children:[(0,k.tZ)(p.Button,{onClick:function(){o(D(D({},F),{},{completed:!1,employee:(null==F?void 0:F.employee)&&F.employee.filter(function(e){return(null==e?void 0:e.id)!==(null==X?void 0:X.id)})})),M("".concat(null==X?void 0:X.firstName," ").concat(null==X?void 0:X.lastName)),ed(),setTimeout(function(){var e;Y(!0),(null===(e=l())||void 0===e?void 0:e.supervisor)==="".concat(null==X?void 0:X.firstName," ").concat(null==X?void 0:X.lastName)&&j({})},0)},children:"Remove employee"}),(0,k.tZ)(p.Button,{onClick:ed,variant:"secondary",children:"Cancel"})]}),isOpen:q,onClose:ed,title:"Are you sure you want to remove ".concat(null==X?void 0:X.firstName," ").concat(null==X?void 0:X.lastName," as an employee?")}),(0,k.tZ)(w.C,{isOpen:ea,onClose:es,onConfirm:es})]})}},15249:function(e,t,n){n.d(t,{R:function(){return w}});var r=n(90849),i=n(55732),o=n(44285),a=n(57135),l=n.n(a),s=n(88039),d=n(32324),u=n(13690),c=n(39173),p=n(161),m=n(72604),f=n(47223),v=n(66847),b=n(97145),h=n(16950),g=n(88096),y=n(10043),S=n(87800);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(){var e,t,n,r,a,O,w=(0,m.M)(),P=(0,p.t)(),x=P.formState,C=P.step1GetState,B=P.step7GetState,T=P.step8SetState,k=P.isSavingBeforeExiting,j=(0,v.G)().submitStep,D=["".concat(null===(t=C())||void 0===t?void 0:t.firstName," ").concat(null===(n=C())||void 0===n?void 0:n.lastName," (Business owner)")].concat((0,o.Z)((null===(r=B())||void 0===r||null===(r=r.employee)||void 0===r?void 0:r.map(function(e){return"".concat(null==e?void 0:e.firstName," ").concat(null==e?void 0:e.lastName)}))||[])),I=(0,s.cI)({defaultValues:null===(a=x.steps)||void 0===a?void 0:a.stepFoodSafetySupervisor,resolver:k?void 0:(0,d.F)(b.id),mode:"onSubmit",reValidateMode:"onBlur"}),E=I.register,A=I.handleSubmit,F=I.formState.errors,R=(e=(0,i.Z)(l().mark(function e(t){return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!k){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,j();case 4:T(Z(Z({},t),{},{completed:!k,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,S.tZ)(f.Y,{formIntroduction:"Add your employee food safety supervisor.",formTitle:w?g.g2.stepFoodSafetySupervisor.labelWhenChanging:g.g2.stepFoodSafetySupervisor.label,children:(0,S.tZ)(h.l,{onSubmit:A(R),children:(0,S.tZ)(u.ControlGroup,{block:!0,invalid:!!F.supervisor,label:"Who is the appointed food safety supervisor for this business?",message:null===(O=F.supervisor)||void 0===O?void 0:O.message,required:!0,children:D.map(function(e){return(0,y.az)(c.Radio,Z(Z({},E("supervisor")),{},{key:e,value:e}),e)})})})})}},62853:function(e,t,n){n.d(t,{L:function(){return M},W:function(){return W}});var r=n(55732),i=n(44285),o=n(11246),a=n(90849),l=n(57135),s=n.n(l),d=n(27378),u=n(58607),c=n(58229),p=n(8464),m=n(24377),f=n(69460),v=n(94609),b=n(5443),h=n(98216),g=n(79628),y=n(87466),S=n(13497),O=n(17937),Z=n(37874),w=n(161),P=n(27140),x=n(37164),C=n(61066),B=n(72742),T=n(87800),k=(0,d.forwardRef)(function(e,t){var n=e.ariaLabelledby,r=e.documents,i=e.openDrawer,o=e.removeFile,a=e.tableId;return(0,T.tZ)(u.Stack,{gap:.5,children:(0,T.tZ)(P.TableWrapper,{children:(0,T.BX)(P.Table,{"aria-labelledby":n,id:a,ref:t,tabIndex:-1,tableLayout:"fixed",children:[(0,T.tZ)(P.TableHead,{children:(0,T.tZ)(P.TableRow,{"aria-rowindex":1,children:j.map(function(e){var t=e.label,n=e.width;return(0,T.tZ)(P.TableHeader,{scope:"col",width:n,children:t},t)})})}),(0,T.tZ)(P.TableBody,{children:r.map(function(e,t){var n=e.id,r=e.documentType,a=e.error,l=e.file,s=e.size;return(0,T.BX)(P.TableRow,{"aria-rowindex":t+2,invalid:a,children:[(0,T.tZ)(P.TableCell,{as:"th",id:"document-type-".concat(n),scope:"row",children:r}),(0,T.tZ)(P.TableCell,{children:(0,T.tZ)(g.Text,{breakWords:!0,children:l})}),(0,T.tZ)(P.TableCell,{children:a?(0,T.tZ)(B.StatusBadge,{appearance:"subtle",label:"File missing",tone:"errorHigh"}):s}),(0,T.tZ)(P.TableCell,{children:s?(0,T.tZ)(x.Button,{"aria-describedby":"document-type-".concat(n),focusRingFor:"all",iconBefore:C.DeleteIcon,onClick:function(){return o(e)},variant:"text",children:"Remove"}):(0,T.tZ)(x.Button,{"aria-describedby":"document-type-".concat(n),focusRingFor:"all",iconBefore:C.UploadIcon,id:n,onClick:function(){return i({id:n,documentType:r,error:a,file:l,size:s})},variant:"text",children:"Upload"})})]},r)})})]})})})}),j=[{label:"Document type",width:"16rem"},{label:"File",width:{xs:"10rem",xl:"16rem"}},{label:"Size",width:"10rem"},{label:"Action",width:"8rem"}],D=n(72604),I=n(66847),E=n(47223),A=n(16950),F=n(88096);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N="upload-documents-heading",L=[{documentType:"RMS Vehicle registration",file:"",size:"",id:"rms-vehicle-registration",error:!1},{documentType:"Food Safety Supervisor Certificate for Charlie Walker",file:"",size:"",id:"food-safety-certificate",error:!1},{documentType:"Suggested menu or list of foods being sold",file:"",size:"",id:"suggested-menu-or-list-of-foods-being-sold",error:!1}],W={"rms-vehicle-registration":"RMS Vehicle registration","food-safety-certificate":"Food Safety Supervisor Certificate for Charlie Walker","suggested-menu-or-list-of-foods-being-sold":"Suggested menu or list of foods being sold"};function M(){var e,t,n,a=(0,w.t)(),l=a.step9GetState,P=a.step9SetState,x=a.isSavingBeforeExiting,C=(0,I.G)().submitStep,B=(0,D.M)(),j=(0,d.useRef)(null),R=(0,d.useRef)(null),W=(l()||{}).files,M=void 0===W?{}:W,z=(0,d.useState)(L.map(function(e){var t,n;return X(X({},e),{},{file:(null==M||null===(t=M[e.id])||void 0===t?void 0:t.file)||"",size:(null==M||null===(n=M[e.id])||void 0===n?void 0:n.size)||""})})),q=z[0],V=z[1],H=(0,d.useState)(),_=H[0],Y=H[1],G=(0,d.useState)([]),U=G[0],K=G[1],J=(0,p.useTernaryState)(!1),Q=(0,o.Z)(J,3),$=Q[0],ee=Q[1],et=Q[2],en=(0,d.useState)([]),er=en[0],ei=en[1],eo=(0,d.useState)(!1),ea=eo[0],el=eo[1],es=(0,d.useRef)(null),ed=function(){ei([]),et(),el(!1)};(0,d.useEffect)(function(){(er.length||_)&&setTimeout(function(){var e;null===(e=R.current)||void 0===e||e.focus()},500)},[er,_]);var eu=function(){var e=q.map(function(e){return e.file?e:X(X({},e),{},{error:!0})}),t=e.reduce(function(e,t){return t.file?e:[].concat((0,i.Z)(e),[{documentType:t.documentType,href:"#".concat(t.id),message:"".concat(t.documentType," is required"),name:"files"}])},[]);return Y(void 0),V(e),K(t),{hasErrors:e.some(function(e){return e.error})}},ec=(e=(0,r.Z)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.preventDefault(),!x){e.next=3;break}return e.abrupt("return");case 3:if(!eu().hasErrors){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,C();case 8:P({files:Object.fromEntries(q.map(function(e){var t=e.file;return[e.id,{file:t,size:e.size}]})),completed:!x});case 9:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),ep=_&&!$;return(0,T.BX)(E.Y,{formIntroduction:"Upload all documents listed in the table below.",formTitle:B?F.g2.stepUploadDocuments.labelWhenChanging:F.g2.stepUploadDocuments.label,hideRequiredFieldsMessage:!0,children:[(0,T.BX)(u.Stack,{gap:2,children:[(0,T.BX)(u.Stack,{gap:1,children:[(0,T.tZ)(y.Box,{css:U.length?void 0:{display:"none"},children:(0,T.tZ)(b.SectionAlert,{focusOnUpdate:U,onClose:function(){return K([])},ref:j,tabIndex:-1,title:"You must provide all documents in the table below",tone:"error",children:(0,T.tZ)(u.Stack,{alignItems:"flex-start",gap:.5,children:(0,T.tZ)(f.UnorderedList,{children:U.map(function(e){var t=e.href,n=e.message;return(0,T.tZ)(f.ListItem,{children:(0,T.tZ)(v.TextLink,{href:t,children:n})},t)})})})})}),(0,T.tZ)(y.Box,{css:ep?void 0:{display:"none"},children:(0,T.tZ)(b.SectionAlert,{onClose:function(){return Y(void 0)},ref:R,tabIndex:-1,title:"".concat(null==_?void 0:_.documentType," updated"),tone:"success",children:(0,T.BX)(g.Text,{as:"p",breakWords:!0,children:[(null===(t=q.find(function(e){return e.id===(null==_?void 0:_.id)}))||void 0===t?void 0:t.file)||"Your file"," ","has been"," ",null!==(n=q.find(function(e){return e.id===(null==_?void 0:_.id)}))&&void 0!==n&&n.file?"added":"removed","."]})})}),(0,T.tZ)(S.H2,{css:O.visuallyHiddenStyles,id:N,children:"Upload documents"}),(0,T.tZ)(k,{ariaLabelledby:N,documents:q,openDrawer:function(e){K([]),ee(),Y(e)},removeFile:function(e){K([]),V(function(t){return t.map(function(t){return(null==e?void 0:e.documentType)===t.documentType?X(X({},t),{},{file:"",size:""}):t})}),Y(e)},tableId:"upload-file-table"})]}),(0,T.tZ)(m.Drawer,{actions:(0,T.BX)(c.ButtonGroup,{children:[(0,T.tZ)(c.Button,{form:"upload-document-form",onClick:function(){if(!er.length){var e;el(!0),null===(e=es.current)||void 0===e||e.focus();return}V(q.map(function(e){var t;return(null==_?void 0:_.documentType)===e.documentType?X(X({},e),{},{file:(null===(t=er[0])||void 0===t?void 0:t.name)||"",size:er[0]?"".concat((0,Z.G)(er[0].size)):"",error:!1}):e})),ed()},children:"Upload file"}),(0,T.tZ)(c.Button,{onClick:function(){Y(void 0),ed()},variant:"secondary",children:"Cancel"})]}),elementToFocusOnClose:U.length?j.current:ep?R.current:void 0,isOpen:$,onClose:function(){Y(void 0),ed()},title:"Upload documents",children:(0,T.tZ)(u.Stack,{as:"form",id:"upload-document-form",children:(0,T.tZ)(h.FileUpload,{accept:["image/jpeg","image/png"],buttonRef:es,hideOptionalLabel:!0,invalid:ea,label:"Upload ".concat(null==_?void 0:_.documentType),maxSize:2e3,message:"File is required.",onChange:function(e){ei(e),e.length&&el(!1)},required:!0,value:er})})})]}),(0,T.tZ)(A.l,{onSubmit:ec})]})}},88096:function(e,t,n){n.d(t,{CR:function(){return S},g2:function(){return g},t8:function(){return h}});var r=n(90849),i=n(21855),o=n(39102),a=n(87705),l=n(65874),s=n(60829),d=n(25351),u=n(78111),c=n(82055),p=n(53289),m=n(15249),f=n(62853);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=[{formStateKey:"stepOwnerDetails",label:"Owner details",labelWhenChanging:"Change owner details",href:i.Pl+"/steps/owner-details",items:[{label:"Change business owner details",href:i.Pl+"/steps/owner-details/change-details"}]},{formStateKey:"stepBusinessDetails",label:"Business details",labelWhenChanging:"Change business details",href:i.Pl+"/steps/business-details"},{formStateKey:"stepBusinessAddress",label:"Business address",labelWhenChanging:"Change business address",href:i.Pl+"/steps/business-address"},{formStateKey:"stepVehicleRegistration",label:"Vehicle registration",labelWhenChanging:"Change vehicle registration",href:i.Pl+"/steps/vehicle-registration"},{formStateKey:"stepTradingTime",label:"Trading time",labelWhenChanging:"Change trading time",href:i.Pl+"/steps/trading-time"},{formStateKey:"stepFoodServed",label:"Food served",labelWhenChanging:"Change food served",href:i.Pl+"/steps/food-served"},{formStateKey:"stepEmployees",label:"Employees",labelWhenChanging:"Change employees",href:i.Pl+"/steps/employees",items:[{label:"Add employee",href:i.Pl+"/steps/employees/add-employee"}]},{formStateKey:"stepFoodSafetySupervisor",label:"Food safety supervisor",labelWhenChanging:"Change food safety supervisor",href:i.Pl+"/steps/food-safety-supervisor"},{formStateKey:"stepUploadDocuments",label:"Upload documents",labelWhenChanging:"Change documents",href:i.Pl+"/steps/documents"},{formStateKey:"stepReviewAndSubmit",label:"Review and submit",labelWhenChanging:"Change review and submit",href:i.Pl+"/steps/review-and-submit"}],g=h.reduce(function(e,t){return b(b({},e),{},(0,r.Z)({},t.formStateKey,t))},{}),y={stepOwnerDetails:o.l,stepBusinessDetails:l.A,stepBusinessAddress:s.r,stepVehicleRegistration:d.B,stepTradingTime:u.r,stepFoodServed:c.D,stepEmployees:p.k,stepFoodSafetySupervisor:m.R,stepUploadDocuments:f.L,stepReviewAndSubmit:a.C},S=h.reduce(function(e,t){var n="change-"+t.href.slice(t.href.lastIndexOf("/")+1);return b(b({},e),{},(0,r.Z)({},n,y[t.formStateKey]))},{})},21855:function(e,t,n){n.d(t,{Hv:function(){return d},LZ:function(){return a},Pl:function(){return s},nT:function(){return l},uY:function(){return u}});var r=n(68301),i=n(93437),o=n(70048);function a(e){if("string"==typeof e){var t=(0,i.Z)(e);return(0,o.Z)(t)?t:void 0}return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).length>1}r.hT().transform(function(e,t){return"string"==typeof t?t:e}).typeError("Enter a valid date"),r.Z_().transform(function(e){return e.replace(/\s/g,"")}).matches(/^\d+$/,{excludeEmptyString:!0,message:"Phone number must not include letters or symbols"}).matches(/^0\d+$/,{excludeEmptyString:!0,message:"Mobile numbers must begin with '04', landline numbers must begin with an area code"}).length(10,"Phone number must be 10 digits");var s="/app/permits/apply-for-new-permit/mobile-food-vendor-permit",d="/app/permits";function u(e){var t,n=e.currentStepIndex,r=e.id,i=e.isEditingFromReviewStep,o=e.steps;return(null===(t=i?o.at(-1):o[n+1])||void 0===t?void 0:t.href)||"/app/permits/apply-for-new-permit/mobile-food-vendor-permit/success?id=".concat(r)}},72604:function(e,t,n){n.d(t,{M:function(){return o}});var r=n(86677),i=n(88096),o=function(){var e=(0,r.useRouter)().asPath;return RegExp(i.g2.stepReviewAndSubmit.href+"\\/change-.+").test(e)}}}]);