"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6621],{20547:function(e,t,n){n.d(t,{Y:function(){return s}});var r=n(27378),i=n(96778),o=n(27393),l=n(161),a=n(87800);function s(e){var t=e.callToAction,n=e.children,s=e.hideRequiredFieldsMessage,d=e.introduction,u=e.shouldFocusTitle,c=void 0===u||u,p=e.title,m=(0,l.t)().formTitle,f=(0,r.useRef)(null);return(0,r.useEffect)(function(){if(c){var e;null===(e=f.current)||void 0===e||e.focus()}},[c]),(0,a.BX)(i.K,{gap:3,width:"100%",children:[(0,a.tZ)(o.D,{callToAction:t,formTitle:m,hideRequiredFieldsMessage:s,introduction:d,stepTitle:p,titleRef:f}),n]})}},87640:function(e,t,n){n.d(t,{v:function(){return u}});var r=n(11246),i=n(13306),o=n(18613),l=n(88104),a=n(92288),s=n(77797),d=n(87800);function u(e){var t=e.errors,n=(0,i.OE)(),u=Object.entries(t).map(function(e){var t,n,i=(0,r.Z)(e,2),o=i[0],l=i[1];return"message"in l?{key:o,message:l.message}:"from"in l?{key:o,message:null===(t=l.from)||void 0===t?void 0:t.message}:"to"in l?{key:o,message:null===(n=l.to)||void 0===n?void 0:n.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)});return(0,d.BX)(l.F,{focusOnMount:!0,title:"There is a problem",tone:"error",children:[(0,d.tZ)(a.x,{as:"p",children:"Please correct the following fields and try again"}),(0,d.tZ)(o.QI,{children:u.map(function(e){var t=e.key,r=e.message;return(0,d.tZ)(o.HC,{children:(0,d.tZ)(s.h,{href:"#".concat(t),onClick:n,children:r})},t)})})]})}},161:function(e,t,n){n.d(t,{i:function(){return b},t:function(){return g}});var r=n(90849),i=n(90089),o=n(86677),l=n(27378),a=n(61950),s=n(72604),d={steps:n(97145).P$},u=n(21855),c=n(88096),p=n(87800),m=["hasSynced","formState","setFormState"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=(0,l.createContext)(void 0);function b(e){var t=e.children,n=(0,o.useRouter)(),r=(0,s.M)(),f=(0,a.NU)("FormMobileFoodVendorPermit",d),b=f.hasSynced,g=f.formState,y=f.setFormState,O=(0,i.Z)(f,m),Z="Apply for a ".concat(g.type," permit"),S=(0,l.useCallback)(function(){y(function(e){return v(v({},e),{},{id:(null==e?void 0:e.id)||Math.round(1e9*Math.random()).toString(),started:!0,steps:v({},e.steps)})})},[y]),w=(0,l.useState)(!1),P=w[0],x=w[1],j=(0,l.useCallback)(function(){var e;n.push(null!=r&&r.match&&(null===(e=c.t.at(-1))||void 0===e?void 0:e.href)||u.Hv)},[r,n]),B=(0,l.useState)(!1),C=B[0],T=B[1],D=(0,l.useCallback)(function(){T(!0),setTimeout(function(){T(!1),n.push(u.Hv)},1500)},[n]);if(!b)return null;var E=v(v({formTitle:Z,managePermitsPage:u.Hv,startApplication:S,formState:g,setFormState:y},O),{},{isSubmittingStep:P,setIsSubmittingStep:x,cancel:j,saveAndExit:D,isSavingBeforeExiting:C});return(0,p.tZ)(h.Provider,{value:E,children:t})}function g(){var e=(0,l.useContext)(h);if(!e)throw Error("Context provider not found");return e}},15912:function(e,t,n){n.d(t,{RV:function(){return x.R},Sf:function(){return P},iP:function(){return r.i},w2:function(){return eh},Zl:function(){return ei},Ry:function(){return tz},ON:function(){return tI},TL:function(){return tD},PE:function(){return et},rs:function(){return F},dy:function(){return t$},SD:function(){return eQ},lA:function(){return tV.l},kM:function(){return ek},t8:function(){return g.t},t7:function(){return r.t}});var r=n(161),i=n(90849),o=n(86677),l=n(88039),a=n(84200),s=n(32324),d=n(48050),u=n(58229),c=n(99682),p=n(72320),m=n(42421),f=n(52949),v=n(96778),h=n(77797),b=n(23372),g=n(88096),y=n(10043),O=n(87800);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=a.z.object({businessType:(0,b.Jg)("Business type is required")});function P(){var e,t,n=(0,o.useRouter)(),i=(0,l.cI)({resolver:(0,s.F)(w),mode:"onSubmit",reValidateMode:"onBlur"}),a=i.register,b=i.handleSubmit,Z=i.formState.errors,P=(0,r.t)(),x=P.formState,j=P.setFormState;return(0,O.BX)(v.K,{as:"form",gap:3,onSubmit:b(function(e){j(S(S({},x),{},{lastUpdated:Date.now(),type:e.businessType})),n.push({pathname:g.t[0].href})}),children:[(0,O.tZ)(c.e,{block:!0,invalid:!!(null===(e=Z.businessType)||void 0===e?void 0:e.message),label:"What type of business do you operate?",message:null===(t=Z.businessType)||void 0===t?void 0:t.message,required:!0,children:["Food truck","Market stall","Coffee van"].map(function(e){var t;return(0,y.az)(f.Y,S(S({},a("businessType")),{},{invalid:!!(null===(t=Z.businessType)||void 0===t?void 0:t.message),key:e,value:e}),e)})}),(0,O.tZ)(p.i,{}),(0,O.BX)(m.Mr,{children:[(0,O.tZ)("h2",{id:"what-you-will-need",children:"What you will need"}),(0,O.tZ)("p",{children:"To complete this application you will need to provide:"}),(0,O.BX)("ul",{children:[(0,O.tZ)("li",{children:"business owner details"}),(0,O.tZ)("li",{children:"business type"}),(0,O.tZ)("li",{children:"business address"}),(0,O.tZ)("li",{children:"vehicle registration details and vehicle plans"}),(0,O.tZ)("li",{children:"trading times"}),(0,O.tZ)("li",{children:"food served"}),(0,O.tZ)("li",{children:"details of any employees who will be handling food"})]}),(0,O.tZ)("p",{children:"Once you have confirmed business and employee details, we will provide a checklist of required documents."}),(0,O.tZ)("h2",{id:"what-happens-next",children:"What happens next"}),(0,O.tZ)("p",{children:"It will take 10 business days for your application to be reviewed by a yourGov representative."}),(0,O.tZ)(d.xu,{paddingTop:3,children:(0,O.tZ)(u.zx,{type:"submit",children:"Apply for permit"})}),(0,O.tZ)("h2",{id:"more-information",children:"More information"}),(0,O.tZ)("h3",{children:"Links"}),(0,O.BX)("ul",{children:[(0,O.tZ)("li",{children:(0,O.tZ)(h.z,{href:"/not-found",children:"Understand food safety requirements"})}),(0,O.tZ)("li",{children:(0,O.tZ)(h.z,{href:"/not-found",children:"New laws for food businesses"})}),(0,O.tZ)("li",{children:(0,O.tZ)(h.z,{href:"/not-found",children:"Restricted areas and exclusion zones"})}),(0,O.tZ)("li",{children:(0,O.tZ)(h.z,{href:"/not-found",children:"Hours of operation"})})]})]})]})}var x=n(66847),j=n(55732),B=n(50824),C=n.n(B),T=n(27378),D=n(42434),E=n(75136),k=n(73933),A=n(89236),R=n(96878),X=n(72604),M=n(97145),I=n(47223),N=n(16950);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function F(){var e,t=(0,r.t)(),n=t.stepOwnerDetailsGetState,i=t.stepOwnerDetailsReviewEditGetState,l=(0,X.M)(),a=i(),s=null!=l&&l.match&&null!=a&&a.edited?i():n(),d="true"===(0,o.useRouter)().query.success,c=(0,T.useState)(d),p=c[0],f=c[1],h=null!==(e=g.g.stepOwnerDetails)&&void 0!==e&&e.items?g.g.stepOwnerDetails.items[0][null!=l&&l.match?"changeHref":"href"]:void 0;return(0,T.useEffect)(function(){f(d)},[d]),(0,O.tZ)(I.Y,{formIntroduction:"Confirm your name and contact details.",formTitle:g.g.stepOwnerDetails[null!=l&&l.match?"changeLabel":"label"],shouldFocusTitle:!p,children:(0,O.BX)(v.K,{gap:3,children:[(0,O.BX)(E.R,{children:[(0,O.tZ)(k.H2,{children:"Confirm business owner details"}),(0,O.tZ)(D.P,{iconBefore:!0,label:"How were my details prefilled?",children:(0,O.BX)(m.Mr,{children:[(0,O.tZ)("p",{children:"We’re working hard to improve the way we do business with you. This includes making applications and registrations easier to use."}),(0,O.tZ)("p",{children:"If we already have some of the information you need to tell us, we’ll pre-fill it into your applications. This saves you entering all your details yourself."}),(0,O.tZ)("p",{children:"It’s important to check the pre-filled information in your report before you submit it."})]})}),p&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){return f(!1)},title:"Business owner details have been updated",tone:"successHigh"}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.BX)(R.Wr,{children:[(0,O.BX)(R.NW,{children:[(0,O.tZ)(R.oc,{children:"First name"}),(0,O.tZ)(R.RO,{children:null==s?void 0:s.firstName})]}),(0,O.BX)(R.NW,{children:[(0,O.tZ)(R.oc,{children:"Last name"}),(0,O.tZ)(R.RO,{children:null==s?void 0:s.lastName})]}),(0,O.BX)(R.NW,{children:[(0,O.tZ)(R.oc,{children:"Email address"}),(0,O.tZ)(R.RO,{children:null==s?void 0:s.email})]}),(0,O.BX)(R.NW,{children:[(0,O.tZ)(R.oc,{children:"Mobile number"}),(0,O.tZ)(R.RO,{children:null==s?void 0:s.mobileNumber})]})]}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:h,variant:"text",children:"Change business owner details"})]})]}),(0,O.tZ)(L,{})]})})}function L(){var e,t,n,i=(0,r.t)(),o=i.isSavingBeforeExiting,a=i.stepOwnerDetailsGetState,d=i.stepOwnerDetailsSetState,u=i.stepOwnerDetailsReviewEditGetState,p=i.stepOwnerDetailsReviewEditSetState,m=(0,X.M)(),v=u(),h=null!=m&&m.match&&null!=v&&v.edited?u():a(),b=(0,x.G)().submitStep,g=(0,l.cI)({defaultValues:{contactMethod:null===(t=a())||void 0===t?void 0:t.contactMethod},resolver:(0,s.F)(M.ws),mode:"onSubmit",reValidateMode:"onBlur"}),y=g.register,Z=g.handleSubmit,S=g.formState.errors,w=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b();case 4:d(H(H(H({},h),t),{},{completed:!o,edited:null!=m&&!!m.match||void 0,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,O.tZ)(N.l,{noValidate:!1,onEditCancel:function(){p({})},onSubmit:Z(w),children:(0,O.tZ)(E.R,{children:(0,O.BX)(c.e,{block:!0,id:"contactMethod",invalid:!!S.contactMethod,label:"Preferred contact method",message:null===(n=S.contactMethod)||void 0===n?void 0:n.message,required:!0,children:[(0,O.tZ)(f.Y,H(H({},y("contactMethod")),{},{value:"SMS",children:"SMS"})),(0,O.tZ)(f.Y,H(H({},y("contactMethod")),{},{value:"Email",children:"Email"}))]})})})}var z=n(90089),V=n(84315),W=n(28283),K=n(4776),Y=n(92288),_=n(66338),G=n(82973),J=n(87640),U=n(21855),$=["label","href"];function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function et(){var e,t,n,i,a,d,c,m,f=(0,o.useRouter)(),h=(0,r.t)(),b=h.formState,y=h.stepOwnerDetailsGetState,Z=h.stepOwnerDetailsReviewEditGetState,S=h.stepOwnerDetailsSetState,w=h.stepOwnerDetailsReviewEditSetState,P=(0,X.M)(),j=Z(),B=null!=P&&P.match&&null!=j&&j.edited?Z():y(),C=null!=P&&P.match?w:S,D=(0,l.cI)({defaultValues:B,resolver:(0,s.F)(M.ZA),mode:"onSubmit",reValidateMode:"onBlur"}),A=D.register,R=D.handleSubmit,I=D.formState.errors,N=(0,T.useState)(!1),q=N[0],H=N[1],F=g.g.stepOwnerDetails[null!=P&&P.match?"changeHref":"href"],L=(0,U.nT)(I),Q=(0,T.useRef)(null);(0,T.useEffect)(function(){var e;null===(e=Q.current)||void 0===e||e.focus()},[]);var et=(0,o.useRouter)(),en=et.asPath,er=et.pathname,ei=(0,x.G)().canConfirmAndSubmit;return(0,O.BX)(V.o,{children:[!(null!=P&&P.match)&&(0,O.tZ)(V.s,{columnSpan:{xs:12,md:4,lg:3},children:(0,O.tZ)(K.YF,{activePath:en,items:g.t.map(function(e,t){var n,r,i=e.label,o=e.href,l=(0,z.Z)(e,$);return{label:i,href:o,status:(r=g.t[t]).href===er.replace("/change-details","")?"started":null!==(n=b.steps)&&void 0!==n&&null!==(n=n[r.formStateKey])&&void 0!==n&&n.completed?"done":"stepReviewAndSubmit"!==r.formStateKey||ei?P?"started":"todo":"blocked",items:t===g.t.length-1&&(null==P?void 0:P.match.changeHref)===en?[{href:P.match.changeHref,label:P.match.changeLabel}]:null!=l&&l.items&&en===l.items[0].href?[{href:l.items[0].href,label:l.items[0].label}]:void 0}})})}),(0,O.tZ)(V.s,{columnSpan:{xs:12,md:8},columnStart:null!=P&&P.match?void 0:{lg:5},children:(0,O.BX)(v.K,{alignItems:"flex-start",gap:3,children:[(0,O.tZ)(W.z,{direction:"left",href:F,children:"Back"}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H1,{focusRingFor:"keyboard",ref:Q,tabIndex:-1,children:"Change business owner details"}),(0,O.tZ)(Y.x,{as:"p",color:"muted",fontSize:"md",children:"Change your name and contact details."}),(0,O.tZ)(G.z,{})]}),(0,O.tZ)(v.K,{gap:1.5,width:"100%",children:(0,O.BX)(v.K,{as:"form",gap:3,noValidate:!0,onSubmit:R(function(e){H(!0),setTimeout(function(){H(!1),C(ee(ee({},e),{},{edited:null!=P&&!!P.match||void 0})),f.push("".concat(F,"?success=true"))},1500)}),children:[(0,O.BX)(E.R,{children:[L&&(0,O.tZ)(J.v,{errors:I}),(0,O.tZ)(_.o,ee(ee({},A("firstName")),{},{autoComplete:"given-name",id:"firstName",invalid:!!(null===(e=I.firstName)||void 0===e?void 0:e.message),label:"First name",maxWidth:"lg",message:null===(t=I.firstName)||void 0===t?void 0:t.message,required:!0})),(0,O.tZ)(_.o,ee(ee({},A("lastName")),{},{autoComplete:"family-name",id:"lastName",invalid:!!(null===(n=I.lastName)||void 0===n?void 0:n.message),label:"Last name",maxWidth:"lg",message:null===(i=I.lastName)||void 0===i?void 0:i.message,required:!0})),(0,O.tZ)(_.o,ee(ee({},A("email")),{},{autoComplete:"email",id:"email",invalid:!!(null===(a=I.email)||void 0===a?void 0:a.message),label:"Email address",maxWidth:"xl",message:null===(d=I.email)||void 0===d?void 0:d.message,required:!0,type:"email"})),(0,O.tZ)(_.o,ee(ee({},A("mobileNumber")),{},{autoComplete:"tel",id:"mobileNumber",invalid:!!(null===(c=I.mobileNumber)||void 0===c?void 0:c.message),label:"Mobile number",maxWidth:"xl",message:null===(m=I.mobileNumber)||void 0===m?void 0:m.message,required:!0,type:"tel"}))]}),(0,O.tZ)(p.i,{}),(0,O.BX)(u.hE,{children:[(0,O.tZ)(u.zx,{loading:q,type:"submit",children:"Save changes"}),(0,O.tZ)(u.zx,{onClick:function(){f.push(F)},variant:"tertiary",children:"Cancel"})]})]})})]})})]})}function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ei(){var e,t,n,i,o,a,d,u,m,v,h,b=(0,r.t)(),y=b.formState,Z=b.stepBusinessDetailsSetState,S=b.isSavingBeforeExiting,w=(0,x.G)().submitStep,P=(0,X.M)(),B=(0,l.cI)({defaultValues:null===(t=y.steps)||void 0===t?void 0:t.stepBusinessDetails,resolver:S?void 0:(0,s.F)(M.jt),mode:"onSubmit",reValidateMode:"onBlur"}),D=B.watch,k=B.register,A=B.handleSubmit,R=B.trigger,q=B.formState,H=q.errors,F=q.isSubmitted,L=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,w();case 4:Z(er(er({},t),{},{completed:!S,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),z=(0,U.nT)(H),V=["Business","Sole trader"].includes(D("businessStructure")),W="Company"===D("businessStructure");return(0,T.useEffect)(function(){F&&R()},[F,R]),(0,O.tZ)(I.Y,{formIntroduction:"Your business details must match your business registration.",formTitle:g.g.stepBusinessDetails[null!=P&&P.match?"changeLabel":"label"],children:(0,O.tZ)(N.l,{onSubmit:A(L),children:(0,O.BX)(E.R,{children:[z&&(0,O.tZ)(J.v,{errors:H}),(0,O.tZ)(_.o,er(er({},k("businessName")),{},{autoComplete:"organization",id:"businessName",invalid:!!(null===(n=H.businessName)||void 0===n?void 0:n.message),label:"Business or company name",maxWidth:"xl",message:null===(i=H.businessName)||void 0===i?void 0:i.message,required:!0})),(0,O.tZ)(_.o,er(er({},k("tradingName")),{},{autoComplete:"on",id:"tradingName",invalid:!!(null===(o=H.tradingName)||void 0===o?void 0:o.message),label:"Trading name",maxWidth:"xl",message:null===(a=H.tradingName)||void 0===a?void 0:a.message})),(0,O.BX)(c.e,{block:!0,hint:"When you make a selection, you will be asked for your Australian Business Number (ABN) or Australian Company Number (ACN).",id:"businessStructure",invalid:!!H.businessStructure,label:"Business structure",message:null===(d=H.businessStructure)||void 0===d?void 0:d.message,required:!0,children:[(0,O.tZ)(f.Y,er(er({},k("businessStructure")),{},{value:"Sole trader",children:"Sole trader"})),(0,O.tZ)(f.Y,er(er({},k("businessStructure")),{},{value:"Business",children:"Business"})),(0,O.tZ)(f.Y,er(er({},k("businessStructure")),{},{value:"Company",children:"Company"}))]}),(V||W)&&(0,O.BX)(O.HY,{children:[(0,O.tZ)(p.i,{}),V?(0,O.tZ)(_.o,er(er({},k("abn")),{},{autoComplete:"on",id:"abn",invalid:!!(null===(u=H.abn)||void 0===u?void 0:u.message),label:"Australian Business Number (ABN)",message:null===(m=H.abn)||void 0===m?void 0:m.message,required:!0})):(0,O.tZ)(_.o,er(er({},k("acn")),{},{autoComplete:"on",id:"acn",invalid:!!(null===(v=H.acn)||void 0===v?void 0:v.message),label:"Australian Company Number (ACN)",message:null===(h=H.acn)||void 0===h?void 0:h.message,required:!0}))]})]})})})}var eo=n(78010),el=n(73474),ea=function(e){var t=e["aria-describedby"],n=e.children,r=e.id;return(0,O.tZ)(d.xu,{"aria-describedby":t,as:"fieldset",id:r,children:n})},es=function(e){var t=e.children;return(0,T.isValidElement)(t)?(0,O.tZ)("legend",{children:t}):(0,O.tZ)(Y.x,{as:"legend",fontSize:"lg",fontWeight:"bold",lineHeight:"heading",children:t})},ed=function(e){var t=e.children,n=e.id;return(0,T.isValidElement)(t)?(0,O.tZ)("div",{css:(0,y.iv)({marginTop:(0,el.XH)(.75)},"",""),id:n,children:t}):(0,O.tZ)(Y.x,{color:"muted",css:(0,y.iv)({marginTop:(0,el.XH)(.75)},"",""),display:"block",fontSize:"sm",id:n,children:t})},eu=function(e){var t=e.children;return(0,O.tZ)("div",{css:(0,y.iv)({marginTop:(0,el.XH)(2)},"",""),children:t})},ec=function(e){var t=e.children,n=e.hint,r=e.legend,i=ep(e.id),o=i.fieldsetId,l=i.hintId;return(0,O.BX)(ea,{"aria-describedby":n?l:void 0,id:o,children:[(0,O.tZ)(es,{children:r}),n?(0,O.tZ)(ed,{id:l,children:n}):null,(0,O.tZ)(eu,{children:t})]})},ep=function(e){var t=(0,el.Me)(e);return{fieldsetId:e||"fieldset-".concat(t),hintId:"fieldset-".concat(t,"-hint")}},em=n(63087);function ef(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ev(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ef(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ef(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eh(){var e,t,n,i,o,a,d,u,c,m,f,v,h,b,y,Z,S,w,P=(0,r.t)(),B=P.formState,T=P.stepBusinessAddressSetState,D=P.isSavingBeforeExiting,A=(0,x.G)().submitStep,R=(0,X.M)(),q=(0,l.cI)({defaultValues:null===(t=B.steps)||void 0===t?void 0:t.stepBusinessAddress,resolver:D?void 0:(0,s.F)(M.q8),mode:"onSubmit",reValidateMode:"onBlur"}),H=q.watch,F=q.register,L=q.handleSubmit,z=q.formState.errors,V=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,A();case 4:T(ev(ev({},t),{},{completed:!D,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),W=(0,U.nT)(z),K=H("isPostalAddressSameAsBusinessAddress");return(0,O.tZ)(I.Y,{formIntroduction:"Add your business address.",formTitle:g.g.stepBusinessAddress[null!=R&&R.match?"changeLabel":"label"],children:(0,O.BX)(N.l,{onSubmit:L(V),children:[W&&(0,O.tZ)(J.v,{errors:z}),(0,O.tZ)(E.R,{children:(0,O.tZ)(ec,{legend:(0,O.tZ)(k.H2,{children:"Business address"}),children:(0,O.BX)(E.R,{children:[(0,O.tZ)(_.o,ev(ev({},F("streetAddress")),{},{autoComplete:"on",id:"streetAddress",invalid:!!(null===(n=z.streetAddress)||void 0===n?void 0:n.message),label:"Street address",maxWidth:"xl",message:null===(i=z.streetAddress)||void 0===i?void 0:i.message,required:!0})),(0,O.tZ)(_.o,ev(ev({},F("suburbTownCity")),{},{autoComplete:"on",id:"suburbTownCity",invalid:!!(null===(o=z.suburbTownCity)||void 0===o?void 0:o.message),label:"Suburb, town or city",maxWidth:"lg",message:null===(a=z.suburbTownCity)||void 0===a?void 0:a.message,required:!0})),(0,O.tZ)(em.P,ev(ev({},F("state")),{},{autoComplete:"on",id:"state",invalid:!!(null===(d=z.state)||void 0===d?void 0:d.message),label:"State or territory",maxWidth:"sm",message:null===(u=z.state)||void 0===u?void 0:u.message,options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],placeholder:"Select",required:!0})),(0,O.tZ)(_.o,ev(ev({},F("postcode")),{},{autoComplete:"on",id:"postcode",inputMode:"numeric",invalid:!!(null===(c=z.postcode)||void 0===c?void 0:c.message),label:"Postcode",maxWidth:"sm",message:null===(m=z.postcode)||void 0===m?void 0:m.message,pattern:"[0-9]*",required:!0}))]})})}),(0,O.tZ)(E.R,{children:(0,O.tZ)(ec,{legend:(0,O.tZ)(k.H2,{children:"Postal address"}),children:(0,O.BX)(E.R,{children:[(0,O.tZ)(eo.X,ev(ev({},F("isPostalAddressSameAsBusinessAddress")),{},{id:"isPostalAddressSameAsBusinessAddress",children:"Same as business address"})),!K&&(0,O.BX)(E.R,{children:[(0,O.tZ)(p.i,{}),(0,O.tZ)(_.o,ev(ev({},F("postalAddress")),{},{autoComplete:"on",id:"postalAddress",invalid:!!(null===(f=z.postalAddress)||void 0===f?void 0:f.message),label:"Postal address",maxWidth:"xl",message:null===(v=z.postalAddress)||void 0===v?void 0:v.message,required:!0})),(0,O.tZ)(_.o,ev(ev({},F("postalSuburbTownCity")),{},{autoComplete:"on",id:"postalSuburbTownCity",invalid:!!(null===(h=z.postalSuburbTownCity)||void 0===h?void 0:h.message),label:"Suburb, town or city",maxWidth:"lg",message:null===(b=z.postalSuburbTownCity)||void 0===b?void 0:b.message,required:!0})),(0,O.tZ)(em.P,ev(ev({},F("postalState")),{},{autoComplete:"on",id:"postalState",invalid:!!(null===(y=z.postalState)||void 0===y?void 0:y.message),label:"State or territory",maxWidth:"sm",message:null===(Z=z.postalState)||void 0===Z?void 0:Z.message,options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],placeholder:"Select",required:!0})),(0,O.tZ)(_.o,ev(ev({},F("postalPostcode")),{},{autoComplete:"on",id:"postalPostcode",inputMode:"numeric",invalid:!!(null===(S=z.postalPostcode)||void 0===S?void 0:S.message),label:"Postcode",maxWidth:"sm",message:null===(w=z.postalPostcode)||void 0===w?void 0:w.message,pattern:"[0-9]*",required:!0}))]})]})})})]})})}var eb=n(11246),eg=n(44285),ey=n(17625),eO=n(69927),eZ=n(26125),eS=n(94374),ew=n(12227),eP=["allowedDateFormats","dateFormat","initialMonth","inputRef","invalid","maxDate","maxWidth","minDate","onBlur","onChange","value","yearRange"];function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ej(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eB={name:"1coh6b9",styles:"min-height:200px"},eC=function(e){var t=e.allowedDateFormats,n=void 0===t?ew.lL:t,r=e.dateFormat,i=void 0===r?"dd/MM/yyyy":r,o=e.initialMonth,l=e.inputRef,a=e.invalid,s=void 0!==a&&a,d=e.maxDate,u=e.maxWidth,c=e.minDate,p=e.onBlur,m=e.onChange,f=e.value,v=e.yearRange,h=(0,z.Z)(e,eP),b=(0,T.useMemo)(function(){return Array.from(new Set([i].concat((0,eg.Z)(n.filter(function(e){return ew.lL.includes(e)})))))},[n,i]),g=(0,el.hb)(!1),y=(0,eb.Z)(g,3),Z=y[0],S=y[1],w=y[2],P=Z?w:S,x=(0,T.useRef)(null),j=(0,ey.S)(),B=(0,T.useCallback)(function(){w(),setTimeout(function(){var e;null===(e=x.current)||void 0===e||e.focus()},0)},[w,x]),C=(0,T.useCallback)(function(e,t,n){n.disabled||(k((0,ew.p6)(t,i)),m(t),B())},[B,i,m]),D=(0,T.useState)((0,ew.JF)(f,i)),E=D[0],k=D[1];(0,T.useEffect)(function(){k((0,ew.JF)(f,i,b))},[b,i,f]);var A=(0,T.useCallback)(function(){Z&&w()},[w,Z]);(0,el.O8)([j.popoverRef,x],A),(0,T.useEffect)(function(){setTimeout(function(){Z&&((0,ew.$Y)('td[data-selected="true"]')||(0,ew.$Y)('td[data-today="true"]'))},0)},[Z]),(0,T.useEffect)(function(){var e=function(e){Z&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),B())};return window.addEventListener("keydown",e,{capture:!0}),function(){return window.removeEventListener("keydown",e,{capture:!0})}},[B,Z]);var R=(0,T.useMemo)(function(){if(c||d)return[c?{before:c}:void 0,d?{after:d}:void 0].filter(function(e){return!!e})},[d,c]),X=(0,ew.qF)(f,b),M=(0,ew.OH)(X,o,v),I=(0,T.useMemo)(function(){return j.getPopoverProps()},[j]),N=(0,T.useMemo)(function(){return{autoFocus:!1,defaultMonth:M,disabled:R,numberOfMonths:1,onSelect:C,selected:X}},[M,R,C,X]);return(0,O.BX)("div",ej(ej({},j.getReferenceProps()),{},{children:[(0,O.tZ)(eS.W,ej(ej({},h),{},{buttonAriaLabel:(0,ew.hY)({allowedDateFormats:b,value:E}),buttonOnClick:P,buttonRef:x,dateFormat:i,invalid:{field:s,input:s},isCalendarOpen:Z,maxWidth:void 0===u?"md":u,onBlur:function(e){var t=e.target.value;m((0,ew.sG)(t,b)||t),null==p||p(e)},onChange:function(e){k(e.target.value)},ref:l,secondaryLabelDate:c||d,value:E})),(0,O.tZ)(eZ.g,{yearRange:v,children:Z&&(0,O.tZ)(ey.J,ej(ej({},I),{},{css:eB,visibility:Z?"visible":"hidden",children:(0,O.tZ)(eO.Gv,ej({},N))}))})]}))},eT=["ref"];function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ek(){var e,t,n,i,o,a,d,u,c=(0,r.t)(),p=c.formState,m=c.stepVehicleRegistrationSetState,f=c.isSavingBeforeExiting,v=(0,x.G)().submitStep,h=(0,X.M)(),b=(0,l.cI)({defaultValues:(t=null==(e=null===(o=p.steps)||void 0===o?void 0:o.stepVehicleRegistration)?void 0:e.registrationExpiry,eE(eE({},e),{},{registrationExpiry:(0,U.LZ)(t)})),resolver:f?void 0:(0,s.F)(M.e0),mode:"onSubmit",reValidateMode:"onBlur"}),y=b.control,Z=b.register,S=b.handleSubmit,w=b.formState.errors,P=b.watch,B=(n=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,v();case 4:m(eE(eE({},t),{},{completed:!f,started:!0}));case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),T=!!(i=P("registrationExpiry"))&&!(0,ew.qb)(i),D=eE(eE({},w),{},{registrationExpiry:eE(eE({},w.registrationExpiry),{},{message:null!==(a=w.registrationExpiry)&&void 0!==a&&a.message||T?"Registration expiry date is required":void 0})}),k=(0,U.nT)(D);return(0,O.tZ)(I.Y,{formIntroduction:"Add your vehicle registration details.",formTitle:g.g.stepVehicleRegistration[null!=h&&h.match?"changeLabel":"label"],children:(0,O.tZ)(N.l,{onSubmit:S(B),children:(0,O.BX)(E.R,{children:[k&&(0,O.tZ)(J.v,{errors:D}),(0,O.tZ)(_.o,eE(eE({},Z("registrationNumber")),{},{autoComplete:"on",hint:"Enter a plate number, maximum 6 characters. For example ABC123.",id:"registrationNumber",invalid:!!(null===(d=w.registrationNumber)||void 0===d?void 0:d.message),label:"Vehicle registration number",message:null===(u=w.registrationNumber)||void 0===u?void 0:u.message,required:!0})),(0,O.tZ)(l.Qr,{control:y,name:"registrationExpiry",render:function(e){var t,n,r=e.field,i=r.ref,o=(0,z.Z)(r,eT);return(0,O.tZ)(eC,eE(eE({},o),{},{id:"registrationExpiry",inputRef:i,invalid:!!(null===(t=D.registrationExpiry)||void 0===t?void 0:t.message),label:"Registration expiry date",message:null===(n=D.registrationExpiry)||void 0===n?void 0:n.message,required:!0}))}})]})})})}var eA=n(98943),eR=n(34456),eX=n(13306),eM=n(19631),eI=function(e){var t=e.hint,n=e.hintId,r=e.invalid,i=e.message,o=e.messageId,l=[r&&i?o:null,t?n:null].filter(Boolean).join(" ");return l.length>0?l:null};function eN(e){var t,n=e.children,r=e.field1Invalid,i=void 0!==r&&r,o=e.field2Invalid,l=void 0!==o&&o,a=e.hideOptionalLabel,s=e.hint,u=e.id,c=e.legend,p=e.message,m=e.visuallyHideLegend,f=void 0!==m&&m,h=(t=(0,el.Me)(u),{hintId:"grouped-fields-".concat(t,"-hint"),messageId:"grouped-fields-".concat(t,"-message")}),b=h.hintId,g=h.messageId,Z=i||l,S={"aria-describedby":eI({hint:s,hintId:b,invalid:i,message:p,messageId:g}),"aria-invalid":i},w={"aria-describedby":eI({hint:s,hintId:b,invalid:l,message:p,messageId:g}),"aria-invalid":l};return(0,O.tZ)(eX.i$,{invalid:Z,children:(0,O.BX)(d.xu,{as:"fieldset",children:[(0,O.tZ)(eX.Qy,{as:"legend",css:f?eR.JM:void 0,hideOptionalLabel:void 0!==a&&a,required:!1,children:c}),(0,O.BX)(v.K,{css:(0,y.iv)({marginTop:f?void 0:(0,el.XH)(.5)},"",""),gap:.5,children:[s?(0,O.tZ)(eX.J1,{id:b,children:s}):null,p&&Z?(0,O.tZ)(eX.nd,{id:g,children:p}):null,(0,O.tZ)(eM.k,{flexWrap:"wrap",gap:1,inline:!0,children:n({field1Props:S,field2Props:w})})]})]})})}var eq=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)return"";var n=new Date,r=e.replace(/\s/g,""),i=(null!==r.match(/\d+/)?3===r.length?null!==(o=null===(l=r.match(/(\w)(\w{1,2})/))||void 0===l?void 0:l.slice(1))&&void 0!==o?o:[]:null!==(a=r.match(/\d{1,2}/gi))&&void 0!==a?a:[]:[]).map(function(e){return 0|Number(e)});if(0===i.length||i[0]>24||i.length>1&&i[1]>59)return e;if(i[0]<=12){var o,l,a,s,d,u,c,p=null!==(u=e.match(/[a-zA-Z]{1,2}/))&&void 0!==u?u:[];switch(p.length>0?null===(c=p[0])||void 0===c?void 0:c.toLowerCase():12===i[0]?"pm":"am"){case"pm":case"p":n.setHours(12===i[0]?12:i[0]+12);break;default:n.setHours(i[0]%12)}}else n.setHours(i[0]);n.setMinutes(null!==(s=i[1])&&void 0!==s?s:0),n.setSeconds(null!==(d=i[2])&&void 0!==d?d:0);var m=new Intl.DateTimeFormat("en-GB",eF[t]).format(n);return"HH:mm"===t&&m.startsWith("24:")?"00:".concat(m.split(":")[1]):m};function eH(e,t){return void 0===e?"":eq(e,t)}var eF={"h:mm aaa":{hour:"numeric",hourCycle:"h12",minute:"2-digit"},"hh:mm aaa":{hour:"2-digit",hourCycle:"h12",minute:"2-digit"},"HH:mm":{hour:"2-digit",hourCycle:"h24",minute:"2-digit"}},eL=Object.keys(eF),ez=["block","hideOptionalLabel","hint","id","invalid","label","maxWidth","message","onBlur","onChange","required","timeFormat","value"];function eV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eW(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eV(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eK={formatted:"",value:""},eY=(0,T.forwardRef)(function(e,t){var n=e.block,r=e.hideOptionalLabel,i=e.hint,o=e.id,l=e.invalid,a=e.label,s=e.maxWidth,d=void 0===s?"md":s,u=e.message,c=e.onBlur,p=e.onChange,m=e.required,f=e.timeFormat,v=void 0===f?"h:mm aaa":f,h=e.value,b=void 0===h?eK:h,g=(0,z.Z)(e,ez),y=(0,T.useState)(eH(null==b?void 0:b.value,v)),Z=y[0],S=y[1];(0,T.useEffect)(function(){S(eH(b.value,v))},[v,b]);var w=function(e){var t,n=null===(t=e.target)||void 0===t?void 0:t.value,r=eq(n,"HH:mm");null==p||p({formatted:eq(n,v),value:r}),null==c||c(e)},P=function(e){var t;S(null===(t=e.target)||void 0===t?void 0:t.value)},x=(0,T.useMemo)(function(){return"(e.g. "+eq("21:30",eL.includes(v)?v:"h:mm aaa")+")"},[v]),j=(0,_.c)({block:n,maxWidth:d});return(0,O.tZ)(eX.gN,{hideOptionalLabel:r,hint:i,id:o,invalid:l,label:a,maxWidth:d,message:u,required:m,secondaryLabel:x,children:function(e){return(0,O.tZ)("input",eW(eW({},e),{},{css:j,onBlur:w,onChange:P,ref:t,type:"text",value:Z},g))}})}),e_=["ref","value","onChange"],eG=["ref"],eJ=["ref"];function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eQ(){var e,t,n,i,o,a,d,u,c,p,m,f,v,h,b,y=(0,r.t)(),Z=y.formState,S=y.stepTradingTimeSetState,w=y.isSavingBeforeExiting,P=(0,x.G)().submitStep,B=(0,X.M)(),D=(0,T.useRef)(null),k=(0,T.useRef)(null),A=(0,l.cI)({defaultValues:(i=null==(e=null===(m=Z.steps)||void 0===m?void 0:m.stepTradingTime)||null===(t=e.tradingPeriod)||void 0===t?void 0:t.from,o=null==e||null===(n=e.tradingPeriod)||void 0===n?void 0:n.to,e$(e$({},e),{},{tradingPeriod:{from:i,to:o}})),resolver:w?void 0:(0,s.F)(M.qb),mode:"onSubmit",reValidateMode:"onBlur"}),R=A.control,q=A.handleSubmit,H=A.formState.errors,F=A.watch,L=(a=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=2;break}return e.abrupt("return");case 2:if(!(G.length>0)){e.next=5;break}return 1===G.length&&setTimeout(function(){var e,t,n;Y.tradingPeriod.both?null==D||null===(e=D.current)||void 0===e||e.focus():Y.tradingPeriod.from?null==D||null===(t=D.current)||void 0===t||t.focus():Y.tradingPeriod.to&&(null==k||null===(n=k.current)||void 0===n||n.focus())},0),e.abrupt("return");case 5:return e.next=7,P();case 7:S(e$(e$({},t),{},{completed:!w,started:!0}));case 8:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),V=F("tradingPeriod"),W=(d=V.from,u=V.to,!!d&&!(0,eA.qb)(d,{toDate:u})),K=(c=V.to,p=V.from,!!c&&!(0,eA.qb)(c,{fromDate:p})),Y=(0,T.useMemo)(function(){var e,t,n,r,i,o,l,a,s,d,u,c;return{tradingPeriod:{both:W&&K||!!(null===(e=H.tradingPeriod)||void 0===e||null===(e=e.from)||void 0===e?void 0:e.message)&&!!(null===(t=H.tradingPeriod)||void 0===t||null===(t=t.to)||void 0===t?void 0:t.message),from:W&&!K||!(null!==(n=H.tradingPeriod)&&void 0!==n&&null!==(n=n.to)&&void 0!==n&&n.message)&&!!(null===(r=H.tradingPeriod)||void 0===r||null===(r=r.from)||void 0===r?void 0:r.message),to:K&&!K||!(null!==(i=H.tradingPeriod)&&void 0!==i&&null!==(i=i.from)&&void 0!==i&&i.message)&&!!(null===(o=H.tradingPeriod)||void 0===o||null===(o=o.to)||void 0===o?void 0:o.message)},hours:{both:!!(null===(l=H.openingTime)||void 0===l?void 0:l.message)&&!!(null===(a=H.closingTime)||void 0===a?void 0:a.message),from:!!(null===(s=H.openingTime)||void 0===s?void 0:s.message)&&!(null!==(d=H.closingTime)&&void 0!==d&&d.message),to:!(null!==(u=H.openingTime)&&void 0!==u&&u.message)&&!!(null===(c=H.closingTime)||void 0===c?void 0:c.message)}}},[H,W,K,H]),_=Y.tradingPeriod.both?"Start date and End date is required":Y.tradingPeriod.from?"Start date is required":Y.tradingPeriod.to?"End date is required":void 0,G=[Y.tradingPeriod.both,Y.tradingPeriod.from,Y.tradingPeriod.to,Y.hours.both,Y.hours.from,Y.hours.to].filter(Boolean),U=G.length>1;return(0,O.tZ)(I.Y,{formIntroduction:"What times would you like to operate?",formTitle:g.g.stepTradingTime[null!=B&&B.match?"changeLabel":"label"],children:(0,O.tZ)(N.l,{onSubmit:q(L,function(e){if(G.length>0){setTimeout(function(){var t,n,r,i,o,l,a;Y.tradingPeriod.both?null==D||null===(r=D.current)||void 0===r||r.focus():Y.tradingPeriod.from?null==D||null===(i=D.current)||void 0===i||i.focus():Y.tradingPeriod.to?null==k||null===(o=k.current)||void 0===o||o.focus():null!=e&&null!==(t=e.openingTime)&&void 0!==t&&null!==(t=t.ref)&&void 0!==t&&t.focus?null===(l=e.openingTime.ref)||void 0===l||l.focus():null!=e&&null!==(n=e.closingTime)&&void 0!==n&&null!==(n=n.ref)&&void 0!==n&&n.focus&&(null===(a=e.closingTime.ref)||void 0===a||a.focus())},0);return}}),children:(0,O.BX)(E.R,{children:[U&&(0,O.tZ)(J.v,{errors:{"date-range-picker-tradingPeriod-from":{message:Y.tradingPeriod.both||Y.tradingPeriod.from?_:void 0},"date-range-picker-tradingPeriod-to":{message:!Y.tradingPeriod.both&&Y.tradingPeriod.to?_:void 0},openingTime:{message:Y.hours.both?"Opening time and Closing time is required":null===(f=H.openingTime)||void 0===f?void 0:f.message},closingTime:{message:Y.hours.to?null===(v=H.closingTime)||void 0===v?void 0:v.message:void 0}}}),(0,O.tZ)(l.Qr,{control:R,name:"tradingPeriod",render:function(e){var t=e.field,n=(t.ref,t.value),r=t.onChange,i=(0,z.Z)(t,e_);return(0,O.tZ)(eA.Pc,e$(e$({},i),{},{fromInputRef:D,fromInvalid:Y.tradingPeriod.both||Y.tradingPeriod.from,id:"tradingPeriod",legend:"Trading period",message:_,onChange:r,required:!0,toInputRef:k,toInvalid:Y.tradingPeriod.both||Y.tradingPeriod.to,value:n}))}}),(0,O.tZ)(eN,{field1Invalid:Y.hours.both||Y.hours.from,field2Invalid:Y.hours.both||Y.hours.to,hideOptionalLabel:!0,hint:"Provide the time you will open and close. For example, 3:00 pm - enter 12 am for midnight",legend:"Hours of operation",message:Y.hours.both?"Opening time and Closing time is required":(null===(h=H.openingTime)||void 0===h?void 0:h.message)||(null===(b=H.closingTime)||void 0===b?void 0:b.message),children:function(e){var t=e.field1Props,n=e.field2Props;return(0,O.BX)(O.HY,{children:[(0,O.tZ)(l.Qr,{control:R,name:"openingTime",render:function(e){var n=e.field,r=n.ref,i=(0,z.Z)(n,eG);return(0,O.tZ)(eY,e$(e$(e$({},i),t),{},{autoComplete:"on",id:"openingTime",label:"Opening time",ref:r,required:!0}))}}),(0,O.tZ)(l.Qr,{control:R,name:"closingTime",render:function(e){var t=e.field,r=t.ref,i=(0,z.Z)(t,eJ);return(0,O.tZ)(eY,e$(e$(e$({},i),n),{},{autoComplete:"on",id:"closingTime",label:"Closing time",ref:r,required:!0}))}})]})}})]})})})}function e0(){return(0,T.useMemo)(function(){var e,t;return!!(0,el.Nq)()&&CSS&&(null===(e=CSS)||void 0===e?void 0:e.supports("-webkit-appearance","-apple-pay-button"))&&(null===(t=CSS)||void 0===t?void 0:t.supports("-webkit-overflow-scrolling","auto"))},[])}var e1=n(88772),e2=["children"];function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5={color:el._X.foregroundText,backgroundColor:el._X.backgroundShade,"> span":el.lB.underline},e3=(0,el.vY)("sm","default"),e4={"[data-combobox-list-item]":{alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:el.TV.borderWidth.sm,borderColor:el._X.borderMuted,display:"flex",gap:(0,el.XH)(.75),paddingBottom:(0,el.XH)(.75),paddingLeft:(0,el.XH)(1),paddingRight:(0,el.XH)(1),paddingTop:(0,el.XH)(.75),'&[aria-selected="true"]':e5,"&:last-of-type":{borderBottom:"none"},'&[data-combobox-list-item="interactive"]':{cursor:"pointer",color:el._X.foregroundAction,"&:hover":e5},'[data-combobox-render-item="beforeElement"]':{flexShrink:0},'[data-combobox-render-item="itemLabel"]':{alignItems:"stretch",display:"flex",flexDirection:"column"},'[data-combobox-render-item="secondaryText"]':e7({color:el._X.foregroundMuted,fontFamily:el.TV.font.body,fontWeight:el.TV.fontWeight.normal},e3),'[data-combobox-render-item="tertiaryText"]':e7({color:el._X.foregroundMuted,fontFamily:el.TV.font.body,fontWeight:el.TV.fontWeight.normal},e3),'[data-combobox-render-item="endElement"]':{flexShrink:0,marginLeft:"auto"},'[data-combobox-render-item="renderedLabel"]':e7({color:"inherit",fontFamily:el.TV.font.body,fontWeight:el.TV.fontWeight.normal},e3)}},e6=(0,T.forwardRef)(function(e,t){var n=e.children,r=(0,z.Z)(e,e2),i=e0();return(0,O.tZ)("li",e7(e7({"data-combobox-list-item":"static",ref:t,tabIndex:i?void 0:-1},r),{},{children:n}))});function e9(){return(0,O.tZ)(e6,{children:(0,O.BX)(eM.k,{alignItems:"center",gap:1,children:[(0,O.tZ)(e1.xg,{"aria-label":"Loading options",role:"alert",size:"sm"}),(0,O.tZ)(Y.x,{children:"Loading"})]})})}var te=n(61449),tt={name:"ozd7xs",styles:"flex-shrink:0"};function tn(){return(0,O.tZ)(e6,{children:(0,O.BX)(eM.k,{alignItems:"center",gap:.5,children:[(0,O.tZ)(te.z$,{color:"error",css:tt}),(0,O.tZ)(Y.x,{role:"alert",children:"Something went wrong."})]})})}function tr(e){var t=e.message;return(0,O.tZ)(e6,{children:(0,O.tZ)(Y.x,{children:t})})}var ti=["isOpen"],to=["disabled","icon"];function tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tl(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ts(e){var t=e.children;return(0,O.tZ)(eM.k,{alignItems:"center",css:(0,y.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,el.XH)(.5)," + ").concat(el.TV.borderWidth.lg,"px)"),transform:"translateY(-50%)"},"",""),gap:.25,children:t})}function td(){return(0,O.tZ)(d.xu,{"aria-hidden":!0,borderColor:"muted",borderLeft:!0,borderLeftWidth:"md",height:"1.5rem"})}var tu=(0,T.forwardRef)(function(e,t){return(0,O.tZ)(tp,ta({"aria-label":"Clear input",icon:te.Tw,ref:t},e))}),tc=(0,T.forwardRef)(function(e,t){var n=e.isOpen,r=(0,z.Z)(e,ti);return(0,O.tZ)(tp,ta({"aria-label":"Toggle menu",icon:n?te.g8:te.v4,ref:t},r))}),tp=(0,T.forwardRef)(function(e,t){var n=e.disabled,r=e.icon,i=(0,z.Z)(e,to);return(0,O.tZ)(u.Yd,ta(ta({css:(0,y.iv)(ta(ta({display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",color:el._X.foregroundAction},n&&{cursor:"not-allowed",opacity:.3}),{},{"&:hover":{color:el._X.foregroundText}},d.j4),"",""),disabled:n,ref:t},i),{},{children:(0,O.tZ)(r,{color:"inherit",size:"md"})}))});function tm(e){var t=e.children;return(0,O.tZ)("span",{"data-combobox-render-item":"itemLabel",children:t})}var tf=["disabled","children","onRemove"];function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function th(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tb=(0,T.forwardRef)(function(e,t){var n=e.disabled,r=e.children,i=e.onRemove,o=(0,z.Z)(e,tf);return(0,O.BX)(eM.k,{alignItems:"center",as:"span",border:!0,color:"text",css:(0,y.iv)(th({cursor:"default"},n&&{cursor:"not-allowed",borderColor:el._X.borderMuted,color:el._X.foregroundMuted}),"",""),fontSize:"sm",gap:.25,inline:!0,paddingLeft:.5,paddingRight:.25,rounded:!0,children:[r,(0,O.tZ)(eM.k,{alignItems:"center","aria-label":"Remove ".concat(r),as:"button",css:(0,y.iv)(th({background:"transparent",cursor:"pointer",svg:{display:"block",color:el._X.foregroundAction},"&:hover":{svg:{color:el._X.foregroundText}},"&&":{outlineOffset:0}},n&&{cursor:"not-allowed",opacity:.3}),"",""),focusRingFor:"all",height:(0,el.XH)(1.5),justifyContent:"center",onClick:function(e){n||(e.stopPropagation(),i())},onKeyDown:o.onKeyDown,ref:t,rounded:!0,type:"button",width:(0,el.XH)(1.5),children:(0,O.tZ)(te.Tw,{size:"sm"})})]})}),tg=["label","hideOptionalLabel","required","hint","message","invalid","inputId","disabled","block","maxWidth","renderItem","emptyResultsMessage","loading","networkError","combobox","inputItems","selectedItems","setSelectedItems","multiSelection","inputRef","onBlur","onFocus"];function ty(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ty(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tZ(e){var t,n,r,i,o,l,a,s,d=e.label,u=e.hideOptionalLabel,c=e.required,p=e.hint,m=e.message,f=e.invalid,v=void 0!==f&&f,h=e.inputId,b=e.disabled,g=void 0!==b&&b,y=e.block,Z=e.maxWidth,S=void 0===Z?"xl":Z,w=e.renderItem,P=e.emptyResultsMessage,x=void 0===P?"No options found.":P,j=e.loading,B=e.networkError,C=e.combobox,D=e.inputItems,E=e.selectedItems,k=e.setSelectedItems,A=e.multiSelection,R=e.inputRef,X=e.onBlur,M=e.onFocus,I=(0,z.Z)(e,tg),N=(0,T.useRef)(null),q=e0(),H=(0,el.hb)(!1),F=(0,eb.Z)(H,3),L=F[0],V=F[1],W=F[2],K=(0,ey.S)({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:C.isOpen}),Y=(null==E?void 0:E.length)>0,_=(n=(t={block:y,disabled:g,inputValue:C.inputValue,invalid:v||!!I["aria-invalid"],isInputFocused:L,maxWidth:S,showClearButton:Y}).block,r=t.disabled,i=t.inputValue,o=t.invalid,l=t.isInputFocused,a=t.maxWidth,s=t.showClearButton,{fieldContainer:tO(tO(tO({},e4),function(e){var t={};if(!e)return t;var n=e.toLowerCase().split("");return n.forEach(function(e,r){var i=n.slice(0,r+1).map(function(e){return'[data-char="'.concat(e,'" i]')}).join(" + "),o=n.slice(r+1).map(function(e){return'+ [data-char="'.concat(e,'" i]')}).join(" ");t[o?"".concat(i,":has(").concat(o,")"):i]={fontWeight:"bold"}}),t}(i)),!n&&{maxWidth:el.TV.maxWidth.field[a]}),container:tO(tO(tO(tO({position:"relative",cursor:"text",background:el._X.backgroundBody,borderWidth:el.TV.borderWidth.lg,borderStyle:"solid",borderColor:el._X.border,borderRadius:el.TV.borderRadius,color:el._X.foregroundText},el.lB.input.md),{},{height:"auto",minHeight:el.lB.input.md.height,margin:0,paddingTop:(0,el.XH)(.25),paddingBottom:(0,el.XH)(.25),paddingLeft:(0,el.XH)(.5),paddingRight:s?"5rem":"3rem"},r&&{cursor:"not-allowed",borderColor:el._X.borderMuted,backgroundColor:el._X.backgroundShade,color:el._X.foregroundMuted}),o&&{backgroundColor:el._X.systemErrorMuted,borderColor:el._X.systemError}),l&&el.lB.outline),inputContainer:{display:"flex",flex:"1 1 2rem"},input:tO(tO({appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:el._X.backgroundBody,color:el._X.foregroundText,fontFamily:el.TV.font.body},(0,el.vY)("sm","default")),{},{'&[aria-invalid="true"]':{backgroundColor:el._X.systemErrorMuted,borderColor:el._X.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:el._X.foregroundMuted,backgroundColor:el._X.backgroundShade}})}),G=(0,T.useMemo)(function(){return null!=D&&D.length?D.map(function(e){var t;return t=e.label,(0,O.tZ)("span",{"aria-label":t,"data-combobox-render-item":"renderedLabel",children:t.split("").map(function(e,t){return(0,O.tZ)("span",{"data-char":e,children:e},t)})})}):[]},[D]),J=(0,T.useRef)(null),U=(0,T.useCallback)(function(e){var t;e.target===J.current&&(null===(t=N.current)||void 0===t||t.focus())},[N]),$=(0,T.useCallback)(function(){var e;k([]),null===(e=N.current)||void 0===e||e.focus()},[k]),Q=R?(0,el.lq)([N,R]):N,ee=C.getLabelProps().id,et=function(e){var t;q&&!(null!==(t=e.nativeEvent)&&void 0!==t&&t.relatedTarget)&&(e.nativeEvent.preventDownshiftDefault=!0),null==X||X(e),W()};return(0,O.tZ)(eX.gN,{hideOptionalLabel:u,hint:p,id:h,invalid:v,label:d,labelId:ee,maxWidth:S,message:m,required:c,children:function(e){return(0,O.BX)("div",tO(tO({},K.getReferenceProps()),{},{css:_.fieldContainer,onClick:U,children:[(0,O.BX)(eM.k,{alignItems:"center",css:_.container,flexWrap:"wrap",gap:.5,ref:J,children:[E.map(function(e,t){return(0,O.tZ)(tb,tO(tO({disabled:g,onRemove:function(){return A.removeSelectedItem(e)}},A.getSelectedItemProps({selectedItem:e,index:t})),{},{children:e.label}),"selected-item-".concat(t))}),(0,O.tZ)("div",{css:_.inputContainer,children:(0,O.tZ)("input",tO(tO({disabled:g},C.getInputProps(A.getDropdownProps(tO(tO(tO({},e),{"aria-describedby":I["aria-describedby"]||e["aria-describedby"],"aria-invalid":I["aria-invalid"]||e["aria-invalid"]}),{},{ref:Q,type:"text",preventKeyAction:!1,onFocus:function(e){null==M||M(e),V()},onBlur:et})))),{},{css:_.input}))}),(0,O.BX)(ts,{children:[Y&&(0,O.BX)(T.Fragment,{children:[(0,O.tZ)(tu,{disabled:g,onClick:$}),(0,O.tZ)(td,{})]}),(0,O.tZ)(tc,tO({},C.getToggleButtonProps({isOpen:C.isOpen,disabled:g})))]})]}),(0,O.tZ)(ey.J,tO(tO({as:"ul"},C.getMenuProps(K.getPopoverProps())),{},{visibility:C.isOpen?"visible":"hidden",children:C.isOpen?(0,O.tZ)(T.Fragment,{children:j?(0,O.tZ)(e9,{}):B?(0,O.tZ)(tn,{}):(0,O.tZ)(T.Fragment,{children:null!=D&&D.length?D.map(function(e,t){return(0,O.tZ)("li",tO(tO({"data-combobox-list-item":"interactive"},C.getItemProps({item:e,index:t})),{},{tabIndex:q?void 0:-1,children:w?w(tO(tO({},e),{},{label:G[t]})):(0,O.tZ)(tm,{children:G[t]})}),"".concat(e.value,"-").concat(t))}):(0,O.tZ)(tr,{message:x})})}):null}))]}))}})}var tS=n(81187),tw=["block","id","value","onChange","options"];function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tj(e){var t,n=e.block,r=e.id,i=e.value,o=e.onChange,l=e.options,a=(0,z.Z)(e,tw),s=(0,T.useState)(""),d=s[0],u=s[1],c=(t=(0,el.Me)(),r||"combobox-input-".concat(t)),p=(0,T.useState)([]),m=p[0],f=p[1],v=void 0===i?m:i,h=(0,T.useCallback)(function(e){f(e),null==o||o(e)},[o]),b=(0,T.useMemo)(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=(null==t?void 0:t.toLowerCase())||"";return e.filter(function(e){var t=e.value.toLowerCase().includes(r)||e.label.toLowerCase().includes(r);return void 0===n?t:t&&!(null!=n&&n.some(function(t){return t.label===e.label&&t.value===e.value}))})}(l,d,v)},[l,d,v]),g=(0,T.useRef)([]),y=(0,tS.M$)({selectedItems:v,getA11yStatusMessage:function(e){var t=e.selectedItems;if(t.length===g.current.length)return g.current=t,"";if(t.length>g.current.length){var n=t.find(function(e){return 0>g.current.findIndex(function(t){return t.value===e.value})});return g.current=t,"".concat((null==n?void 0:n.label)||"An item"," has been added.")}if(0===t.length&&g.current.length>0)return g.current=t,"All items have been removed.";var r=g.current.find(function(e){return 0>t.findIndex(function(t){return t.value===e.value})});return g.current=t,"".concat((null==r?void 0:r.label)||"An item"," has been removed.")},onStateChange:function(e){var t=e.selectedItems;switch(e.type){case tS.M$.stateChangeTypes.SelectedItemKeyDownBackspace:case tS.M$.stateChangeTypes.SelectedItemKeyDownDelete:case tS.M$.stateChangeTypes.DropdownKeyDownBackspace:case tS.M$.stateChangeTypes.FunctionRemoveSelectedItem:h(null!=t?t:[])}}}),Z=(0,tS.Kb)({inputValue:d,inputId:c,items:null!=b?b:[],itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},defaultHighlightedIndex:0,selectedItem:null,stateReducer:function(e,t){var n=t.changes;switch(t.type){case tS.Kb.stateChangeTypes.InputKeyDownEnter:case tS.Kb.stateChangeTypes.ItemClick:return tx(tx({},n),{},{isOpen:!0,highlightedIndex:0});default:return n}},onStateChange:function(e){var t=e.inputValue,n=e.type,r=e.selectedItem;switch(n){case tS.Kb.stateChangeTypes.InputKeyDownEnter:case tS.Kb.stateChangeTypes.ItemClick:r&&(h([].concat((0,eg.Z)(v),[r])),u(""));break;case tS.Kb.stateChangeTypes.InputChange:u(void 0===t?"":t)}}});return(0,O.tZ)(tZ,tx({block:void 0===n||n,combobox:Z,inputId:c,inputItems:b,multiSelection:y,selectedItems:v,setSelectedItems:h},a))}var tB=["ref"];function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tD(){var e,t,n=(0,r.t)(),i=n.formState,o=n.stepFoodServedSetState,a=n.isSavingBeforeExiting,d=(0,x.G)().submitStep,u=(0,X.M)(),c=(0,l.cI)({defaultValues:null===(t=i.steps)||void 0===t?void 0:t.stepFoodServed,resolver:a?void 0:(0,s.F)(M.yu),mode:"onSubmit",reValidateMode:"onBlur"}),p=c.control,m=c.handleSubmit,f=c.formState.errors,v=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d();case 4:o(tT(tT({},t),{},{completed:!a,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,O.tZ)(I.Y,{formIntroduction:"What type of food will you be serving?",formTitle:g.g.stepFoodServed[null!=u&&u.match?"changeLabel":"label"],children:(0,O.tZ)(N.l,{onSubmit:m(v),children:(0,O.tZ)(l.Qr,{control:p,name:"foodServed",render:function(e){var t,n,r=e.field,i=r.ref,o=(0,z.Z)(r,tB);return(0,O.tZ)(tj,tT(tT({},o),{},{block:!1,hint:"Start typing to see results. You can add multiple selections.",id:"foodServed",inputRef:i,invalid:!!(null===(t=f.foodServed)||void 0===t?void 0:t.message),label:"Select food types",maxWidth:"xl",message:null===(n=f.foodServed)||void 0===n?void 0:n.message,options:tE,required:!0}))}})})})}var tE=[{value:"asian noodle bowls",label:"Asian Noodle Bowls"},{value:"banh mi sandwiches",label:"Banh Mi Sandwiches"},{value:"bbq ribs",label:"BBQ Ribs"},{value:"burgers",label:"Burgers"},{value:"cake",label:"Cake"},{value:"coffee",label:"Coffee"},{value:"cookies",label:"Cookies"},{value:"falafel pitas",label:"Falafel Pitas"},{value:"fish and chips",label:"Fish and Chips"},{value:"fried chicken",label:"Fried Chicken"},{value:"fries",label:"Fries"},{value:"grilled cheese sandwiches",label:"Grilled Cheese Sandwiches"},{value:"ice cream",label:"Ice Cream"},{value:"mexican",label:"Mexican"},{value:"pasta",label:"Pasta"},{value:"pulled pork",label:"Pulled Pork"},{value:"soft drinks",label:"Soft Drinks"},{value:"veggie wraps",label:"Veggie Wraps"}],tk=n(25294),tA=n(88104),tR=n(18607);function tX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tX(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tX(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tI(){var e,t,n,i=(0,r.t)(),l=i.stepEmployeesGetState,a=i.stepEmployeesReviewEditGetState,s=i.stepEmployeesSetState,c=i.stepEmployeesReviewEditSetState,p=i.isSavingBeforeExiting,m=(0,x.G)().submitStep,f=(0,X.M)(),h=a(),b=null!=f&&f.match&&null!=h&&h.edited?a():l(),Z=null!=f&&f.match?c:s,S=null!==(t=g.g.stepEmployees)&&void 0!==t&&t.items?g.g.stepEmployees.items[0][null!=f&&f.match?"changeHref":"href"]:void 0,w=(0,o.useRouter)().query,P=(0,T.useState)(),B=P[0],D=P[1],E=(0,T.useState)(""),R=E[0],M=E[1],q=(0,T.useState)(!1),H=q[0],F=q[1],L=(0,T.useState)(!1),z=L[0],V=L[1],W=(0,T.useState)(!1),K=W[0],_=W[1],G=(0,T.useRef)(null),J=(0,T.useRef)(null),U=w.success?null==b||null===(n=b.employee)||void 0===n?void 0:n.find(function(e){return(null==e?void 0:e.id)===w.success}):void 0,$=(0,T.useState)(!!U),Q=$[0],ee=$[1],et=function(){ee(!1),D(void 0)};(0,T.useEffect)(function(){F(!!B),V(!1)},[B]);var en=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!p){e.next=3;break}return e.abrupt("return");case 3:if(!(null!=b&&b.employee&&(null==b?void 0:b.employee.length)===0)){e.next=7;break}return V(!1),_(!0),e.abrupt("return");case 7:return e.next=9,m();case 9:s(tM(tM({},b),{},{completed:!p,started:!0}));case 10:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,T.useEffect)(function(){ee(!!U),U&&setTimeout(function(){var e;null===(e=G.current)||void 0===e||e.focus()},500)},[U]),(0,T.useEffect)(function(){R&&setTimeout(function(){var e;null===(e=J.current)||void 0===e||e.focus()},500)},[R]),(0,O.BX)(I.Y,{formIntroduction:"Add your employee details.",formTitle:g.g.stepEmployees[null!=f&&f.match?"changeLabel":"label"],hideRequiredFieldsMessage:!0,shouldFocusTitle:!Q,children:[(0,O.BX)(v.K,{gap:2,children:[K&&(0,O.tZ)(tA.F,{focusOnMount:!0,title:"No employees added",tone:"error",children:(0,O.tZ)(Y.x,{as:"p",children:"You need to add some staff."})}),(0,O.tZ)(k.H2,{id:"list-of-employees",children:"List of employees"}),(0,O.tZ)(d.xu,{css:(0,y.iv)({display:Q?"block":"none"},"",""),focusRingFor:"all",ref:G,tabIndex:-1,children:(0,O.tZ)(A.E,{onClose:function(){return ee(!1)},title:"".concat(null==U?void 0:U.firstName," ").concat(null==U?void 0:U.lastName," has been added as an\n							employee"),tone:"successHigh"})}),(0,O.tZ)(d.xu,{css:(0,y.iv)({display:z?"block":"none"},"",""),focusRingFor:"all",ref:J,tabIndex:-1,children:(0,O.tZ)(A.E,{onClose:function(){return V(!1)},title:"".concat(R," has been removed as an\n							employee"),tone:"successHigh"})}),null!=b&&b.employee&&b.employee.length>0?(0,O.tZ)(tR.y6,{children:(0,O.BX)(tR.iA,{"aria-labelledby":"list-of-employees",children:[(0,O.tZ)(tR.ss,{children:(0,O.BX)(tR.SC,{children:[(0,O.tZ)(tR.xD,{children:"Employee name"}),(0,O.tZ)(tR.xD,{children:"Email address"}),(0,O.tZ)(tR.xD,{children:"Action"})]})}),(0,O.tZ)(tR.RM,{children:b.employee.map(function(e){return(null==e?void 0:e.id)&&(0,O.BX)(tR.SC,{children:[(0,O.BX)(tR.pj,{id:e.id,children:[e.firstName," ",e.lastName]}),(0,O.tZ)(tR.pj,{children:e.email}),(0,O.tZ)(tR.pj,{children:(0,O.tZ)(u.zx,{"aria-describedby":e.id,onClick:function(){D(e)},variant:"text",children:"Remove"})})]},e.id)})})]})}):(0,O.BX)(v.K,{gap:1,children:[(0,O.tZ)(te.fM,{color:"muted",size:"lg"}),(0,O.tZ)(k.H3,{children:"No employees added"}),(0,O.tZ)(Y.x,{as:"p",children:"You must add an employee to proceed."})]}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:S,iconBefore:te.pO,size:"sm",variant:"secondary",children:"Add employee"})]}),(0,O.tZ)(N.l,{onEditCancel:function(){c({})},onSubmit:en}),(0,O.tZ)(tk.u,{actions:(0,O.BX)(u.hE,{children:[(0,O.tZ)(u.zx,{onClick:function(){var e;Z(tM(tM({},b),{},{completed:!1,edited:null!=f&&!!f.match||void 0,employee:null==b||null===(e=b.employee)||void 0===e?void 0:e.filter(function(e){return(null==e?void 0:e.id)!==(null==B?void 0:B.id)})})),M("".concat(null==B?void 0:B.firstName," ").concat(null==B?void 0:B.lastName)),et(),setTimeout(function(){V(!0)},0)},children:"Remove employee"}),(0,O.tZ)(u.zx,{onClick:et,variant:"secondary",children:"Cancel"})]}),isOpen:H,onClose:et,title:"Are you sure you want to remove ".concat(null==B?void 0:B.firstName," ").concat(null==B?void 0:B.lastName," as an employee?")})]})}var tN=n(41228),tq=["asPath","pathname"],tH=["label","href"];function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tz(){var e,t,n,i,a,d,c=(0,o.useRouter)(),m=c.asPath,f=c.pathname,h=(0,z.Z)(c,tq),b=(0,r.t)(),y=b.formState,Z=b.stepEmployeesGetState,S=b.stepEmployeesReviewEditGetState,w=b.stepEmployeesSetState,P=b.stepEmployeesReviewEditSetState,j=(0,T.useRef)((0,tN.H)()),B=(0,X.M)(),C=S(),D=Z();D=null!=B&&B.match&&null!=C&&C.edited?S():Z();var A=null!=B&&B.match?P:w,R=(0,l.cI)({resolver:(0,s.F)(M.fH),mode:"onSubmit",reValidateMode:"onBlur"}),I=R.register,N=R.handleSubmit,q=R.formState.errors,H=void 0===q?{}:q,F=(0,T.useState)(!1),L=F[0],$=F[1],Q=g.g.stepEmployees[null!=B&&B.match?"changeHref":"href"],ee=null==H?void 0:H.employee,et=(0,U.nT)(ee),en=(0,T.useRef)(null);(0,T.useEffect)(function(){var e;null===(e=en.current)||void 0===e||e.focus()},[]);var er=(0,x.G)().canConfirmAndSubmit;return(0,O.BX)(V.o,{children:[!(null!=B&&B.match)&&(0,O.tZ)(V.s,{columnSpan:{xs:12,md:4,lg:3},children:(0,O.tZ)(K.YF,{activePath:m,items:g.t.map(function(e,t){var n,r,i=e.label,o=e.href,l=(0,z.Z)(e,tH);return{label:i,href:o,status:(r=g.t[t]).href===f.replace("/add-employee","")?"started":null!==(n=y.steps)&&void 0!==n&&null!==(n=n[r.formStateKey])&&void 0!==n&&n.completed?"done":"stepReviewAndSubmit"!==r.formStateKey||er?B?"started":"todo":"blocked",items:t===g.t.length-1&&(null==B?void 0:B.match.changeHref)===m?[{href:B.match.changeHref,label:B.match.changeLabel}]:null!=l&&l.items&&m===l.items[0].href?[{href:l.items[0].href,label:l.items[0].label}]:void 0}})})}),(0,O.tZ)(V.s,{columnSpan:{xs:12,md:8},columnStart:null!=B&&B.match?void 0:{lg:5},children:(0,O.BX)(v.K,{alignItems:"flex-start",gap:3,children:[(0,O.tZ)(W.z,{direction:"left",href:Q,children:"Back"}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H1,{focusRingFor:"keyboard",ref:en,tabIndex:-1,children:"Add employee"}),(0,O.tZ)(Y.x,{as:"p",color:"muted",fontSize:"md",children:"Provide your employee’s name and email."}),(0,O.tZ)(G.z,{})]}),(0,O.tZ)(v.K,{gap:1.5,width:"100%",children:(0,O.BX)(v.K,{as:"form",gap:3,noValidate:!0,onSubmit:N(function(e){$(!0),setTimeout(function(){var t;$(!1),A({employee:[].concat((0,eg.Z)((null===(t=D)||void 0===t?void 0:t.employee)||[]),[e.employee]).sort(function(e,t){return!(null!=e&&e.firstName)||!(null!=t&&t.firstName)||!(null!=e&&e.lastName)||!t.lastName||e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:e.firstName.toLowerCase()>t.firstName.toLowerCase()?1:e.lastName.toLowerCase()<t.lastName.toLowerCase()?-1:e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:0}),completed:!1,edited:null!=B&&!!B.match||void 0}),h.push("".concat(Q,"?success=").concat(j.current))},1500)}),children:[(0,O.BX)(E.R,{children:[et&&(0,O.tZ)(J.v,{errors:ee}),(0,O.tZ)("input",tL(tL({},I("employee.id")),{},{id:"id",required:!0,type:"hidden",value:j.current})),(0,O.tZ)(_.o,tL(tL({},I("employee.firstName")),{},{autoComplete:"given-name",id:"firstName",invalid:!!(null==H||null===(e=H.employee)||void 0===e||null===(e=e.firstName)||void 0===e?void 0:e.message),label:"First name",maxWidth:"lg",message:null==H||null===(t=H.employee)||void 0===t||null===(t=t.firstName)||void 0===t?void 0:t.message,required:!0})),(0,O.tZ)(_.o,tL(tL({},I("employee.lastName")),{},{autoComplete:"family-name",id:"lastName",invalid:!!(null==H||null===(n=H.employee)||void 0===n||null===(n=n.lastName)||void 0===n?void 0:n.message),label:"Last name",maxWidth:"lg",message:null==H||null===(i=H.employee)||void 0===i||null===(i=i.lastName)||void 0===i?void 0:i.message,required:!0})),(0,O.tZ)(_.o,tL(tL({},I("employee.email")),{},{autoComplete:"email",id:"email",invalid:!!(null==H||null===(a=H.employee)||void 0===a||null===(a=a.email)||void 0===a?void 0:a.message),label:"Email address",maxWidth:"xl",message:null==H||null===(d=H.employee)||void 0===d||null===(d=d.email)||void 0===d?void 0:d.message,required:!0,type:"email"}))]}),(0,O.tZ)(p.i,{}),(0,O.BX)(u.hE,{children:[(0,O.tZ)(u.zx,{loading:L,type:"submit",children:"Add employee"}),(0,O.tZ)(u.zx,{onClick:function(){h.push(Q)},variant:"tertiary",children:"Cancel"})]})]})})]})})]})}var tV=n(97652);function tW(){return(0,O.tZ)(tA.F,{title:(0,O.tZ)(tA.C,{as:"h2",children:"This section of the form is not ready to be completed"}),tone:"warning",children:(0,O.tZ)(Y.x,{as:"p",children:"Before starting this part of the form, you will need to go back and complete all of the previous sections."})})}var tK=n(67637),tY={name:"1d3w5wq",styles:"width:100%"};function t_(){return(0,O.tZ)("div",{css:tY,children:(0,O.tZ)(A.E,{title:"Errors detected. Please edit your answers in this section.",tone:"errorHigh"})})}function tG(){var e,t,n,i,l,a,s,d,c,p,m,f,h,b,y,Z,S,w,P,x,j,B,C,D,E,R,X,I,N,q,H,F,L,z,V,W,K,_,G,J=(0,r.t)().formState,U=(0,o.useRouter)().query,$=(0,T.useState)(!1),Q=$[0],ee=$[1],et={stepOwnerDetails:M.ZA.safeParse(null===(e=J.steps)||void 0===e?void 0:e.stepOwnerDetails),stepBusinessDetails:M.jt.safeParse(null===(t=J.steps)||void 0===t?void 0:t.stepBusinessDetails),stepBusinessAddress:M.q8.safeParse(null===(n=J.steps)||void 0===n?void 0:n.stepBusinessAddress),stepVehicleRegistration:M.e0.safeParse(null===(i=J.steps)||void 0===i?void 0:i.stepVehicleRegistration),stepTradingTime:M.qb.safeParse(null===(l=J.steps)||void 0===l?void 0:l.stepTradingTime),stepFoodServed:M.yu.safeParse(null===(a=J.steps)||void 0===a?void 0:a.stepFoodServed),stepEmployees:{success:null===(s=J.steps)||void 0===s||null===(s=s.stepEmployees)||void 0===s||null===(s=s.employee)||void 0===s?void 0:s.every(function(e){return M.fH.safeParse(e)})},stepUploadDocuments:M.GZ.safeParse(null===(d=J.steps)||void 0===d?void 0:d.stepUploadDocuments)};return(0,O.BX)(v.K,{gap:3,children:[(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepOwnerDetails.label}),(null==U?void 0:U.success)==="stepOwnerDetails"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Owner details has been updated",tone:"successHigh"}),et.stepOwnerDetails.success?(0,O.BX)(tK.xL,{children:[(0,O.tZ)(tK.VY,{label:"First name",value:null===(c=J.steps)||void 0===c||null===(c=c.stepOwnerDetails)||void 0===c?void 0:c.firstName}),(0,O.tZ)(tK.VY,{label:"Last name",value:null===(p=J.steps)||void 0===p||null===(p=p.stepOwnerDetails)||void 0===p?void 0:p.lastName}),(0,O.tZ)(tK.VY,{label:"Email address",value:null===(m=J.steps)||void 0===m||null===(m=m.stepOwnerDetails)||void 0===m?void 0:m.email}),(0,O.tZ)(tK.VY,{label:"Mobile number",value:null===(f=J.steps)||void 0===f||null===(f=f.stepOwnerDetails)||void 0===f?void 0:f.mobileNumber}),(0,O.tZ)(tK.VY,{label:"Preferred contact method",value:null===(h=J.steps)||void 0===h||null===(h=h.stepOwnerDetails)||void 0===h?void 0:h.contactMethod})]}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepOwnerDetails.changeHref,variant:"text",children:g.g.stepOwnerDetails.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepBusinessDetails.label}),(null==U?void 0:U.success)==="stepBusinessDetails"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Business details has been updated",tone:"successHigh"}),et.stepBusinessDetails.success?(0,O.BX)(tK.xL,{children:[(0,O.tZ)(tK.VY,{label:"Business name",value:null===(b=J.steps)||void 0===b||null===(b=b.stepBusinessDetails)||void 0===b?void 0:b.businessName}),(0,O.tZ)(tK.VY,{label:"Trading name",value:null===(y=J.steps)||void 0===y||null===(y=y.stepBusinessDetails)||void 0===y?void 0:y.tradingName}),(0,O.tZ)(tK.VY,{label:"Business structure",value:null===(Z=J.steps)||void 0===Z||null===(Z=Z.stepBusinessDetails)||void 0===Z?void 0:Z.businessStructure}),["Business","Sole trader"].includes((null===(S=J.steps)||void 0===S||null===(S=S.stepBusinessDetails)||void 0===S?void 0:S.businessStructure)||"")?(0,O.tZ)(tK.VY,{label:"Australian Business Number (ABN)",value:null===(w=J.steps)||void 0===w||null===(w=w.stepBusinessDetails)||void 0===w?void 0:w.abn}):(null===(P=J.steps)||void 0===P||null===(P=P.stepBusinessDetails)||void 0===P?void 0:P.businessStructure)==="Company"?(0,O.tZ)(tK.VY,{label:"Australian Company Number (ACN)",value:null===(x=J.steps)||void 0===x||null===(x=x.stepBusinessDetails)||void 0===x?void 0:x.acn}):null]}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepBusinessDetails.changeHref,variant:"text",children:g.g.stepBusinessDetails.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepBusinessAddress.label}),(null==U?void 0:U.success)==="stepBusinessstepBusinessAddressDetails"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Business address has been updated",tone:"successHigh"}),et.stepBusinessAddress.success?(0,O.BX)(tK.xL,{children:[(0,O.tZ)(tK.Zu,{address:null===(j=J.steps)||void 0===j||null===(j=j.stepBusinessAddress)||void 0===j?void 0:j.streetAddress,label:"Street address",postcode:null===(B=J.steps)||void 0===B||null===(B=B.stepBusinessAddress)||void 0===B?void 0:B.postcode,state:null===(C=J.steps)||void 0===C||null===(C=C.stepBusinessAddress)||void 0===C?void 0:C.state,suburb:null===(D=J.steps)||void 0===D||null===(D=D.stepBusinessAddress)||void 0===D?void 0:D.suburbTownCity}),null!==(E=J.steps)&&void 0!==E&&null!==(E=E.stepBusinessAddress)&&void 0!==E&&E.isPostalAddressSameAsBusinessAddress?(0,O.tZ)(tK.VY,{label:"Postal address",value:"Same as street address"}):(0,O.tZ)(tK.Zu,{address:null===(R=J.steps)||void 0===R||null===(R=R.stepBusinessAddress)||void 0===R?void 0:R.postalAddress,label:"Postal address",postcode:null===(X=J.steps)||void 0===X||null===(X=X.stepBusinessAddress)||void 0===X?void 0:X.postalPostcode,state:null===(I=J.steps)||void 0===I||null===(I=I.stepBusinessAddress)||void 0===I?void 0:I.postalState,suburb:null===(N=J.steps)||void 0===N||null===(N=N.stepBusinessAddress)||void 0===N?void 0:N.postalSuburbTownCity})]}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepBusinessAddress.changeHref,variant:"text",children:g.g.stepBusinessAddress.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepVehicleRegistration.label}),(null==U?void 0:U.success)==="stepVehicleRegistration"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Vehicle registration has been updated",tone:"successHigh"}),et.stepVehicleRegistration.success?(0,O.BX)(tK.xL,{children:[(0,O.tZ)(tK.VY,{label:"Vehicle registration number",value:null===(q=J.steps)||void 0===q||null===(q=q.stepVehicleRegistration)||void 0===q?void 0:q.registrationNumber}),(0,O.tZ)(tK.ge,{label:"Registration expiry date",value:null===(H=J.steps)||void 0===H||null===(H=H.stepVehicleRegistration)||void 0===H?void 0:H.registrationExpiry})]}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepVehicleRegistration.changeHref,variant:"text",children:g.g.stepVehicleRegistration.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepTradingTime.label}),(null==U?void 0:U.success)==="stepTradingTime"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Trading time has been updated",tone:"successHigh"}),et.stepTradingTime.success?(0,O.BX)(tK.xL,{children:[(0,O.tZ)(tK._c,{fromLabel:"Start date",fromValue:null===(F=J.steps)||void 0===F||null===(F=F.stepTradingTime)||void 0===F||null===(F=F.tradingPeriod)||void 0===F?void 0:F.from,toLabel:"End date",toValue:null===(L=J.steps)||void 0===L||null===(L=L.stepTradingTime)||void 0===L||null===(L=L.tradingPeriod)||void 0===L?void 0:L.to}),(0,O.tZ)(tK.VY,{label:"Trading hours",value:"".concat(null===(z=J.steps)||void 0===z||null===(z=z.stepTradingTime)||void 0===z||null===(z=z.openingTime)||void 0===z?void 0:z.formatted," - ").concat(null===(V=J.steps)||void 0===V||null===(V=V.stepTradingTime)||void 0===V||null===(V=V.closingTime)||void 0===V?void 0:V.formatted)})]}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepTradingTime.changeHref,variant:"text",children:g.g.stepTradingTime.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{children:g.g.stepFoodServed.label}),(null==U?void 0:U.success)==="stepFoodServed"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Food served has been updated",tone:"successHigh"}),et.stepFoodServed.success?(0,O.tZ)(tK.xL,{children:(0,O.tZ)(tK.VY,{label:"Food served",value:null===(W=J.steps)||void 0===W||null===(W=W.stepFoodServed)||void 0===W||null===(W=W.foodServed)||void 0===W?void 0:W.map(function(e){return null==e?void 0:e.label}).join(", ")})}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepFoodServed.changeHref,variant:"text",children:g.g.stepFoodServed.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{id:"employees-heading",children:g.g.stepEmployees.label}),(null==U?void 0:U.success)==="stepEmployees"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Employees has been updated",tone:"successHigh"}),et.stepEmployees.success?(0,O.tZ)(tR.y6,{children:(0,O.BX)(tR.iA,{"aria-labelledby":"employees-heading",children:[(0,O.tZ)(tR.ss,{children:(0,O.BX)(tR.SC,{children:[(0,O.tZ)(tR.xD,{width:"33%",children:"Employee name"}),(0,O.tZ)(tR.xD,{children:"Email address"})]})}),(0,O.tZ)(tR.RM,{children:null===(K=J.steps)||void 0===K||null===(K=K.stepEmployees)||void 0===K||null===(K=K.employee)||void 0===K?void 0:K.map(function(e){return(null==e?void 0:e.id)&&(0,O.BX)(tR.SC,{children:[(0,O.BX)(tR.pj,{children:[e.firstName," ",e.lastName]}),(0,O.tZ)(tR.pj,{children:e.email})]},e.id)})})]})}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepEmployees.changeHref,variant:"text",children:g.g.stepEmployees.changeLabel})]}),(0,O.BX)(v.K,{gap:1.5,children:[(0,O.tZ)(k.H2,{id:"upload-documents-heading",children:g.g.stepUploadDocuments.label}),(null==U?void 0:U.success)==="stepUploadDocuments"&&!Q&&(0,O.tZ)(A.E,{focusOnMount:!0,onClose:function(){ee(!0)},title:"Uploaded documents has been updated",tone:"successHigh"}),et.stepUploadDocuments.success?(0,O.tZ)(tR.y6,{children:(0,O.BX)(tR.iA,{"aria-labelledby":"upload-documents-heading",children:[(0,O.tZ)(tR.ss,{children:(0,O.BX)(tR.SC,{children:[(0,O.tZ)(tR.xD,{width:"33%",children:"Document type"}),(0,O.tZ)(tR.xD,{children:"File"})]})}),(0,O.tZ)(tR.RM,{children:(null===(_=J.steps)||void 0===_||null===(_=_.stepUploadDocuments)||void 0===_?void 0:_.files)&&(null===(G=Object.entries(J.steps.stepUploadDocuments.files))||void 0===G?void 0:G.map(function(e){var t=(0,eb.Z)(e,2),n=t[0],r=t[1],i=r.file,o=r.size;return(0,O.BX)(tR.SC,{children:[(0,O.tZ)(tR.pj,{children:tV.W[n]}),(0,O.tZ)(tR.pj,{children:(0,O.tZ)(Y.x,{breakWords:!0,children:"".concat(i||""," (").concat(o,")")})})]},n)}))})]})}):(0,O.tZ)(t_,{}),(0,O.tZ)(u.ZP,{alignSelf:"start",href:g.g.stepUploadDocuments.changeHref,variant:"text",children:g.g.stepUploadDocuments.changeLabel})]})]})}function tJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tJ(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tJ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t$(){var e,t,n,i,a=(0,r.t)(),d=a.isSavingBeforeExiting,u=a.stepReviewAndSubmitSetState,p=(0,x.G)(),m=p.submitStep,f=p.canConfirmAndSubmit,v=(0,o.useRouter)().query,b=(0,l.cI)({resolver:(0,s.F)(M.bs),mode:"onSubmit",reValidateMode:"onBlur"}),y=b.register,Z=b.handleSubmit,S=b.formState.errors,w=(e=(0,j.Z)(C().mark(function e(t){return C().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m();case 4:u(tU(tU({},t),{},{completed:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),P=Object.keys(S).length>1,B=!["stepOwnerDetails","stepBusinessDetails","stepBusinessAddress","stepVehicleRegistration","stepTradingTime","stepFoodServed","stepEmployees","stepUploadDocuments"].includes("string"==typeof v.success?v.success:"");return(0,O.tZ)(I.Y,{formIntroduction:"Check and confirm all details on this page.",formTitle:g.g.stepReviewAndSubmit.label,hideRequiredFieldsMessage:!0,shouldFocusTitle:B,children:f?(0,O.BX)(T.Fragment,{children:[(0,O.tZ)(tG,{}),(0,O.tZ)(N.l,{onSubmit:Z(w),submitText:"Submit application",children:(0,O.BX)(E.R,{children:[(0,O.tZ)(k.H2,{children:"Declaration"}),(0,O.BX)(Y.x,{as:"p",children:["You must agree to the"," ",(0,O.tZ)(h.z,{href:"/not-found",children:"Terms of Use"}),", the"," ",(0,O.tZ)(h.z,{href:"/not-found",children:"Privacy Policy"})," ","and the"," ",(0,O.tZ)(h.z,{href:"/not-found",children:"Privacy Notice"})," ","to continue."]}),(0,O.BX)(c.e,{block:!0,id:"checkbox",invalid:P||!!(S.declaration1||S.declaration2||S.declaration3),message:P?"Accept all declarations to continue":(null===(t=S.declaration1)||void 0===t?void 0:t.message)||(null===(n=S.declaration2)||void 0===n?void 0:n.message)||(null===(i=S.declaration3)||void 0===i?void 0:i.message),required:!0,children:[(0,O.tZ)(eo.X,tU(tU({},y("declaration1")),{},{children:"I have read, understood and agree to be bound by the Terms of Use, The Privacy Policy and the Privacy notice."})),(0,O.tZ)(eo.X,tU(tU({},y("declaration2")),{},{children:"I understand and agree that any information I provide to the Export Service may be used in relation to other Services in order to improve the Export Service experience."})),(0,O.tZ)(eo.X,tU(tU({},y("declaration3")),{},{children:"I understand and consent to the Department using the personal information, sensitive information, and/or relevant information (within the meaning of the Export Control Act 2020 (Cth) and the Privacy Act 1988 (Cth)) I provide for the purposes of facilitating my access to, and ability to perform export activities in, the Export Service."}))]})]})})]}):(0,O.tZ)(tW,{})})}},16950:function(e,t,n){n.d(t,{l:function(){return v}});var r=n(96778),i=n(11246),o=n(27378),l=n(58229),a=n(25294),s=n(92288),d=n(73474),u=n(72320),c=n(161),p=n(87800);function m(e){var t=e.hasSaveAndExit,n=e.onCancel,m=e.submitText,f=(0,d.hb)(!1),v=(0,i.Z)(f,3),h=v[0],b=v[1],g=v[2],y=(0,c.t)(),O=y.isSubmittingStep,Z=y.saveAndExit,S=y.isSavingBeforeExiting,w=y.cancel;return(0,p.BX)(o.Fragment,{children:[(0,p.BX)(r.K,{gap:3,children:[(0,p.tZ)(u.i,{}),(0,p.BX)(l.hE,{children:[(0,p.tZ)(l.zx,{loading:O,type:"submit",variant:"primary",children:void 0===m?"Save and continue":m}),(void 0===t||t)&&(0,p.tZ)(l.zx,{loading:S,onClick:Z,type:"submit",variant:"secondary",children:"Save and exit"}),(0,p.tZ)(l.zx,{onClick:b,type:"button",variant:"tertiary",children:"Cancel"})]})]}),(0,p.tZ)(a.u,{actions:(0,p.BX)(l.hE,{children:[(0,p.tZ)(l.zx,{onClick:function(){n&&n(),w()},children:"Yes, cancel"}),(0,p.tZ)(l.zx,{onClick:g,variant:"secondary",children:"No, take me back"})]}),isOpen:h,onClose:g,title:"Are you sure you want to cancel?",children:(0,p.tZ)(s.x,{as:"p",children:"If you cancel, you will lose all information entered."})})]})}var f=n(72604),v=function(e){var t=e.children,n=e.noValidate,i=e.onEditCancel,o=e.onSubmit,l=e.submitText,a=(0,f.M)();return(0,p.BX)(r.K,{as:"form",gap:3,noValidate:void 0===n||n,onSubmit:o,children:[t,null!=a&&a.match?(0,p.tZ)(m,{hasSaveAndExit:!1,onCancel:i,submitText:"Save changes"}):(0,p.tZ)(m,{submitText:l})]})}},47223:function(e,t,n){n.d(t,{Y:function(){return h}});var r=n(27378),i=n(86677),o=n(84315),l=n(23969),a=n(28283),s=n(4776),d=n(96778),u=n(72604),c=n(161),p=n(20547),m=n(66847),f=n(88096),v=n(87800);function h(e){var t=e.formTitle,n=e.formIntroduction,h=e.formCallToAction,b=e.children,g=e.hideRequiredFieldsMessage,y=e.shouldFocusTitle,O=(0,i.useRouter)().pathname,Z=(0,c.t)(),S=Z.formState,w=Z.startApplication,P=(0,m.G)(),x=P.backHref,j=P.backLabel,B=P.canConfirmAndSubmit,C=(0,u.M)(),T=(0,u.$)();return(0,r.useEffect)(function(){w()},[w]),(0,v.BX)(o.o,{children:[(0,v.tZ)(o.s,{columnSpan:{xs:12,md:4,lg:3},children:(0,v.tZ)(l.ef,{visible:{md:!1},children:(0,v.tZ)(s.YF,{activePath:T,items:f.t.map(function(e,t){var n,r,i,o,l,a,s=e.label;return{href:e.href,label:s,status:(r=f.t[t],i=null===(n=S.steps)||void 0===n?void 0:n[r.formStateKey],r.href===O?"started":null!=i&&i.completed?"done":null!=i&&i.started?"started":"stepReviewAndSubmit"!==r.formStateKey||B?C?"started":"todo":"blocked"),items:t===f.t.length-1&&T===(null==C||null===(o=C.match)||void 0===o?void 0:o.changeHref)?[{href:null==C||null===(l=C.match)||void 0===l?void 0:l.changeHref,label:null==C||null===(a=C.match)||void 0===a?void 0:a.changeLabel}]:void 0}})})})}),(0,v.tZ)(o.s,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,v.BX)(d.K,{alignItems:"flex-start",gap:3,children:[(0,v.tZ)(a.z,{direction:"left",href:x,children:j}),(0,v.tZ)(p.Y,{callToAction:h,hideRequiredFieldsMessage:g,introduction:n,shouldFocusTitle:void 0===y||y,title:t,children:b})]})})]})}},66847:function(e,t,n){n.d(t,{G:function(){return b},R:function(){return h}});var r=n(55732),i=n(90089),o=n(50824),l=n.n(o),a=n(86677),s=n(27378),d=n(72604),u=n(161),c=n(21855),p=n(88096),m=n(87800),f=["pathname"],v=(0,s.createContext)(void 0);function h(e){var t,n,o=e.children,h=(0,a.useRouter)(),b=h.pathname,g=(0,i.Z)(h,f),y=(0,u.t)(),O=y.setIsSubmittingStep,Z=y.formState,S=y.isSavingBeforeExiting,w=p.t.findIndex(function(e){return e.href===b}),P=(0,d.M)(),x=(0,s.useCallback)((0,r.Z)(l().mark(function e(){var t;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=2;break}return e.abrupt("return");case 2:return O(!0),e.next=5,new Promise(function(e){return setTimeout(e,1500)});case 5:t=(0,c.uY)({currentStepIndex:w,id:Z.id,editingStep:{depth:null==P?void 0:P.depth,match:null==P?void 0:P.match},steps:p.t}),g.push(t),O(!1);case 8:case"end":return e.stop()}},e)})),[w,Z,P,S,g,O]),j="".concat(null!==(t=null===(n=null!=P&&P.match?p.t.at(-1):p.t[w-1])||void 0===n?void 0:n.href)&&void 0!==t?t:c.Pl),B=null!=P&&P.match?"Back to review and submit":"Back",C=(0,s.useMemo)(function(){var e,t,n,r,i,o,l,a;return null!==(e=Z.steps)&&void 0!==e&&null!==(e=e.stepOwnerDetails)&&void 0!==e&&!!e.completed&&null!==(t=Z.steps)&&void 0!==t&&null!==(t=t.stepBusinessDetails)&&void 0!==t&&!!t.completed&&null!==(n=Z.steps)&&void 0!==n&&null!==(n=n.stepBusinessAddress)&&void 0!==n&&!!n.completed&&null!==(r=Z.steps)&&void 0!==r&&null!==(r=r.stepVehicleRegistration)&&void 0!==r&&!!r.completed&&null!==(i=Z.steps)&&void 0!==i&&null!==(i=i.stepTradingTime)&&void 0!==i&&!!i.completed&&null!==(o=Z.steps)&&void 0!==o&&null!==(o=o.stepFoodServed)&&void 0!==o&&!!o.completed&&null!==(l=Z.steps)&&void 0!==l&&null!==(l=l.stepEmployees)&&void 0!==l&&!!l.completed&&null!==(a=Z.steps)&&void 0!==a&&null!==(a=a.stepUploadDocuments)&&void 0!==a&&!!a.completed},[Z]);return(0,m.tZ)(v.Provider,{value:{backHref:j,backLabel:B,submitStep:x,canConfirmAndSubmit:C},children:o})}function b(){var e=(0,s.useContext)(v);if(!e)throw Error("Context provider not found");return e}},97145:function(e,t,n){n.d(t,{GZ:function(){return m},P$:function(){return v},Qu:function(){return h},ZA:function(){return o},bs:function(){return f},e0:function(){return d},fH:function(){return p},jt:function(){return a},pp:function(){return b},q8:function(){return s},qb:function(){return u},ws:function(){return l},yu:function(){return c}});var r=n(84200),i=n(23372),o=r.z.object({firstName:(0,i.Jg)("First name is required"),lastName:(0,i.Jg)("Last name is required"),email:(0,i.Jg)("Email address is required").email("Email address is invalid"),mobileNumber:(0,i.ME)(),contactMethod:(0,i.ly)()}),l=r.z.object({contactMethod:(0,i.Jg)("Preferred contact method is required")}),a=r.z.object({businessName:(0,i.Jg)("Business or company name is required"),tradingName:(0,i.ly)(),businessStructure:(0,i.Jg)("Business structure is required"),abn:(0,i.ly)(),acn:(0,i.ly)()}).refine(function(e){return!["Business","Sole trader"].includes(e.businessStructure)||!!e.abn},{path:["abn"],message:"ABN is required"}).refine(function(e){return"Company"!==e.businessStructure||!!e.acn},{path:["acn"],message:"ACN is required"}),s=r.z.object({streetAddress:(0,i.Jg)("Street address is required"),suburbTownCity:(0,i.Jg)("Suburb, town or city is required"),state:(0,i.Jg)("State or territory is required"),postcode:(0,i.Jg)("Postcode is required").length(4,{message:"Postcode must be 4 digits"}),isPostalAddressSameAsBusinessAddress:r.z.boolean(),postalAddress:(0,i.ly)(),postalSuburbTownCity:(0,i.ly)(),postalState:(0,i.ly)(),postalPostcode:(0,i.ly)()}).superRefine(function(e,t){function n(e,n,i){t.addIssue({code:r.NL.invalid_string,message:i||"".concat(n," is required"),validation:{includes:""},path:[e]})}e.isPostalAddressSameAsBusinessAddress||(e.postalAddress||n("postalAddress","Postal address"),e.postalSuburbTownCity||n("postalSuburbTownCity","Suburb, town or city"),e.postalState||n("postalState","State or territory"),e.postalPostcode?4!==e.postalPostcode.length&&n("postalPostcode","Postcode","Postcode must be 4 digits"):n("postalPostcode","Postcode"))}),d=r.z.object({registrationNumber:r.z.string().transform(function(e){return e.replace(/\s+/g,"")}).pipe(r.z.string().min(1,{message:"Vehicle registration number is required"}).max(6,"Registration number can not be longer than 6 characters")),registrationExpiry:(0,i.MG)("Registration expiry date is required")}),u=r.z.object({tradingPeriod:r.z.object({from:(0,i.MG)("Start date is required"),to:(0,i.MG)("End date is required")}),openingTime:(0,i.AY)({label:"Opening time"}),closingTime:(0,i.AY)({label:"Closing time"})}),c=r.z.object({foodServed:(0,i.b5)(r.z.object({label:(0,i.Jg)(),value:(0,i.Jg)()}),"Food types is required")}),p=r.z.object({employee:r.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("First name is required"),lastName:(0,i.Jg)("Last name is required"),email:(0,i.Jg)("Email address is required").email("Email address is invalid")})}),m=r.z.object({files:r.z.object({"rms-vehicle-registration":r.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()}),"suggested-menu-or-list-of-foods-being-sold":r.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()})})}),f=r.z.object({declaration1:r.z.boolean().refine(function(e){return e},"Accept the first declaration to continue"),declaration2:r.z.boolean().refine(function(e){return e},"Accept the second declaration to continue"),declaration3:r.z.boolean().refine(function(e){return e},"Accept the third declaration to continue")}),v={stepOwnerDetails:{firstName:"Charlie",lastName:"Walker",email:"c.walker@email.com",mobileNumber:"0494 811 111",completed:!1},stepBusinessAddress:{isPostalAddressSameAsBusinessAddress:!0,completed:!1},stepEmployees:{employee:[]},stepUploadDocuments:{files:{"rms-vehicle-registration":{file:"",size:""},"suggested-menu-or-list-of-foods-being-sold":{file:"",size:""}}}},h=r.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("First name is required"),lastName:(0,i.Jg)("Last name is required"),email:(0,i.Jg)("Email address is required").email("Email address is invalid"),mobile:(0,i.ME)("Mobile number"),role:r.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Role is required"}}}),trainingCompleted:r.z.array(r.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))}),b=r.z.object({role:r.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Role is required"}}}),trainingCompleted:r.z.array(r.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))})},97652:function(e,t,n){n.d(t,{l:function(){return q},W:function(){return N}});var r=n(55732),i=n(44285),o=n(11246),l=n(90849),a=n(50824),s=n.n(a),d=n(27378),u=n(96778),c=n(58229),p=n(73474),m=n(24377),f=n(18613),v=n(77797),h=n(89236),b=n(1577),g=n(92288),y=n(48050),O=n(73933),Z=n(34456),S=n(72604),w=n(161),P=n(18607),x=n(61449),j=n(7150),B=n(87800),C=(0,d.forwardRef)(function(e,t){var n=e.ariaLabelledby,r=e.documents,i=e.openDrawer,o=e.removeFile,l=e.tableId;return(0,B.tZ)(u.K,{gap:.5,children:(0,B.tZ)(P.y6,{children:(0,B.BX)(P.iA,{"aria-labelledby":n,id:l,ref:t,tabIndex:-1,tableLayout:"fixed",children:[(0,B.tZ)(P.ss,{children:(0,B.tZ)(P.SC,{"aria-rowindex":1,children:T.map(function(e){var t=e.label,n=e.width;return(0,B.tZ)(P.xD,{scope:"col",width:n,children:t},t)})})}),(0,B.tZ)(P.RM,{children:r.map(function(e,t){var n=e.id,r=e.documentType,l=e.error,a=e.file,s=e.size;return(0,B.BX)(P.SC,{"aria-rowindex":t+2,invalid:l,children:[(0,B.tZ)(P.pj,{as:"th",id:"document-type-".concat(n),scope:"row",children:r}),(0,B.tZ)(P.pj,{children:(0,B.tZ)(g.x,{breakWords:!0,children:a})}),(0,B.tZ)(P.pj,{children:l?(0,B.tZ)(j.O,{appearance:"subtle",label:"File missing",tone:"errorHigh"}):s}),(0,B.tZ)(P.pj,{children:s?(0,B.tZ)(c.zx,{"aria-describedby":"document-type-".concat(n),focusRingFor:"all",iconBefore:x.pJ,onClick:function(){return o(e)},variant:"text",children:"Remove"}):(0,B.tZ)(c.zx,{"aria-describedby":"document-type-".concat(n),focusRingFor:"all",iconBefore:x.rG,id:n,onClick:function(){return i({id:n,documentType:r,error:l,file:a,size:s})},variant:"text",children:"Upload"})})]},r)})})]})})})}),T=[{label:"Document type",width:"16rem"},{label:"File",width:{xs:"10rem",xl:"16rem"}},{label:"Size",width:"10rem"},{label:"Action",width:"8rem"}],D=n(66847),E=n(47223),k=n(16950),A=n(88096);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,l.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M="upload-documents-heading",I=[{documentType:"RMS Vehicle registration",file:"",size:"",id:"rms-vehicle-registration",error:!1},{documentType:"Suggested menu or list of foods being sold",file:"",size:"",id:"suggested-menu-or-list-of-foods-being-sold",error:!1}],N={"rms-vehicle-registration":"RMS Vehicle registration","suggested-menu-or-list-of-foods-being-sold":"Suggested menu or list of foods being sold"};function q(){var e,t,n,l=(0,w.t)(),a=l.stepUploadDocumentsGetState,P=l.stepUploadDocumentsSetState,x=l.isSavingBeforeExiting,j=(0,D.G)().submitStep,T=(0,S.M)(),R=(0,d.useRef)(null),N=(0,d.useRef)(null),q=(a()||{}).files,H=void 0===q?{}:q,F=(0,d.useState)(I.map(function(e){var t,n;return X(X({},e),{},{file:(null==H||null===(t=H[e.id])||void 0===t?void 0:t.file)||"",size:(null==H||null===(n=H[e.id])||void 0===n?void 0:n.size)||""})})),L=F[0],z=F[1],V=(0,d.useState)(),W=V[0],K=V[1],Y=(0,d.useState)([]),_=Y[0],G=Y[1],J=(0,p.hb)(!1),U=(0,o.Z)(J,3),$=U[0],Q=U[1],ee=U[2],et=(0,d.useState)([]),en=et[0],er=et[1],ei=(0,d.useState)(!1),eo=ei[0],el=ei[1],ea=(0,d.useRef)(null),es=function(){er([]),ee(),el(!1)};(0,d.useEffect)(function(){(en.length||W)&&setTimeout(function(){var e;null===(e=N.current)||void 0===e||e.focus()},500)},[en,W]);var ed=function(){var e=L.map(function(e){return e.file?e:X(X({},e),{},{error:!0})}),t=e.reduce(function(e,t){return t.file?e:[].concat((0,i.Z)(e),[{documentType:t.documentType,href:"#".concat(t.id),message:"".concat(t.documentType," is required"),name:"files"}])},[]);return K(void 0),z(e),G(t),{hasErrors:e.some(function(e){return e.error})}},eu=(e=(0,r.Z)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.preventDefault(),!x){e.next=3;break}return e.abrupt("return");case 3:if(!ed().hasErrors){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,j();case 8:P({files:Object.fromEntries(L.map(function(e){var t=e.file;return[e.id,{file:t,size:e.size}]})),completed:!x});case 9:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),ec=W&&!$;return(0,B.BX)(E.Y,{formIntroduction:"Upload all documents listed in the table below.",formTitle:A.g.stepUploadDocuments[null!=T&&T.match?"changeLabel":"label"],hideRequiredFieldsMessage:!0,children:[(0,B.BX)(u.K,{gap:2,children:[(0,B.BX)(u.K,{gap:1,children:[(0,B.tZ)(y.xu,{css:_.length?void 0:{display:"none"},children:(0,B.tZ)(h.E,{focusOnUpdate:_,onClose:function(){return G([])},ref:R,tabIndex:-1,title:"You must provide all documents in the table below",tone:"errorHigh",children:(0,B.tZ)(u.K,{alignItems:"flex-start",gap:.5,children:(0,B.tZ)(f.QI,{children:_.map(function(e){var t=e.href,n=e.message;return(0,B.tZ)(f.HC,{children:(0,B.tZ)(v.h,{href:t,children:n})},t)})})})})}),(0,B.tZ)(y.xu,{css:ec?void 0:{display:"none"},children:(0,B.tZ)(h.E,{onClose:function(){return K(void 0)},ref:N,tabIndex:-1,title:"".concat(null==W?void 0:W.documentType," updated"),tone:"successHigh",children:(0,B.BX)(g.x,{as:"p",breakWords:!0,children:[(null===(t=L.find(function(e){return e.id===(null==W?void 0:W.id)}))||void 0===t?void 0:t.file)||"Your file"," ","has been"," ",null!==(n=L.find(function(e){return e.id===(null==W?void 0:W.id)}))&&void 0!==n&&n.file?"added":"removed","."]})})}),(0,B.tZ)(O.H2,{css:Z.JM,id:M,children:"Upload documents"}),(0,B.tZ)(C,{ariaLabelledby:M,documents:L,openDrawer:function(e){G([]),Q(),K(e)},removeFile:function(e){G([]),z(function(t){return t.map(function(t){return(null==e?void 0:e.documentType)===t.documentType?X(X({},t),{},{file:"",size:""}):t})}),K(e)},tableId:"upload-file-table"})]}),(0,B.tZ)(m.d,{actions:(0,B.BX)(c.hE,{children:[(0,B.tZ)(c.zx,{form:"upload-document-form",onClick:function(){if(!en.length){var e;el(!0),null===(e=ea.current)||void 0===e||e.focus();return}z(L.map(function(e){var t;return(null==W?void 0:W.documentType)===e.documentType?X(X({},e),{},{file:(null===(t=en[0])||void 0===t?void 0:t.name)||"",size:en[0]?"".concat((0,b.s)(en[0].size)):"",error:!1}):e})),es()},children:"Upload file"}),(0,B.tZ)(c.zx,{onClick:function(){K(void 0),es()},variant:"secondary",children:"Cancel"})]}),elementToFocusOnClose:_.length?R.current:ec?N.current:void 0,isOpen:$,onClose:function(){K(void 0),es()},title:"Upload documents",children:(0,B.tZ)(u.K,{as:"form",id:"upload-document-form",children:(0,B.tZ)(b.p,{accept:["image/jpeg","application/pdf","image/png"],buttonRef:ea,hideOptionalLabel:!0,invalid:eo,label:"Upload ".concat(null==W?void 0:W.documentType),maxSize:2e3,message:"".concat(null==W?void 0:W.documentType," is required"),onChange:function(e){er(e),e.length&&el(!1)},required:!0,value:en})})})]}),(0,B.tZ)(k.l,{onSubmit:eu})]})}},88096:function(e,t,n){n.d(t,{g:function(){return s},t:function(){return a}});var r=n(90849),i=n(21855);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var a=[{formStateKey:"stepOwnerDetails",label:"Owner details",changeLabel:"Change owner details",href:i.Pl+"/steps/owner-details",changeHref:i.Pl+"/steps/review-and-submit/owner-details",items:[{formStateKey:"stepChangeOwnerDetails",changeLabel:"Change business owner details",label:"Change business owner details",href:i.Pl+"/steps/owner-details/change-details",changeHref:i.Pl+"/steps/review-and-submit/owner-details/change-details"}]},{formStateKey:"stepBusinessDetails",label:"Business details",changeLabel:"Change business details",href:i.Pl+"/steps/business-details",changeHref:i.Pl+"/steps/review-and-submit/business-details"},{formStateKey:"stepBusinessAddress",label:"Business address",changeLabel:"Change business address",href:i.Pl+"/steps/business-address",changeHref:i.Pl+"/steps/review-and-submit/business-address"},{formStateKey:"stepVehicleRegistration",label:"Vehicle registration",changeLabel:"Change vehicle registration",href:i.Pl+"/steps/vehicle-registration",changeHref:i.Pl+"/steps/review-and-submit/vehicle-registration"},{formStateKey:"stepTradingTime",label:"Trading time",changeLabel:"Change trading time",href:i.Pl+"/steps/trading-time",changeHref:i.Pl+"/steps/review-and-submit/trading-time"},{formStateKey:"stepFoodServed",label:"Food served",changeLabel:"Change food served",href:i.Pl+"/steps/food-served",changeHref:i.Pl+"/steps/review-and-submit/food-served"},{formStateKey:"stepEmployees",label:"Employees",changeLabel:"Change employees",href:i.Pl+"/steps/employees",changeHref:i.Pl+"/steps/review-and-submit/employees",items:[{formStateKey:"stepAddEmployee",changeLabel:"Add employee",label:"Add employee",href:i.Pl+"/steps/employees/add-employee",changeHref:i.Pl+"/steps/review-and-submit/employees/add-employee"}]},{formStateKey:"stepUploadDocuments",label:"Upload documents",changeLabel:"Change documents",href:i.Pl+"/steps/documents",changeHref:i.Pl+"/steps/review-and-submit/documents"},{formStateKey:"stepReviewAndSubmit",label:"Review and submit",changeLabel:"Change review and submit",href:i.Pl+"/steps/review-and-submit",changeHref:i.Pl+"/steps/review-and-submit/review-and-submit"}],s=a.reduce(function(e,t){return l(l({},e),{},(0,r.Z)({},t.formStateKey,t))},{})},21855:function(e,t,n){n.d(t,{Hv:function(){return s},LZ:function(){return o},Pl:function(){return a},nT:function(){return l},uY:function(){return d}});var r=n(93437),i=n(70048);function o(e){if("string"==typeof e){var t=(0,r.Z)(e);return(0,i.Z)(t)?t:void 0}return e}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).filter(Boolean).filter(function(e){return"object"==typeof e&&Object.keys(e).length>0}).length>1}var a="/app/permits/apply-for-new-permit/mobile-food-vendor-permit",s="/app/permits";function d(e){var t=e.currentStepIndex,n=e.id,r=e.editingStep,i=e.steps,o=null!=r&&r.match?i.at(-1):i[t+1];return null!=o&&o.href?"".concat(o.href).concat(null!=r&&r.match?"?success=".concat(r.match.formStateKey):""):"/app/permits/apply-for-new-permit/mobile-food-vendor-permit/success?id=".concat(n)}},72604:function(e,t,n){n.d(t,{$:function(){return l},M:function(){return a}});var r=n(86677),i=n(15912);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=function(){var e=(0,r.useRouter)(),t=e.query,n=e.route;return"".concat(n.replace("/[...slug]","")).concat(Array.isArray(null==t?void 0:t.slug)?"/".concat(t.slug.join("/")):"")},a=function(){var e=l();return function t(n){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,void 0)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,l=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw l}}}}(n);try{for(l.s();!(r=l.n()).done;){var a=r.value;if(a.changeHref===e)return{depth:i,match:a};if(a.items){var s=t(a.items,i+1);if(s)return s}}}catch(e){l.e(e)}finally{l.f()}}(i.t8)}},23372:function(e,t,n){n.d(t,{AY:function(){return s},Jg:function(){return i},ME:function(){return l},MG:function(){return a},b5:function(){return d},ly:function(){return o}});var r=n(84200);function i(e){return r.z.string({invalid_type_error:e,required_error:e}).trim().min(1,{message:e})}var o=function(){return r.z.string().trim().optional()};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Mobile number";return i("".concat(e," is required")).regex(/^[\d\s]+$/,{message:"".concat(e," ").concat("must not include letters or symbols")}).regex(/^0[42][\d\s]+$/,{message:"Mobile numbers must begin with ‘04’, landline numbers must begin with ‘02’"}).refine(function(e){return 10===e.replace(/\s/g,"").length},{message:"".concat(e," ").concat("must be 10 digits long")})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Date is invalid";return r.z.union([r.z.string({invalid_type_error:e,required_error:e}),r.z.date({invalid_type_error:e,required_error:e})]).pipe(r.z.coerce.date())}function s(e){var t=e.label,n=e.requiredMessage,o=void 0===n?"".concat(t," is required"):n,l=e.invalidMessage,a=void 0===l?"".concat(t," is invalid"):l;return r.z.object({value:i(o),formatted:i(o)},{required_error:o,invalid_type_error:a}).superRefine(function(e,t){e.value||t.addIssue({code:r.NL.invalid_string,message:o,validation:{includes:""}}),/^\d\d:\d\d$/.test(e.value)||t.addIssue({code:r.NL.invalid_string,message:a,validation:{includes:""}})})}function d(e,t){return r.z.array(e,{required_error:t}).nonempty({message:t})}}}]);