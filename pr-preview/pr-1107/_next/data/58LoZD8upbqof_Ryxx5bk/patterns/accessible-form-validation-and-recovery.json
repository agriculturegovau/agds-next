{"pageProps":{"breadcrumbs":[{"href":"/","label":"Home"},{"href":"/patterns","label":"Patterns"},{"label":"Accessible form validation and error recovery"}],"navLinks":[{"href":"/patterns/accessible-form-validation-and-recovery","label":"Accessible form validation and error recovery"},{"href":"/patterns/conditional-reveal","label":"Conditionally revealed questions"},{"href":"/patterns/filtering-a-dataset","label":"Filtering a dataset"},{"href":"/patterns/loading-error-empty-states","label":"Loading, empty and error states"},{"href":"/patterns/selecting-multiple-options","label":"Selecting multiple options"}],"pattern":{"slug":"accessible-form-validation-and-recovery","source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    ul: \"ul\",\n    li: \"li\",\n    a: \"a\",\n    h2: \"h2\",\n    p: \"p\",\n    pre: \"pre\",\n    code: \"code\",\n    ol: \"ol\",\n    strong: \"strong\"\n  }, _provideComponents(), props.components), {DoHeading, DontHeading} = _components;\n  if (!DoHeading) _missingMdxReference(\"DoHeading\", true);\n  if (!DontHeading) _missingMdxReference(\"DontHeading\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(DoHeading, {}), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"summarise the errors as a list inside of a \", _jsx(_components.a, {\n          href: \"/components/page-alert\",\n          children: \"Page alert\"\n        }), \" component with the 'error' tone when more than one form validation error has occurred\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [\"place the \", _jsx(_components.a, {\n          href: \"/components/page-alert\",\n          children: \"Page alert\"\n        }), \" component at the top of the page, below the breadcrumb or back button and above the H1, and focus immediately after a submission attempt\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"validate a form page when the user attempts to submit or save and continue\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"always display fields with form validation errors as invalid with error messages\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"retain the users input after an unsuccessful form submission\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(DontHeading, {}), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [\"use the \", _jsx(_components.a, {\n          href: \"/components/page-alert\",\n          children: \"Page alert\"\n        }), \" component if there is only one form validation error - instead focus the invalid field\"]\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"use HTML5 validation\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"validate a form when the user is typing\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"depend only on client-side validation - also use server-side validation\"\n      }), \"\\n\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"When to validate\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"A form should validate when a user attempts to submit the form. This should occur when the user presses the submit or save and continue button at the bottom of the form page.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This approach prevents interrupting users while they are still entering information. Real-time validation while the user is still typing can be problematic, especially for users who type slowly.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Retaining users input\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"It is important that users do not lose the data they have entered when they attempt to submit the form. Retaining the users input allows them to correct any errors without starting over.\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Summarising form validation errors\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"When more than one form validation error has occurred, form validation errors should be summarised as a list inside of a \", _jsx(_components.a, {\n        href: \"/components/page-alert\",\n        children: \"Page alert\"\n      }), \" component with the 'error' tone. The \", _jsx(_components.a, {\n        href: \"/components/page-alert\",\n        children: \"Page alert\"\n      }), \" component should be placed at the top of the form and focused immediately after a submission attempt to ensure it is visible and announced to screen reader users.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To helps users quickly identify and navigate to the problematic areas of the form, each error in the list should scroll and focus the user focus respective form field when clicked. This can be done with the \", _jsx(_components.a, {\n        href: \"/components/field#usescrolltofield\",\n        children: \"useScrollToField\"\n      }), \" hook.\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"If there is only one form validation error, the \", _jsx(_components.a, {\n        href: \"/components/page-alert\",\n        children: \"Page alert\"\n      }), \" component and error summary should not be displayed and the invalid form field should be focused immediately after a submission attempt.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Invalid form fields\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Form validation errors should also be displayed as invalid field error messages. Use the same error message in the invalid field and in the error summary, if there is more than one error, so they are consistent and reduce the cognitive effort needed to understand what has happened.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Below is an example of an invalid form field:\"\n    }), \"\\n\", _jsx(_components.pre, {\n      live: true,\n      children: _jsx(_components.code, {\n        className: \"language-jsx\",\n        children: \"<TextInput label=\\\"First name\\\" required invalid message=\\\"Enter a first name\\\" />\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Disabling HTML5 validation\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"HTML5 validation is a type of client-side validation built into browsers. However, it is not recommended for use with the AgDS due to the following reasons:\"\n    }), \"\\n\", _jsxs(_components.ol, {\n      children: [\"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Inconsistent visual style, placement and content:\"\n        }), \" HTML5 validation error messages cannot be made customised to be consistent with design system components\"]\n      }), \"\\n\", _jsxs(_components.li, {\n        children: [_jsx(_components.strong, {\n          children: \"Accessibility concerns:\"\n        }), \" AgDS components that are used to display form validation errors have been designed to be as accessible and inclusive as possible.\"]\n      }), \"\\n\"]\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"To disable HTML5 validation, add the \", _jsx(_components.code, {\n        children: \"noValidate\"\n      }), \" attribute to your \", _jsx(_components.code, {\n        children: \"form\"\n      }), \" tags.\"]\n    }), \"\\n\", _jsx(_components.pre, {\n      children: _jsx(_components.code, {\n        className: \"language-jsx\",\n        children: \"<form onSubmit={() => {}} noValidate>\\n\\t...\\n</form>\\n\"\n      })\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Templates\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This pattern has been implemented in the following templates:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"/templates/single-page-form\",\n          children: \"Single-page form template\"\n        })\n      }), \"\\n\", _jsx(_components.li, {\n        children: _jsx(_components.a, {\n          href: \"/templates/multi-page-form\",\n          children: \"Multi-page form template\"\n        })\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"Accessible form validation and error recovery","description":"Form validation is a critical aspect of creating usable and accessible applications. By providing effective error feedback and guidance, you can help users submit accurate information while minimising frustrations."}},"content":"\n<DoHeading />\n\n- summarise the errors as a list inside of a [Page alert](/components/page-alert) component with the 'error' tone when more than one form validation error has occurred\n- place the [Page alert](/components/page-alert) component at the top of the page, below the breadcrumb or back button and above the H1, and focus immediately after a submission attempt\n- validate a form page when the user attempts to submit or save and continue\n- always display fields with form validation errors as invalid with error messages\n- retain the users input after an unsuccessful form submission\n\n<DontHeading />\n\n- use the [Page alert](/components/page-alert) component if there is only one form validation error - instead focus the invalid field\n- use HTML5 validation\n- validate a form when the user is typing\n- depend only on client-side validation - also use server-side validation\n\n## When to validate\n\nA form should validate when a user attempts to submit the form. This should occur when the user presses the submit or save and continue button at the bottom of the form page.\n\nThis approach prevents interrupting users while they are still entering information. Real-time validation while the user is still typing can be problematic, especially for users who type slowly.\n\n## Retaining users input\n\nIt is important that users do not lose the data they have entered when they attempt to submit the form. Retaining the users input allows them to correct any errors without starting over.\n\n## Summarising form validation errors\n\nWhen more than one form validation error has occurred, form validation errors should be summarised as a list inside of a [Page alert](/components/page-alert) component with the 'error' tone. The [Page alert](/components/page-alert) component should be placed at the top of the form and focused immediately after a submission attempt to ensure it is visible and announced to screen reader users.\n\nTo helps users quickly identify and navigate to the problematic areas of the form, each error in the list should scroll and focus the user focus respective form field when clicked. This can be done with the [useScrollToField](/components/field#usescrolltofield) hook.\n\nIf there is only one form validation error, the [Page alert](/components/page-alert) component and error summary should not be displayed and the invalid form field should be focused immediately after a submission attempt.\n\n## Invalid form fields\n\nForm validation errors should also be displayed as invalid field error messages. Use the same error message in the invalid field and in the error summary, if there is more than one error, so they are consistent and reduce the cognitive effort needed to understand what has happened.\n\nBelow is an example of an invalid form field:\n\n```jsx live\n<TextInput label=\"First name\" required invalid message=\"Enter a first name\" />\n```\n\n## Disabling HTML5 validation\n\nHTML5 validation is a type of client-side validation built into browsers. However, it is not recommended for use with the AgDS due to the following reasons:\n\n1. **Inconsistent visual style, placement and content:** HTML5 validation error messages cannot be made customised to be consistent with design system components\n2. **Accessibility concerns:** AgDS components that are used to display form validation errors have been designed to be as accessible and inclusive as possible.\n\nTo disable HTML5 validation, add the `noValidate` attribute to your `form` tags.\n\n```jsx\n<form onSubmit={() => {}} noValidate>\n\t...\n</form>\n```\n\n## Templates\n\nThis pattern has been implemented in the following templates:\n\n- [Single-page form template](/templates/single-page-form)\n- [Multi-page form template](/templates/multi-page-form)\n","data":{"title":"Accessible form validation and error recovery","description":"Form validation is a critical aspect of creating usable and accessible applications. By providing effective error feedback and guidance, you can help users submit accurate information while minimising frustrations."},"title":"Accessible form validation and error recovery","description":"Form validation is a critical aspect of creating usable and accessible applications. By providing effective error feedback and guidance, you can help users submit accurate information while minimising frustrations.","figmaTemplateNodeId":null,"githubTemplatePath":null,"storybookPath":null},"toc":[{"id":"when-to-validate","title":"When to validate","level":2,"slug":"when-to-validate","items":[]},{"id":"retaining-users-input","title":"Retaining users input","level":2,"slug":"retaining-users-input","items":[]},{"id":"summarising-form-validation-errors","title":"Summarising form validation errors","level":2,"slug":"summarising-form-validation-errors","items":[]},{"id":"invalid-form-fields","title":"Invalid form fields","level":2,"slug":"invalid-form-fields","items":[]},{"id":"disabling-html5-validation","title":"Disabling HTML5 validation","level":2,"slug":"disabling-html5-validation","items":[]},{"id":"templates","title":"Templates","level":2,"slug":"templates","items":[]}]},"__N_SSG":true}