"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[779],{1230:function(e,t,r){function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}r.d(t,{ZP:function(){return E}});var n,i,a=r(7378),s="data-focus-lock",u="data-focus-lock-disabled",o={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"},InFocusGuard=function(e){var t=e.children;return a.createElement(a.Fragment,null,a.createElement("div",{key:"guard-first","data-focus-guard":!0,"data-focus-auto-guard":!0,style:o}),t,t&&a.createElement("div",{key:"guard-last","data-focus-guard":!0,"data-focus-auto-guard":!0,style:o}))};InFocusGuard.propTypes={},InFocusGuard.defaultProps={children:null};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function ItoI(e){return e}function innerCreateMedium(e,t){void 0===t&&(t=ItoI);var r=[],n=!1;return{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(e){var i=t(e,n);return r.push(i),function(){r=r.filter(function(e){return e!==i})}},assignSyncMedium:function(e){for(n=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){n=!0;var t=[];if(r.length){var i=r;r=[],i.forEach(e),t=r}var executeQueue=function(){var r=t;t=[],r.forEach(e)},cycle=function(){return Promise.resolve().then(executeQueue)};cycle(),r={push:function(e){t.push(e),cycle()},filter:function(e){return t=t.filter(e),r}}}}}function createMedium(e,t){return void 0===t&&(t=ItoI),innerCreateMedium(e,t)}var l=createMedium({},function(e){return{target:e.target,currentTarget:e.currentTarget}}),c=createMedium(),d=createMedium(),f=((n=innerCreateMedium(null)).options=__assign({async:!0,ssr:!1},{async:!0}),n),g=[],m=a.forwardRef(function(e,t){var r,n,i,d,m,b=a.useState(),y=b[0],p=b[1],h=a.useRef(),v=a.useRef(!1),O=a.useRef(null),F=e.children,A=e.disabled,V=e.noFocusGuards,_=e.persistentFocus,j=e.crossFrame,x=e.autoFocus,E=(e.allowTextSelection,e.group),S=e.className,w=e.whiteList,k=e.hasPositiveIndices,N=e.shards,C=void 0===N?g:N,T=e.as,D=void 0===T?"div":T,I=e.lockProps,M=void 0===I?{}:I,U=e.sideCar,B=e.returnFocus,P=e.focusOptions,R=e.onActivation,L=e.onDeactivation,G=a.useState({})[0],H=a.useCallback(function(){O.current=O.current||document&&document.activeElement,h.current&&R&&R(h.current),v.current=!0},[R]),q=a.useCallback(function(){v.current=!1,L&&L(h.current)},[L]);(0,a.useEffect)(function(){A||(O.current=null)},[]);var W=a.useCallback(function(e){var t=O.current;if(t&&t.focus){var r="function"==typeof B?B(t):B;if(r){var n="object"==typeof r?r:void 0;O.current=null,e?Promise.resolve().then(function(){return t.focus(n)}):t.focus(n)}}},[B]),Z=a.useCallback(function(e){v.current&&l.useMedium(e)},[]),K=c.useMedium,Q=a.useCallback(function(e){h.current!==e&&(h.current=e,p(e))},[]),$=_extends(((m={})[u]=A&&"disabled",m[s]=E,m),M),z=!0!==V,Y=z&&"tail"!==V,J=(r=[t,Q],n=void 0,i=function(e){return r.forEach(function(t){return"function"==typeof t?t(e):t&&(t.current=e),t})},(d=(0,a.useState)(function(){return{value:n,callback:i,facade:{get current(){return d.value},set current(value){var e=d.value;e!==value&&(d.value=value,d.callback(value,e))}}}})[0]).callback=i,d.facade);return a.createElement(a.Fragment,null,z&&[a.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:A?-1:0,style:o}),k?a.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:A?-1:1,style:o}):null],!A&&a.createElement(U,{id:G,sideCar:f,observed:y,disabled:A,persistentFocus:_,crossFrame:j,autoFocus:x,whiteList:w,shards:C,onActivation:H,onDeactivation:q,returnFocus:W,focusOptions:P}),a.createElement(D,_extends({ref:J},$,{className:S,onBlur:K,onFocus:Z}),F),Y&&a.createElement("div",{"data-focus-guard":!0,tabIndex:A?-1:0,style:o}))});function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}m.propTypes={},m.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};var toArray=function(e){for(var t=Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t},asArray=function(e){return Array.isArray(e)?e:[e]},getActiveElement=function(){return document.activeElement?document.activeElement.shadowRoot?document.activeElement.shadowRoot.activeElement:document.activeElement:void 0},focusIsHidden=function(){var e=document&&getActiveElement();return!!e&&toArray(document.querySelectorAll("[".concat("data-no-focus-lock","]"))).some(function(t){return t.contains(e)})},filterNested=function(e){for(var t=new Set,r=e.length,n=0;n<r;n+=1)for(var i=n+1;i<r;i+=1){var a=e[n].compareDocumentPosition(e[i]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(i),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(n)}return e.filter(function(e,r){return!t.has(r)})},getTopParent=function(e){return e.parentNode?getTopParent(e.parentNode):e},getAllAffectedNodes=function(e){return asArray(e).filter(Boolean).reduce(function(e,t){var r=t.getAttribute(s);return e.push.apply(e,r?filterNested(toArray(getTopParent(t).querySelectorAll("[".concat(s,'="').concat(r,'"]:not([').concat(u,'="disabled"])')))):[t]),e},[])},focusInside=function(e){var t=document&&getActiveElement();return!!t&&(!t.dataset||!t.dataset.focusGuard)&&getAllAffectedNodes(e).reduce(function(e,r){return e||r.contains(t)||!!toArray(r.querySelectorAll("iframe")).some(function(e){return e===document.activeElement})},!1)},isElementHidden=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!!t&&!!t.getPropertyValue&&("none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility"))},isVisibleCached=function(e,t){var r,n=e.get(t);if(void 0!==n)return n;var i=(r=isVisibleCached.bind(void 0,e),!t||t===document||t&&t.nodeType===Node.DOCUMENT_NODE||!isElementHidden(t)&&r(t.parentNode&&t.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.parentNode.host:t.parentNode));return e.set(t,i),i},getDataset=function(e){return e.dataset},isHTMLInputElement=function(e){return"INPUT"===e.tagName},isRadioElement=function(e){return isHTMLInputElement(e)&&"radio"===e.type},isGuard=function(e){var t;return!!(e&&(null===(t=getDataset(e))||void 0===t?void 0:t.focusGuard))},isNotAGuard=function(e){return!isGuard(e)},isDefined=function(e){return!!e},correctNode=function(e,t){return isRadioElement(e)&&e.name&&t.filter(isRadioElement).filter(function(t){return t.name===e.name}).filter(function(e){return e.checked})[0]||e},correctNodes=function(e){var t=new Set;return e.forEach(function(r){return t.add(correctNode(r,e))}),e.filter(function(e){return t.has(e)})},pickFirstFocus=function(e){return e[0]&&e.length>1?correctNode(e[0],e):e[0]},pickFocusable=function(e,t){return e.length>1?e.indexOf(correctNode(e[t],e)):t},b="NEW_FOCUS",newFocus=function(e,t,r,n){var i=e.length,a=e[0],s=e[i-1],u=isGuard(r);if(!(r&&e.indexOf(r)>=0)){var o=void 0!==r?t.indexOf(r):-1,l=n?t.indexOf(n):o,c=n?e.indexOf(n):-1,d=o-l,f=t.indexOf(a),g=t.indexOf(s),m=correctNodes(t),y=(void 0!==r?m.indexOf(r):-1)-(n?m.indexOf(n):o),p=pickFocusable(e,0),h=pickFocusable(e,i-1);if(-1===o||-1===c)return b;if(!d&&c>=0)return c;if(o<=f&&u&&Math.abs(d)>1)return h;if(o>=g&&u&&Math.abs(d)>1)return p;if(d&&Math.abs(y)>1)return c;if(o<=f)return h;if(o>g)return p;if(d)return Math.abs(d)>1?c:(i+c+d)%i}},tabSort=function(e,t){var r=e.tabIndex-t.tabIndex,n=e.index-t.index;if(r){if(!e.tabIndex)return 1;if(!t.tabIndex)return -1}return r||n},orderByTabIndex=function(e,t,r){return toArray(e).map(function(e,t){return{node:e,index:t,tabIndex:r&&-1===e.tabIndex?(e.dataset||{}).focusGuard?0:-1:e.tabIndex}}).filter(function(e){return!t||e.tabIndex>=0}).sort(tabSort)},y="button:enabled,select:enabled,textarea:enabled,input:enabled,a[href],area[href],summary,iframe,object,embed,audio[controls],video[controls],[tabindex],[contenteditable],[autofocus]",p="".concat(y,", [data-focus-guard]"),getFocusables=function(e,t){return e.reduce(function(e,r){return e.concat(toArray(r.querySelectorAll(t?p:y)),r.parentNode?toArray(r.parentNode.querySelectorAll(y)).filter(function(e){return e===r}):[])},[])},filterFocusable=function(e,t){return toArray(e).filter(function(e){return isVisibleCached(t,e)}).filter(function(e){return!((isHTMLInputElement(e)||"BUTTON"===e.tagName)&&("hidden"===e.type||e.disabled))&&!e.ariaDisabled})},getTabbableNodes=function(e,t,r){return orderByTabIndex(filterFocusable(getFocusables(e,r),t),!0,r)},getAllTabbableNodes=function(e,t){return orderByTabIndex(filterFocusable(getFocusables(e),t),!1)},getParents=function(e,t){return void 0===t&&(t=[]),t.push(e),e.parentNode&&getParents(e.parentNode,t),t},getCommonParent=function(e,t){for(var r=getParents(e),n=getParents(t),i=0;i<r.length;i+=1){var a=r[i];if(n.indexOf(a)>=0)return a}return!1},getTopCommonParent=function(e,t,r){var n=asArray(e),i=asArray(t),a=n[0],s=!1;return i.filter(Boolean).forEach(function(e){s=getCommonParent(s||e,e)||s,r.filter(Boolean).forEach(function(e){var t=getCommonParent(a,e);t&&(s=!s||t.contains(s)?t:getCommonParent(t,s))})}),s},reorderNodes=function(e,t){var r=new Map;return t.forEach(function(e){return r.set(e.node,e)}),e.map(function(e){return r.get(e)}).filter(isDefined)},getFocusMerge=function(e,t){var r=document&&getActiveElement(),n=getAllAffectedNodes(e).filter(isNotAGuard),i=getTopCommonParent(r||e,e,n),a=new Map,s=getAllTabbableNodes(n,a),u=getTabbableNodes(n,a).filter(function(e){return isNotAGuard(e.node)});if(u[0]||(u=s)[0]){var o=getAllTabbableNodes([i],a).map(function(e){return e.node}),l=reorderNodes(o,u),c=l.map(function(e){return e.node}),d=newFocus(c,o,r,t);if(d===b){var f,g=s.map(function(e){return e.node}).filter((f=n.reduce(function(e,t){return e.concat(filterFocusable(toArray(t.querySelectorAll("[".concat("data-autofocus-inside","]"))).map(function(e){return getFocusables([e])}).reduce(function(e,t){return e.concat(t)},[]),a))},[]),function(e){var t;return e.autofocus||!!(null===(t=getDataset(e))||void 0===t?void 0:t.autofocus)||f.indexOf(e)>=0}));return{node:g&&g.length?pickFirstFocus(g):pickFirstFocus(c)}}return void 0===d?d:l[d]}},focusOn=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},h=0,v=!1,es2015=function(e,t,r){void 0===r&&(r={});var n=getFocusMerge(e,t);if(!v&&n){if(h>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),v=!0,setTimeout(function(){v=!1},1);return}h++,focusOn(n.node,r.focusOptions),h--}},getFocusabledIn=function(e){var t=getAllAffectedNodes(e).filter(isNotAGuard),r=getTopCommonParent(e,e,t),n=new Map,i=getTabbableNodes([r],n,!0),a=getTabbableNodes(t,n).filter(function(e){return isNotAGuard(e.node)}).map(function(e){return e.node});return i.map(function(e){var t=e.node;return{node:t,index:e.index,lockItem:a.indexOf(t)>=0,guard:isGuard(t)}})};function deferAction(e){var t=window.setImmediate;void 0!==t?t(e):setTimeout(e,1)}var O=null,F=null,A=null,V=!1,recordPortal=function(e,t){A={observerNode:e,portaledElement:t}};function autoGuard(e,t,r,n){var i=null,a=e;do{var s=n[a];if(s.guard)s.node.dataset.focusAutoGuard&&(i=s);else if(s.lockItem){if(a!==e)return;i=null}else break}while((a+=r)!==t);i&&(i.node.tabIndex=0)}var extractRef=function(e){return e&&"current"in e?e.current:e},activateTrap=function(){var e=!1;if(O){var t=O,r=t.observed,n=t.persistentFocus,i=t.autoFocus,a=t.shards,s=t.crossFrame,u=t.focusOptions,o=r||A&&A.portaledElement,l=document&&document.activeElement;if(o){var c=[o].concat(a.map(extractRef).filter(Boolean));if((!l||(O.whiteList||function(){return!0})(l))&&(n||(s?!!V:"meanwhile"===V)||!(document&&document.activeElement===document.body||focusIsHidden())||!F&&i)&&(o&&!(focusInside(c)||l&&c.some(function(e){return function checkInHost(e,t,r){return t&&(t.host===e&&(!t.activeElement||r.contains(t.activeElement))||t.parentNode&&checkInHost(e,t.parentNode,r))}(l,e,e)})||A&&A.portaledElement===l)&&(document&&!F&&l&&!i?(l.blur&&l.blur(),document.body.focus()):(e=es2015(c,F,{focusOptions:u}),A={})),V=!1,F=document&&document.activeElement),document){var d=document&&document.activeElement,f=getFocusabledIn(c),g=f.map(function(e){return e.node}).indexOf(d);g>-1&&(f.filter(function(e){var t=e.guard,r=e.node;return t&&r.dataset.focusAutoGuard}).forEach(function(e){return e.node.removeAttribute("tabIndex")}),autoGuard(g,f.length,1,f),autoGuard(g,-1,-1,f))}}}return e},onTrap=function(e){activateTrap()&&e&&(e.stopPropagation(),e.preventDefault())},onBlur=function(){return deferAction(activateTrap)},onWindowBlur=function(){V="just",setTimeout(function(){V="meanwhile"},0)},attachHandler=function(){document.addEventListener("focusin",onTrap),document.addEventListener("focusout",onBlur),window.addEventListener("blur",onWindowBlur)},detachHandler=function(){document.removeEventListener("focusin",onTrap),document.removeEventListener("focusout",onBlur),window.removeEventListener("blur",onWindowBlur)};l.assignSyncMedium(function(e){var t=e.target,r=e.currentTarget;r.contains(t)||recordPortal(r,t)}),c.assignMedium(onBlur),d.assignMedium(function(e){return e({moveFocusInside:es2015,focusInside:focusInside})});var _=(i=function(e){var t=e.slice(-1)[0];t&&!O&&attachHandler();var r=O,n=r&&t&&t.id===r.id;O=t,!r||n||(r.onDeactivation(),e.filter(function(e){return e.id===r.id}).length||r.returnFocus(!t)),t?(F=null,n&&r.observed===t.observed||t.onActivation(),activateTrap(!0),deferAction(activateTrap)):(detachHandler(),F=null)},function(e){var t,r,n,s=[];function emitChange(){i(n=s.map(function(e){return e.props}).filter(function(e){return!e.disabled}))}var u=function(t){function SideEffect(){return t.apply(this,arguments)||this}SideEffect.prototype=Object.create(t.prototype),SideEffect.prototype.constructor=SideEffect,_setPrototypeOf(SideEffect,t),SideEffect.peek=function(){return n};var r=SideEffect.prototype;return r.componentDidMount=function(){s.push(this),emitChange()},r.componentDidUpdate=function(){emitChange()},r.componentWillUnmount=function(){var e=s.indexOf(this);s.splice(e,1),emitChange()},r.render=function(){return a.createElement(e,this.props)},SideEffect}(a.PureComponent);return t="displayName",r="SideEffect("+(e.displayName||e.name||"Component")+")",t in u?Object.defineProperty(u,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):u[t]=r,u})(function(){return null}),j=a.forwardRef(function(e,t){return a.createElement(m,_extends({sideCar:_,ref:t},e))}),x=m.propTypes||{};x.sideCar,function(e,t){if(null!=e){var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r])}}(x,["sideCar"]),j.propTypes={};var E=j},5242:function(e,t,r){r.d(t,{Z:function(){return _iterableToArray}});function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}},1752:function(e,t,r){r.d(t,{Z:function(){return _taggedTemplateLiteral}});function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},9466:function(e,t,r){r.d(t,{Z:function(){return _toArray}});var n=r(7523),i=r(5242),a=r(2279),s=r(9047);function _toArray(e){return(0,n.Z)(e)||(0,i.Z)(e)||(0,a.Z)(e)||(0,s.Z)()}},4285:function(e,t,r){r.d(t,{Z:function(){return _toConsumableArray}});var n=r(7452),i=r(5242),a=r(2279);function _toConsumableArray(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8039:function(e,t,r){r.d(t,{KN:function(){return appendErrors},Qr:function(){return Controller},U2:function(){return get},cI:function(){return useForm},t8:function(){return set}});var n=r(7378),isCheckBoxInput=e=>"checkbox"===e.type,isDateObject=e=>e instanceof Date,isNullOrUndefined=e=>null==e;let isObjectType=e=>"object"==typeof e;var isObject=e=>!isNullOrUndefined(e)&&!Array.isArray(e)&&isObjectType(e)&&!isDateObject(e),getEventValue=e=>isObject(e)&&e.target?isCheckBoxInput(e.target)?e.target.checked:e.target.value:e,getNodeParentName=e=>e.substring(0,e.search(/.\d/))||e,isNameInFieldArray=(e,t)=>[...e].some(e=>getNodeParentName(t)===e),compact=e=>e.filter(Boolean),isUndefined=e=>void 0===e,get=(e,t,r)=>{if(!t||!isObject(e))return r;let n=compact(t.split(/[,[\].]+?/)).reduce((e,t)=>isNullOrUndefined(e)?e:e[t],e);return isUndefined(n)||n===e?isUndefined(e[t])?r:e[t]:n};let i={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},s={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};var omit=(e,t)=>{let r=Object.assign({},e);return delete r[t],r};let u=n.createContext(null),useFormContext=()=>n.useContext(u);var getProxyFormState=(e,t,r,n=!0)=>{let i={};for(let s in e)Object.defineProperty(i,s,{get:()=>(t[s]!==a.all&&(t[s]=!n||a.all),r&&(r[s]=!0),e[s])});return i},isEmptyObject=e=>isObject(e)&&!Object.keys(e).length,shouldRenderFormState=(e,t,r)=>{let n=omit(e,"name");return isEmptyObject(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(e=>t[e]===(!r||a.all))},convertToArrayPayload=e=>Array.isArray(e)?e:[e],shouldSubscribeByName=(e,t,r)=>r&&t?e===t:!e||!t||e===t||convertToArrayPayload(e).some(e=>e&&(e.startsWith(t)||t.startsWith(e)));function useSubscribe(e){let t=n.useRef(e);t.current=e,n.useEffect(()=>{let tearDown=e=>{e&&e.unsubscribe()},r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>tearDown(r)},[e.disabled])}var isString=e=>"string"==typeof e,generateWatchOutput=(e,t,r,n)=>{let i=Array.isArray(e);return isString(e)?(n&&t.watch.add(e),get(r,e)):i?e.map(e=>(n&&t.watch.add(e),get(r,e))):(n&&(t.watchAll=!0),r)},isFunction=e=>"function"==typeof e,objectHasFunction=e=>{for(let t in e)if(isFunction(e[t]))return!0;return!1};let Controller=e=>e.render(function(e){let t=useFormContext(),{name:r,control:a=t.control,shouldUnregister:s}=e,u=isNameInFieldArray(a._names.array,r),o=function(e){let t=useFormContext(),{control:r=t.control,name:i,defaultValue:a,disabled:s,exact:u}=e||{},o=n.useRef(i);o.current=i;let l=n.useCallback(e=>{if(shouldSubscribeByName(o.current,e.name,u)){let t=generateWatchOutput(o.current,r._names,e.values||r._formValues);d(isUndefined(o.current)||isObject(t)&&!objectHasFunction(t)?Object.assign({},t):Array.isArray(t)?[...t]:isUndefined(t)?a:t)}},[r,u,a]);useSubscribe({disabled:s,subject:r._subjects.watch,callback:l});let[c,d]=n.useState(isUndefined(a)?r._getWatch(i):a);return n.useEffect(()=>{r._removeUnmounted()}),c}({control:a,name:r,defaultValue:get(a._formValues,r,get(a._defaultValues,r,e.defaultValue)),exact:!0}),l=function(e){let t=useFormContext(),{control:r=t.control,disabled:i,name:a,exact:s}=e||{},[u,o]=n.useState(r._formState),l=n.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=n.useRef(a),d=n.useRef(!0);c.current=a;let f=n.useCallback(e=>d.current&&shouldSubscribeByName(c.current,e.name,s)&&shouldRenderFormState(e,l.current)&&o(Object.assign(Object.assign({},r._formState),e)),[r,s]);return useSubscribe({disabled:i,callback:f,subject:r._subjects.state}),n.useEffect(()=>()=>{d.current=!1},[]),getProxyFormState(u,r._proxyFormState,l.current,!1)}({control:a,name:r}),c=n.useRef(a.register(r,Object.assign(Object.assign({},e.rules),{value:o})));return n.useEffect(()=>{let updateMounted=(e,t)=>{let r=get(a._fields,e);r&&(r._f.mount=t)};return updateMounted(r,!0),()=>{let e=a._options.shouldUnregister||s;(u?e&&!a._stateFlags.action:e)?a.unregister(r):updateMounted(r,!1)}},[r,a,u,s]),{field:{name:r,value:o,onChange:n.useCallback(e=>{c.current.onChange({target:{value:getEventValue(e),name:r},type:i.CHANGE})},[r]),onBlur:n.useCallback(()=>{c.current.onBlur({target:{value:get(a._formValues,r),name:r},type:i.BLUR})},[r,a]),ref:n.useCallback(e=>{let t=get(a._fields,r);e&&t&&e.focus&&(t._f.ref={focus:()=>e.focus(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})},[r,a._fields])},formState:l,fieldState:a.getFieldState(r,l)}}(e));var appendErrors=(e,t,r,n,i)=>t?Object.assign(Object.assign({},r[e]),{types:Object.assign(Object.assign({},r[e]&&r[e].types?r[e].types:{}),{[n]:i||!0})}):{},isKey=e=>/^\w*$/.test(e),stringToPath=e=>compact(e.replace(/["|']|\]/g,"").split(/\.|\[/));function set(e,t,r){let n=-1,i=isKey(t)?[t]:stringToPath(t),a=i.length,s=a-1;for(;++n<a;){let t=i[n],a=r;if(n!==s){let r=e[t];a=isObject(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}e[t]=a,e=e[t]}return e}let focusFieldBy=(e,t,r)=>{for(let n of r||Object.keys(e)){let r=get(e,n);if(r){let e=r._f,n=omit(r,"_f");if(e&&t(e.name)){if(e.ref.focus&&isUndefined(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else isObject(n)&&focusFieldBy(n,t)}}};var isWatched=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));function cloneObject(e){let t;let r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(r||isObject(e)))return e;else for(let n in t=r?[]:{},e){if(isFunction(e[n])){t=e;break}t[n]=cloneObject(e[n])}return t}function createSubject(){let e=[];return{get observers(){return e},next:t=>{for(let r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}}var isPrimitive=e=>isNullOrUndefined(e)||!isObjectType(e);function deepEqual(e,t){if(isPrimitive(e)||isPrimitive(t))return e===t;if(isDateObject(e)&&isDateObject(t))return e.getTime()===t.getTime();let r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i of r){let r=e[i];if(!n.includes(i))return!1;if("ref"!==i){let e=t[i];if(isDateObject(r)&&isDateObject(e)||isObject(r)&&isObject(e)||Array.isArray(r)&&Array.isArray(e)?!deepEqual(r,e):r!==e)return!1}}return!0}var getValidationModes=e=>({isOnSubmit:!e||e===a.onSubmit,isOnBlur:e===a.onBlur,isOnChange:e===a.onChange,isOnAll:e===a.all,isOnTouch:e===a.onTouched}),isBoolean=e=>"boolean"==typeof e,isFileInput=e=>"file"===e.type,isHTMLElement=e=>e instanceof HTMLElement,isMultipleSelect=e=>"select-multiple"===e.type,isRadioInput=e=>"radio"===e.type,isRadioOrCheckbox=e=>isRadioInput(e)||isCheckBoxInput(e),o="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document,live=e=>isHTMLElement(e)&&e.isConnected;function unset(e,t){let r;let n=isKey(t)?[t]:stringToPath(t),i=1==n.length?e:function(e,t){let r=t.slice(0,-1).length,n=0;for(;n<r;)e=isUndefined(e)?n++:e[t[n++]];return e}(e,n),a=n[n.length-1];i&&delete i[a];for(let t=0;t<n.slice(0,-1).length;t++){let i,a=-1,s=n.slice(0,-(t+1)),u=s.length-1;for(t>0&&(r=e);++a<s.length;){let t=s[a];i=i?i[t]:e[t],u===a&&(isObject(i)&&isEmptyObject(i)||Array.isArray(i)&&!i.filter(e=>isObject(e)&&!isEmptyObject(e)||isBoolean(e)||Array.isArray(e)&&e.length).length)&&(r?delete r[t]:delete e[t]),r=i}}return e}function markFieldsDirty(e,t={}){let r=Array.isArray(e);if(isObject(e)||r)for(let r in e)Array.isArray(e[r])||isObject(e[r])&&!objectHasFunction(e[r])?(t[r]=Array.isArray(e[r])?[]:{},markFieldsDirty(e[r],t[r])):isNullOrUndefined(e[r])||(t[r]=!0);return t}var getDirtyFields=(e,t)=>(function getDirtyFieldsFromDefaultValues(e,t,r){let n=Array.isArray(e);if(isObject(e)||n)for(let n in e)Array.isArray(e[n])||isObject(e[n])&&!objectHasFunction(e[n])?isUndefined(t)||isPrimitive(r[n])?r[n]=Array.isArray(e[n])?markFieldsDirty(e[n],[]):Object.assign({},markFieldsDirty(e[n])):getDirtyFieldsFromDefaultValues(e[n],isNullOrUndefined(t)?{}:t[n],r[n]):r[n]=!deepEqual(e[n],t[n]);return r})(e,t,markFieldsDirty(t));let l={value:!1,isValid:!1},c={value:!0,isValid:!0};var getCheckboxValue=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!isUndefined(e[0].attributes.value)?isUndefined(e[0].value)||""===e[0].value?c:{value:e[0].value,isValid:!0}:c:l}return l},getFieldValueAs=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>isUndefined(e)?e:t?""===e?NaN:+e:r&&isString(e)?new Date(e):n?n(e):e;let d={isValid:!1,value:null};var getRadioValue=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,d):d;function getFieldValue(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:isFileInput(t)?t.files:isRadioInput(t)?getRadioValue(e.refs).value:isMultipleSelect(t)?[...t.selectedOptions].map(({value:e})=>e):isCheckBoxInput(t)?getCheckboxValue(e.refs).value:getFieldValueAs(isUndefined(t.value)?e.ref.value:t.value,e)}var getResolverOptions=(e,t,r,n)=>{let i={};for(let r of e){let e=get(t,r);e&&set(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},isRegex=e=>e instanceof RegExp,getRuleValue=e=>isUndefined(e)?void 0:isRegex(e)?e.source:isObject(e)?isRegex(e.value)?e.value.source:e.value:e,hasValidation=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function schemaErrorLookup(e,t,r){let n=get(e,r);if(n||isKey(r))return{error:n,name:r};let i=r.split(".");for(;i.length;){let n=i.join("."),a=get(t,n),s=get(e,n);if(a&&!Array.isArray(a)&&r!==n)break;if(s&&s.type)return{name:n,error:s};i.pop()}return{name:r}}var skipValidation=(e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?!n.isOnChange:!i.isOnChange)||e),unsetEmptyArray=(e,t)=>!compact(get(e,t)).length&&unset(e,t),isMessage=e=>isString(e)||n.isValidElement(e);function getValidateError(e,t,r="validate"){if(isMessage(e)||Array.isArray(e)&&e.every(isMessage)||isBoolean(e)&&!e)return{type:r,message:isMessage(e)?e:"",ref:t}}var getValueAndMessage=e=>isObject(e)&&!isRegex(e)?e:{value:e,message:""},validateField=async(e,t,r,n)=>{let{ref:i,refs:a,required:u,maxLength:o,minLength:l,min:c,max:d,pattern:f,validate:g,name:m,valueAsNumber:b,mount:y,disabled:p}=e._f;if(!y||p)return{};let h=a?a[0]:i,setCustomValidity=e=>{n&&h.reportValidity&&(h.setCustomValidity(isBoolean(e)?"":e||" "),h.reportValidity())},v={},O=isRadioInput(i),F=isCheckBoxInput(i),A=(b||isFileInput(i))&&!i.value||""===t||Array.isArray(t)&&!t.length,V=appendErrors.bind(null,m,r,v),getMinMaxMessage=(e,t,r,n=s.maxLength,a=s.minLength)=>{let u=e?t:r;v[m]=Object.assign({type:e?n:a,message:u,ref:i},V(e?n:a,u))};if(u&&(!(O||F)&&(A||isNullOrUndefined(t))||isBoolean(t)&&!t||F&&!getCheckboxValue(a).isValid||O&&!getRadioValue(a).isValid)){let{value:e,message:t}=isMessage(u)?{value:!!u,message:u}:getValueAndMessage(u);if(e&&(v[m]=Object.assign({type:s.required,message:t,ref:h},V(s.required,t)),!r))return setCustomValidity(t),v}if(!A&&(!isNullOrUndefined(c)||!isNullOrUndefined(d))){let e,n;let a=getValueAndMessage(d),u=getValueAndMessage(c);if(isNaN(t)){let r=i.valueAsDate||new Date(t);isString(a.value)&&(e=r>new Date(a.value)),isString(u.value)&&(n=r<new Date(u.value))}else{let r=i.valueAsNumber||+t;isNullOrUndefined(a.value)||(e=r>a.value),isNullOrUndefined(u.value)||(n=r<u.value)}if((e||n)&&(getMinMaxMessage(!!e,a.message,u.message,s.max,s.min),!r))return setCustomValidity(v[m].message),v}if((o||l)&&!A&&isString(t)){let e=getValueAndMessage(o),n=getValueAndMessage(l),i=!isNullOrUndefined(e.value)&&t.length>e.value,a=!isNullOrUndefined(n.value)&&t.length<n.value;if((i||a)&&(getMinMaxMessage(i,e.message,n.message),!r))return setCustomValidity(v[m].message),v}if(f&&!A&&isString(t)){let{value:e,message:n}=getValueAndMessage(f);if(isRegex(e)&&!t.match(e)&&(v[m]=Object.assign({type:s.pattern,message:n,ref:i},V(s.pattern,n)),!r))return setCustomValidity(n),v}if(g){if(isFunction(g)){let e=await g(t),n=getValidateError(e,h);if(n&&(v[m]=Object.assign(Object.assign({},n),V(s.validate,n.message)),!r))return setCustomValidity(n.message),v}else if(isObject(g)){let e={};for(let n in g){if(!isEmptyObject(e)&&!r)break;let i=getValidateError(await g[n](t),h,n);i&&(e=Object.assign(Object.assign({},i),V(n,i.message)),setCustomValidity(i.message),r&&(v[m]=e))}if(!isEmptyObject(e)&&(v[m]=Object.assign({ref:h},e),!r))return v}}return setCustomValidity(!0),v};let f={mode:a.onSubmit,reValidateMode:a.onChange,shouldFocusError:!0};function useForm(e={}){let t=n.useRef(),[r,s]=n.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current=Object.assign(Object.assign({},function(e={}){let t,r=Object.assign(Object.assign({},f),e),n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},s={},u=r.defaultValues||{},l=r.shouldUnregister?{}:cloneObject(u),c={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},g=0,m={},b={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},y={watch:createSubject(),array:createSubject(),state:createSubject()},p=getValidationModes(r.mode),h=getValidationModes(r.reValidateMode),v=r.criteriaMode===a.all,debounce=(e,t)=>(...r)=>{clearTimeout(g),g=window.setTimeout(()=>e(...r),t)},_updateValid=async e=>{let t=!1;return b.isValid&&(t=r.resolver?isEmptyObject((await _executeSchema()).errors):await executeBuildInValidation(s,!0),e||t===n.isValid||(n.isValid=t,y.state.next({isValid:t}))),t},updateErrors=(e,t)=>(set(n.errors,e,t),y.state.next({errors:n.errors})),updateValidAndValue=(e,t,r,n)=>{let i=get(s,e);if(i){let a=get(l,e,isUndefined(r)?get(u,e):r);isUndefined(a)||n&&n.defaultChecked||t?set(l,e,t?a:getFieldValue(i._f)):setFieldValue(e,a),c.mount&&_updateValid()}},updateTouchAndDirty=(e,t,r,i,a)=>{let s=!1,o={name:e},l=get(n.touchedFields,e);if(b.isDirty){let e=n.isDirty;n.isDirty=o.isDirty=_getDirty(),s=e!==o.isDirty}if(b.dirtyFields&&(!r||i)){let r=get(n.dirtyFields,e),i=deepEqual(get(u,e),t);i?unset(n.dirtyFields,e):set(n.dirtyFields,e,!0),o.dirtyFields=n.dirtyFields,s=s||r!==get(n.dirtyFields,e)}return r&&!l&&(set(n.touchedFields,e,r),o.touchedFields=n.touchedFields,s=s||b.touchedFields&&l!==r),s&&a&&y.state.next(o),s?o:{}},shouldRenderByError=async(r,i,a,s,u)=>{let o=get(n.errors,i),l=b.isValid&&n.isValid!==a;if(e.delayError&&s?(t=t||debounce(updateErrors,e.delayError))(i,s):(clearTimeout(g),s?set(n.errors,i,s):unset(n.errors,i)),((s?!deepEqual(o,s):o)||!isEmptyObject(u)||l)&&!r){let e=Object.assign(Object.assign(Object.assign({},u),l?{isValid:a}:{}),{errors:n.errors,name:i});n=Object.assign(Object.assign({},n),e),y.state.next(e)}m[i]--,b.isValidating&&!Object.values(m).some(e=>e)&&(y.state.next({isValidating:!1}),m={})},_executeSchema=async e=>r.resolver?await r.resolver(Object.assign({},l),r.context,getResolverOptions(e||d.mount,s,r.criteriaMode,r.shouldUseNativeValidation)):{},executeSchemaAndUpdateState=async e=>{let{errors:t}=await _executeSchema();if(e)for(let r of e){let e=get(t,r);e?set(n.errors,r,e):unset(n.errors,r)}else n.errors=t;return t},executeBuildInValidation=async(e,t,i={valid:!0})=>{for(let a in e){let s=e[a];if(s){let e=s._f,a=omit(s,"_f");if(e){let a=await validateField(s,get(l,e.name),v,r.shouldUseNativeValidation);if(a[e.name]&&(i.valid=!1,t))break;t||(a[e.name]?set(n.errors,e.name,a[e.name]):unset(n.errors,e.name))}a&&await executeBuildInValidation(a,t,i)}}return i.valid},_getDirty=(e,t)=>(e&&t&&set(l,e,t),!deepEqual(getValues(),u)),_getWatch=(e,t,r)=>{let n=Object.assign({},c.mount?l:isUndefined(t)?u:isString(e)?{[e]:t}:t);return generateWatchOutput(e,d,n,r)},setFieldValue=(e,t,r={})=>{let n=get(s,e),i=t;if(n){let r=n._f;r&&(r.disabled||set(l,e,getFieldValueAs(t,r)),i=o&&isHTMLElement(r.ref)&&isNullOrUndefined(t)?"":t,isMultipleSelect(r.ref)?[...r.ref.options].forEach(e=>e.selected=i.includes(e.value)):r.refs?isCheckBoxInput(r.ref)?r.refs.length>1?r.refs.forEach(e=>e.checked=Array.isArray(i)?!!i.find(t=>t===e.value):i===e.value):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach(e=>e.checked=e.value===i):isFileInput(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||y.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&updateTouchAndDirty(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&trigger(e)},setValues=(e,t,r)=>{for(let n in t){let i=t[n],a=`${e}.${n}`,u=get(s,a);!d.array.has(e)&&isPrimitive(i)&&(!u||u._f)||isDateObject(i)?setFieldValue(a,i,r):setValues(a,i,r)}},setValue=(e,t,r={})=>{let i=get(s,e),a=d.array.has(e),o=cloneObject(t);set(l,e,o),a?(y.array.next({name:e,values:l}),(b.isDirty||b.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=getDirtyFields(u,l),y.state.next({name:e,dirtyFields:n.dirtyFields,isDirty:_getDirty(e,o)}))):!i||i._f||isNullOrUndefined(o)?setFieldValue(e,o,r):setValues(e,o,r),isWatched(e,d)&&y.state.next({}),y.watch.next({name:e})},onChange=async e=>{let t=e.target,a=t.name,u=get(s,a);if(u){let o,c;let f=t.type?getFieldValue(u._f):getEventValue(e),g=e.type===i.BLUR||e.type===i.FOCUS_OUT,b=!hasValidation(u._f)&&!r.resolver&&!get(n.errors,a)&&!u._f.deps||skipValidation(g,get(n.touchedFields,a),n.isSubmitted,h,p),O=isWatched(a,d,g);set(l,a,f),g?u._f.onBlur&&u._f.onBlur(e):u._f.onChange&&u._f.onChange(e);let F=updateTouchAndDirty(a,f,g,!1),A=!isEmptyObject(F)||O;if(g||y.watch.next({name:a,type:e.type}),b)return A&&y.state.next(Object.assign({name:a},O?{}:F));if(!g&&O&&y.state.next({}),m[a]=(m[a],1),y.state.next({isValidating:!0}),r.resolver){let{errors:e}=await _executeSchema([a]),t=schemaErrorLookup(n.errors,s,a),r=schemaErrorLookup(e,s,t.name||a);o=r.error,a=r.name,c=isEmptyObject(e)}else o=(await validateField(u,get(l,a),v,r.shouldUseNativeValidation))[a],c=await _updateValid(!0);u._f.deps&&trigger(u._f.deps),shouldRenderByError(!1,a,c,o,F)}},trigger=async(e,t={})=>{let i,a;let u=convertToArrayPayload(e);if(y.state.next({isValidating:!0}),r.resolver){let t=await executeSchemaAndUpdateState(isUndefined(e)?e:u);i=isEmptyObject(t),a=e?!u.some(e=>get(t,e)):i}else e?((a=(await Promise.all(u.map(async e=>{let t=get(s,e);return await executeBuildInValidation(t&&t._f?{[e]:t}:t)}))).every(Boolean))||n.isValid)&&_updateValid():a=i=await executeBuildInValidation(s);return y.state.next(Object.assign(Object.assign(Object.assign({},!isString(e)||b.isValid&&i!==n.isValid?{}:{name:e}),r.resolver?{isValid:i}:{}),{errors:n.errors,isValidating:!1})),t.shouldFocus&&!a&&focusFieldBy(s,e=>get(n.errors,e),e?u:d.mount),a},getValues=e=>{let t=Object.assign(Object.assign({},u),c.mount?l:{});return isUndefined(e)?t:isString(e)?get(t,e):e.map(e=>get(t,e))},getFieldState=(e,t)=>({invalid:!!get((t||n).errors,e),isDirty:!!get((t||n).dirtyFields,e),isTouched:!!get((t||n).touchedFields,e),error:get((t||n).errors,e)}),unregister=(e,t={})=>{for(let i of e?convertToArrayPayload(e):d.mount)d.mount.delete(i),d.array.delete(i),get(s,i)&&(t.keepValue||(unset(s,i),unset(l,i)),t.keepError||unset(n.errors,i),t.keepDirty||unset(n.dirtyFields,i),t.keepTouched||unset(n.touchedFields,i),r.shouldUnregister||t.keepDefaultValue||unset(u,i));y.watch.next({}),y.state.next(Object.assign(Object.assign({},n),t.keepDirty?{isDirty:_getDirty()}:{})),t.keepIsValid||_updateValid()},register=(e,t={})=>{let n=get(s,e),i=isBoolean(t.disabled);return set(s,e,{_f:Object.assign(Object.assign(Object.assign({},n&&n._f?n._f:{ref:{name:e}}),{name:e,mount:!0}),t)}),d.mount.add(e),n?i&&set(l,e,t.disabled?void 0:get(l,e,getFieldValue(n._f))):updateValidAndValue(e,!0,t.value),Object.assign(Object.assign(Object.assign({},i?{disabled:t.disabled}:{}),r.shouldUseNativeValidation?{required:!!t.required,min:getRuleValue(t.min),max:getRuleValue(t.max),minLength:getRuleValue(t.minLength),maxLength:getRuleValue(t.maxLength),pattern:getRuleValue(t.pattern)}:{}),{name:e,onChange,onBlur:onChange,ref:i=>{if(i){register(e,t),n=get(s,e);let r=isUndefined(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a=isRadioOrCheckbox(r),u=n._f.refs||[];(a?u.find(e=>e===r):r===n._f.ref)||(set(s,e,{_f:Object.assign(Object.assign({},n._f),a?{refs:u.concat(r).filter(live),ref:{type:r.type,name:e}}:{ref:r})}),updateValidAndValue(e,!1,void 0,r))}else(n=get(s,e,{}))._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&!(isNameInFieldArray(d.array,e)&&c.action)&&d.unMount.add(e)}})};return{control:{register,unregister,getFieldState,_executeSchema,_getWatch,_getDirty,_updateValid,_removeUnmounted:()=>{for(let e of d.unMount){let t=get(s,e);t&&(t._f.refs?t._f.refs.every(e=>!live(e)):!live(t._f.ref))&&unregister(e)}d.unMount=new Set},_updateFieldArray:(e,t=[],r,i,a=!0,o=!0)=>{if(i&&r){if(c.action=!0,o&&Array.isArray(get(s,e))){let t=r(get(s,e),i.argA,i.argB);a&&set(s,e,t)}if(b.errors&&o&&Array.isArray(get(n.errors,e))){let t=r(get(n.errors,e),i.argA,i.argB);a&&set(n.errors,e,t),unsetEmptyArray(n.errors,e)}if(b.touchedFields&&Array.isArray(get(n.touchedFields,e))){let t=r(get(n.touchedFields,e),i.argA,i.argB);a&&set(n.touchedFields,e,t)}b.dirtyFields&&(n.dirtyFields=getDirtyFields(u,l)),y.state.next({isDirty:_getDirty(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else set(l,e,t)},_getFieldArray:t=>compact(get(c.mount?l:u,t,e.shouldUnregister?get(u,t,[]):[])),_subjects:y,_proxyFormState:b,get _fields(){return s},get _formValues(){return l},get _stateFlags(){return c},set _stateFlags(value){c=value},get _defaultValues(){return u},get _names(){return d},set _names(value){d=value},get _formState(){return n},set _formState(value){n=value},get _options(){return r},set _options(value){r=Object.assign(Object.assign({},r),value)}},trigger,register,handleSubmit:(e,t)=>async i=>{i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let a=!0,u=cloneObject(l);y.state.next({isSubmitting:!0});try{if(r.resolver){let{errors:e,values:t}=await _executeSchema();n.errors=e,u=t}else await executeBuildInValidation(s);isEmptyObject(n.errors)&&Object.keys(n.errors).every(e=>get(u,e))?(y.state.next({errors:{},isSubmitting:!0}),await e(u,i)):(t&&await t(Object.assign({},n.errors),i),r.shouldFocusError&&focusFieldBy(s,e=>get(n.errors,e),d.mount))}catch(e){throw a=!1,e}finally{n.isSubmitted=!0,y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(n.errors)&&a,submitCount:n.submitCount+1,errors:n.errors})}},watch:(e,t)=>isFunction(e)?y.watch.subscribe({next:r=>e(_getWatch(void 0,t),r)}):_getWatch(e,t,!0),setValue,getValues,reset:(t,r={})=>{let i=t||u,a=cloneObject(i),f=t&&!isEmptyObject(t)?a:u;if(r.keepDefaultValues||(u=i),!r.keepValues){if(o&&isUndefined(t))for(let e of d.mount){let t=get(s,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{isHTMLElement(e)&&e.closest("form").reset();break}catch(e){}}}l=e.shouldUnregister?r.keepDefaultValues?cloneObject(u):{}:a,s={},y.array.next({values:f}),y.watch.next({values:f})}d={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!b.isValid||!!r.keepIsValid,c.watch=!!e.shouldUnregister,y.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty?n.isDirty:!!r.keepDefaultValues&&!deepEqual(t,u),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty?n.dirtyFields:r.keepDefaultValues&&t?Object.entries(t).reduce((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:r!==get(u,t)}),{}):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{get(s,e)&&(isUndefined(t.defaultValue)?setValue(e,get(u,e)):(setValue(e,t.defaultValue),set(u,e,t.defaultValue)),t.keepTouched||unset(n.touchedFields,e),t.keepDirty||(unset(n.dirtyFields,e),n.isDirty=t.defaultValue?_getDirty(e,get(u,e)):_getDirty()),!t.keepError&&(unset(n.errors,e),b.isValid&&_updateValid()),y.state.next(Object.assign({},n)))},clearErrors:e=>{e?convertToArrayPayload(e).forEach(e=>unset(n.errors,e)):n.errors={},y.state.next({errors:n.errors})},unregister,setError:(e,t,r)=>{let i=(get(s,e,{_f:{}})._f||{}).ref;set(n.errors,e,Object.assign(Object.assign({},t),{ref:i})),y.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},setFocus:(e,t={})=>{let r=get(s,e)._f,n=r.refs?r.refs[0]:r.ref;t.shouldSelect?n.select():n.focus()},getFieldState}}(e)),{formState:r});let u=t.current.control,l=n.useCallback(e=>{shouldRenderFormState(e,u._proxyFormState,!0)&&(u._formState=Object.assign(Object.assign({},u._formState),e),s(Object.assign({},u._formState)))},[u]);return useSubscribe({subject:u._subjects.state,callback:l}),n.useEffect(()=>{u._stateFlags.mount||(u._proxyFormState.isValid&&u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()}),t.current.formState=getProxyFormState(r,u._proxyFormState),t.current}}}]);