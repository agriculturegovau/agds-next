(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[312],{8248:function(e,t,n){"use strict";n.d(t,{y:function(){return YourGovLayout}});var r=n(7378),o=n(2479),i=n(8717),a=n(5035),l=n(4855),c=n(4560),s=n(647),u=n(4348),d=n(1691),m=n(4149),f=n(3344),p=n(5748),h=n(7800),g={name:"1nob2mz",styles:"&:focus{outline:none;}"};function YourGovLayout(e){var t=e.children,n=(0,r.useMemo)(function(){return new Date().getFullYear()},[]);return(0,h.BX)(l.Core,{linkComponent:p.N,children:[(0,h.tZ)(f.SkipLinks,{links:[{href:"#main-content",label:"Skip to main content"}]}),(0,h.BX)(u.Flex,{flexDirection:"column",fontFamily:"body",minHeight:"100vh",children:[(0,h.BX)(i.Stack,{palette:"dark",children:[(0,h.tZ)(a.Header,{background:"bodyAlt",logo:(0,h.tZ)(o.Logo,{}),heading:"yourGov",subline:"Access government services from one place"}),(0,h.tZ)(c.MainNavBottomBar,{})]}),(0,h.tZ)(s.Box,{as:"main",id:"main-content",tabIndex:-1,css:g,flexGrow:1,children:t}),(0,h.tZ)(s.Box,{palette:"dark",children:(0,h.BX)(d.Footer,{background:"bodyAlt",children:[(0,h.tZ)(m.Text,{fontSize:"xs",maxWidth:l.tokens.maxWidth.bodyText,children:"We acknowledge the traditional owners of country throughout Australia and recognise their continuing connection to land, waters and culture. We pay our respects to their Elders past, present and emerging."}),(0,h.BX)(m.Text,{fontSize:"xs",maxWidth:l.tokens.maxWidth.bodyText,children:["\xa9 ",n," Department of Agriculture, Fisheries and Forestry"]})]})})]})]})}},7590:function(e,t,n){"use strict";n.r(t);var r=n(849),o=n(1246),i=n(5732),a=n(4707),l=n.n(a),c=n(6677),s=n(3662),u=n(7378),d=n(8039),m=n(3647),f=n(8301),p=n(7784),h=n(2892),g=n(6700),b=n(9598),y=n(8717),v=n(4076),S=n(4400),x=n(2754),Z=n(8160),k=n(4149),_=n(2852),w=n(3135),N=n(4196),O=n(6949),j=n(8248),P=n(966),E=n(7800);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Page=function(){var e=(0,c.useRouter)().push,t=(0,P.a)().signIn,n=(0,s.useSearchParams)();return(0,E.BX)(u.Fragment,{children:[(0,E.tZ)(O.$,{title:"Sign in"}),(0,E.tZ)(h.PageContent,{children:(0,E.tZ)(w.Columns,{children:(0,E.tZ)(w.Column,{columnSpan:{xs:12,md:7},children:(0,E.BX)(y.Stack,{gap:1.5,children:[(0,E.tZ)(_.H1,{children:"Sign in with yourGov"}),(0,E.tZ)(SignInForm,{onSubmit:function(r){var o=r.firstName,i=r.lastName,a=r.role;t({firstName:o,lastName:i,displayName:[o,i].join(" "),role:a}),e(n.get("redirectTo")||"/app")}})]})})})})]})};t.default=Page,Page.getLayout=function(e){return(0,E.tZ)(j.y,{children:e})};var B=f.Ry({firstName:f.Z_().required("Enter your first name"),lastName:f.Z_().required("Enter your last name"),role:f.nK().oneOf(["Employee","Employer"],"Select a role").required("Select a role")}).required();function SignInForm(e){var t,n,r,a,c,s,f,h=(0,u.useState)(!1),_=h[0],w=h[1],O=(0,u.useRef)(null),j=(0,u.useState)(!1),P=j[0],T=j[1],X=(0,x.useScrollToField)(),F=(0,d.cI)({resolver:(0,m.X)(B)}),C=F.register,I=F.handleSubmit,L=F.formState.errors,W=(t=(0,i.Z)(l().mark(function _callee(t){return l().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:w(!0),setTimeout(function(){w(!1),null==e||e.onSubmit(t)},3e3);case 2:case"end":return n.stop()}},_callee)})),function(e){return t.apply(this,arguments)}),q=Object.keys(L).length>1;return(0,u.useEffect)(function(){var e;(q||P)&&(null===(e=O.current)||void 0===e||e.focus(),T(!0))},[P,q]),(0,E.BX)(y.Stack,{gap:3,children:[q&&(0,E.BX)(v.PageAlert,{ref:O,tabIndex:-1,tone:"error",title:"There is a problem",children:[(0,E.tZ)(k.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,E.tZ)(S.UnorderedList,{children:Object.entries(L).map(function(e){var t=(0,o.Z)(e,2),n=t[0],r=t[1];return(0,E.tZ)(S.ListItem,{children:(0,E.tZ)(Z.TextLink,{href:"#".concat(n),onClick:X,children:r.message})},n)})})]}),(0,E.tZ)("form",{onSubmit:I(W,function(e,t){console.log(e,t),T(!1)}),noValidate:!0,children:(0,E.BX)(g.FormStack,{children:[(0,E.tZ)(b.TextInput,_objectSpread(_objectSpread({label:"First name"},C("firstName")),{},{id:"firstName",autoComplete:"given-name",invalid:!!(null===(n=L.firstName)||void 0===n?void 0:n.message),message:null===(r=L.firstName)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0})),(0,E.tZ)(b.TextInput,_objectSpread(_objectSpread({label:"Last name"},C("lastName")),{},{id:"lastName",autoComplete:"family-name",invalid:!!(null===(a=L.lastName)||void 0===a?void 0:a.message),message:null===(c=L.lastName)||void 0===c?void 0:c.message,maxWidth:"xl",required:!0})),(0,E.tZ)(N.Select,_objectSpread(_objectSpread({label:"Role"},C("role")),{},{id:"role",placeholder:"Please select",invalid:!!(null===(s=L.role)||void 0===s?void 0:s.message),message:null===(f=L.role)||void 0===f?void 0:f.message,maxWidth:"xl",required:!0,options:[{label:"Employer",value:"Employer"},{label:"Employee",value:"Employee"}]})),(0,E.tZ)("div",{children:(0,E.tZ)(p.Button,{type:"submit",loading:_,children:"Sign in"})})]})})]})}},8160:function(e,t,n){"use strict";var r=n(1502).___internalHook("/","../../../..","../..");e.exports=n(2231),r()},5993:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return n(7590)}])}},function(e){e.O(0,[465,401,662,553,804,250,774,888,179],function(){return e(e.s=5993)}),_N_E=e.O()}]);