(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{89113:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return F}});var o=r(27378),n=r(74578),i=r(54803),a=r(40670),s=r(91689),u=r(18082),c=r(90849),l=r(55732),f=r(57135),p=r.n(f),d=r(32324),m=r(88039),b=r(54389),v=r(92100),h=r(81715),y=r(50456),S=r(68944),O=r(2604),g=r(4401),w=r(75807),k=r(55713),Z=r(51098),P=r(10043),_=r(87800);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(){var e,t,r,o,n=(0,u.Qp)().submitStep,i=(0,O.t)(),a=i.formState,s=i.setFormState,c=i.isSavingBeforeExiting,f=(null===(t=a.task2)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.employeeList)||[],j=(0,m.cI)({defaultValues:null===(r=a.task2)||void 0===r?void 0:r.step2,resolver:c?void 0:(0,d.F)(Z.Kw),mode:"onSubmit",reValidateMode:"onBlur"}),N=j.register,C=j.handleSubmit,F=j.formState.errors,x=(e=(0,l.Z)(p().mark(function e(t){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!c,!e.t0){e.next=4;break}return e.next=4,n();case 4:s(E(E({},a),{},{task2:E(E({},a.task2),{},{step2:E(E({},t),{},{completed:!c,started:!0}),started:!0})}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,_.tZ)(k.T,{formTitle:u.Ag[1].label,formIntroduction:"Add your employee food safety supervisor.",children:(0,_.BX)(y.Stack,{as:"form",gap:3,onSubmit:C(x),children:[(0,_.tZ)(v.ControlGroup,{label:"Who is the appointed Food Safety Supervisor for this business?",block:!0,required:!0,invalid:(0,w.Ap)(F),message:null===(o=F.foodSafetySupervisor)||void 0===o?void 0:o.message,children:f.map(function(e){return e&&(0,P.az)(h.Radio,E(E({},N("foodSafetySupervisor")),{},{value:JSON.stringify(e),key:e.email}),e.firstName," ",e.lastName)})}),(0,_.tZ)(b.Callout,{title:"Food Safety Supervisor Certificate(s) required",tone:"info",children:(0,_.tZ)(S.Text,{as:"p",children:"You will be required to upload a Food Safety Supervisor Certificate for each staff member appointed as a Food Safety Supervisor in the ‘Upload documents’ task of this application."})}),(0,_.tZ)(g.r,{})]})})}var C=function(){return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(a.$,{title:u.Ag[1].label}),(0,_.tZ)(n.PageContent,{children:(0,_.tZ)(N,{})})]})},F=C;C.getLayout=function(e){return(0,_.tZ)(i.L,{focusMode:!0,children:(0,_.tZ)(s.iP,{children:(0,_.tZ)(u.yw,{children:e})})})}},56285:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-2",function(){return r(89113)}])}},function(e){e.O(0,[8629,9998,3662,2552,3803,8786,8486,5717,5265,1610,2924,4373,9806,4803,1689,9774,2888,179],function(){return e(e.s=56285)}),_N_E=e.O()}]);