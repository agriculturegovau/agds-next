(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{89113:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return F}});var o=r(27378),n=r(74578),i=r(54803),a=r(40670),s=r(28517),u=r(18082),c=r(90849),l=r(55732),p=r(57135),f=r.n(p),d=r(32324),m=r(88039),b=r(54389),h=r(92100),y=r(81715),v=r(50456),S=r(68944),O=r(2604),g=r(4401),w=r(75807),k=r(55713),Z=r(51098),P=r(10043),_=r(87800);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,c.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function C(){var e,t,r,o,n=(0,u.Qp)().submitStep,i=(0,O.t)(),a=i.formState,s=i.setFormState,c=(null===(t=a.task2)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.employeeList)||[],p=(0,m.cI)({defaultValues:null===(r=a.task2)||void 0===r?void 0:r.step2,resolver:(0,d.F)(Z.Kw),mode:"onSubmit",reValidateMode:"onBlur"}),j=p.register,C=p.handleSubmit,E=p.formState.errors,F=(e=(0,l.Z)(f().mark(function e(t){return f().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:s(N(N({},a),{},{task2:N(N({},a.task2),{},{step2:N(N({},t),{},{completed:!0})})}));case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,_.tZ)(k.T,{formTitle:u.Ag[1].label,formIntroduction:"Add your employee food safety supervisor.",children:(0,_.BX)(v.Stack,{as:"form",gap:3,onSubmit:C(F),children:[(0,_.tZ)(h.ControlGroup,{label:"Who is the appointed Food Safety Supervisor for this business?",block:!0,required:!0,invalid:(0,w.Ap)(E),message:null===(o=E.foodSafetySupervisor)||void 0===o?void 0:o.message,children:c.map(function(e){return e&&(0,P.az)(y.Radio,N(N({},j("foodSafetySupervisor")),{},{value:JSON.stringify(e),key:e.email}),e.firstName," ",e.lastName)})}),(0,_.tZ)(b.Callout,{title:"Food Safety Supervisor Certificate(s) required",tone:"info",children:(0,_.tZ)(S.Text,{as:"p",children:"You will be required to upload a Food Safety Supervisor Certificate for each staff member appointed as a Food Safety Supervisor in the ‘Upload documents’ task of this application."})}),(0,_.tZ)(g.r,{})]})})}var E=function(){return(0,_.BX)(o.Fragment,{children:[(0,_.tZ)(a.$,{title:u.Ag[1].label}),(0,_.tZ)(n.PageContent,{children:(0,_.tZ)(C,{})})]})},F=E;E.getLayout=function(e){return(0,_.tZ)(i.L,{focusMode:!0,children:(0,_.tZ)(s.iP,{children:(0,_.tZ)(u.yw,{children:e})})})}},56285:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-2",function(){return r(89113)}])}},function(e){e.O(0,[8629,9998,2552,5976,3662,6050,8486,5717,5265,1610,4373,8107,4803,4237,8517,9774,2888,179],function(){return e(e.s=56285)}),_N_E=e.O()}]);