"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8517],{73403:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(50463),n()},47441:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(83846),n()},87913:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(61836),n()},585:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(2836),n()},32379:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(65050),n()},50463:function(e,t,r){r.d(t,{Checkbox:function(){return P}});var n=r(90849),i=r(90089),o=r(27378),a=r(23914),l=r(60893),s=r(10043),c=r(84007),u=r(20607),d=r(87800);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=function(e){var t=e.disabled,r=e.indeterminate,n=e.invalid,i=e.size,o=a.lB.control[i],l=o.width,p=o.height,f=o.borderWidth;return(0,d.tZ)(c.Flex,{as:"span",justifyContent:"center",alignItems:"center",width:l,height:p,flexShrink:0,css:(0,s.iv)(m(m({borderWidth:f,borderStyle:"solid",borderColor:a._X.border,backgroundColor:a._X.backgroundBody,color:a._X.foregroundText},t&&{color:a._X.borderMuted,borderColor:a._X.borderMuted,backgroundColor:a._X.backgroundShade}),n&&{borderColor:a._X.systemError,backgroundColor:a._X.systemErrorMuted}),"",""),rounded:!0,children:r?(0,d.tZ)(u.V_,{size:i,weight:"bold"}):(0,d.tZ)(u.nQ,{size:i,weight:"bold"})})},b=r(64388);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=(0,o.forwardRef)(function(e,t){return(0,d.tZ)("input",h({ref:t,css:(0,s.iv)(h(h({},b.JM),{},{"&:focus-visible ~ span:first-of-type":a.lB.outline,"~ span > svg":{opacity:0},"&:checked ~ span > svg, &:indeterminate ~ span > svg":{opacity:1}}),"","")},e))});function y(e){var t=e.children,r=e.disabled;return(0,d.tZ)(c.Flex,{as:"label",alignItems:"flex-start",color:"text",gap:.5,inline:!0,css:(0,s.iv)({cursor:r?"not-allowed":"pointer"},"",""),children:t})}var O=r(89205),S={sm:0,md:"0.2rem"};function k(e){var t=e.children,r=e.disabled,n=S[e.size];return(0,d.tZ)(O.Text,{flexGrow:1,color:r?"muted":"text",css:(0,s.iv)({paddingTop:n},"",""),children:t})}var Z=["children","disabled","invalid","size","indeterminate","checked"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var P=(0,o.forwardRef)(function(e,t){var r=e.children,s=e.disabled,c=e.invalid,u=e.size,p=void 0===u?"md":u,m=e.indeterminate,b=e.checked,v=(0,i.Z)(e,Z),h=(0,o.useRef)(null),O=(0,l.j)(),S="boolean"==typeof c?c:null==O?void 0:O.invalid;(0,o.useEffect)(function(){h.current&&(h.current.indeterminate=!!m)},[m]);var P=!m&&b;return(0,d.BX)(y,{disabled:s,children:[(0,d.tZ)(g,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:(0,a.lq)([t,h]),type:"checkbox",disabled:s,"aria-invalid":S?"true":void 0,"aria-describedby":S?null==O?void 0:O.messageId:void 0,checked:P,"aria-checked":m?"mixed":void 0},v)),(0,d.tZ)(f,{disabled:s,invalid:S,size:p,indeterminate:m}),(0,d.tZ)(k,{disabled:s,size:p,children:r})]})})},83846:function(e,t,r){r.d(t,{ComboboxMulti:function(){return ee}});var n=r(27378),i=r(23914),o=r(53223);r(11725);var a=r(60954),l=r(89205),s=r(7226),c=r(87800),u={name:"ozd7xs",styles:"flex-shrink:0"},d={name:"6p0xhm",styles:"margin-left:auto;flex-shrink:0"};function p(e){var t=e.itemLabel,r=e.inputValue,i=e.beforeElement,o=e.endElement,a=e.secondaryText,p=e.tertiaryText;return(0,c.BX)(n.Fragment,{children:[i?(0,c.tZ)("div",{css:u,children:i}):null,(0,c.BX)(s.Stack,{as:"span",children:[(0,c.tZ)("span",{children:(function(e,t){if(!t)return[e];for(var r=t.toLowerCase(),n=e.toLowerCase(),i=[],o=0;o<e.length;){var a=e.slice(o),l=n.slice(o).indexOf(r);if(-1===l){i.push(a);break}0!==l&&i.push(a.slice(0,l)),i.push(a.slice(l,l+r.length)),o+=l+r.length}return i})(t,r).map(function(e,t){return e.toLowerCase()===r.toLowerCase()?(0,c.tZ)(l.Text,{as:"mark",color:"inherit",fontWeight:"bold",css:m,children:e},t):(0,c.tZ)(l.Text,{as:"span",color:"inherit",children:e},t)})}),a?(0,n.isValidElement)(a)?a:(0,c.tZ)(l.Text,{color:"muted",fontSize:"xs",children:a}):null,p?(0,n.isValidElement)(p)?p:(0,c.tZ)(l.Text,{color:"muted",fontSize:"xs",children:p}):null]}),o?(0,c.tZ)("div",{css:d,children:o}):null]})}var m={name:"bigtx2",styles:"background:none"},f=r(90849),b=r(10043),v=r(90089),h=r(84007),g=["children","isActiveItem","isInteractive"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S={color:i._X.foregroundText,backgroundColor:i._X.backgroundShade,"> span":i.lB.underline},k=(0,n.forwardRef)(function(e,t){var r=e.children,n=e.isActiveItem,o=e.isInteractive,a=(0,v.Z)(e,g);return(0,c.tZ)(h.Flex,O(O({ref:t,as:"li",paddingX:1,paddingY:.75,borderBottom:!0,borderColor:"muted",alignItems:"center",gap:.75,css:(0,b.iv)(O(O(O({},void 0===o||o?{cursor:"pointer",color:i._X.foregroundAction,"&:hover":S}:void 0),n?S:void 0),{},{"&:last-of-type":{borderBottom:"none"}}),"","")},a),{},{children:r}))}),Z=r(31369);function w(){return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(h.Flex,{gap:1,alignItems:"center",children:[(0,c.tZ)(Z.xg,{size:"sm","aria-label":"Loading"}),(0,c.tZ)(l.Text,{children:"Loading"})]})})}var P=r(20607),j={name:"ozd7xs",styles:"flex-shrink:0"};function x(){return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(h.Flex,{alignItems:"center",gap:.5,children:[(0,c.tZ)(P.AlertFilledIcon,{color:"error",css:j}),(0,c.tZ)(l.Text,{children:"Something went wrong."})]})})}function C(e){var t=e.message;return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.tZ)(l.Text,{children:t})})}var T=r(11475),B=r(84815),I=["isOpen"],A=["disabled","icon"];function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function X(e){var t=e.children;return(0,c.tZ)(h.Flex,{alignItems:"center",gap:.25,css:(0,b.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,i.mapSpacing)(.5)," + ").concat(i.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)"},"",""),children:t})}function L(){return(0,c.tZ)(B.Box,{"aria-hidden":!0,height:"1.5rem",borderLeft:!0,borderLeftWidth:"md",borderColor:"muted"})}var F=(0,n.forwardRef)(function(e,t){return(0,c.tZ)(R,D({ref:t,"aria-label":"Clear input",icon:P.Tw},e))}),N=(0,n.forwardRef)(function(e,t){var r=e.isOpen,n=(0,v.Z)(e,I);return(0,c.tZ)(R,D({ref:t,"aria-label":"Toggle menu",icon:r?P.g8:P.ChevronDownIcon},n))}),R=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.icon,o=(0,v.Z)(e,A);return(0,c.tZ)(T.BaseButton,D(D({ref:t,disabled:r,css:(0,b.iv)(D(D({display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",color:i._X.foregroundAction},r&&{cursor:"not-allowed",opacity:.3}),{},{"&:hover":{color:i._X.foregroundText}},B.j4),"","")},o),{},{children:(0,c.tZ)(n,{color:"inherit",size:"md"})}))}),_=r(11246),q=["disabled","children","onRemove"];function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var M=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.children,o=e.onRemove,a=(0,v.Z)(e,q);return(0,c.BX)(h.Flex,z(z({ref:t,as:"span",inline:!0,alignItems:"center",border:!0,rounded:!0,paddingLeft:.5,paddingRight:.25,gap:.25,fontSize:"sm",color:"text",focus:!0,css:(0,b.iv)(z({cursor:"pointer"},r&&{cursor:"not-allowed",borderColor:i._X.borderMuted,color:i._X.foregroundMuted}),"","")},a),{},{children:[n,(0,c.tZ)(h.Flex,{as:"span",height:(0,i.mapSpacing)(1.5),width:(0,i.mapSpacing)(1.5),alignItems:"center",justifyContent:"center",onClick:function(e){r||(e.stopPropagation(),o())},focus:!0,css:(0,b.iv)(z({cursor:"pointer",svg:{display:"block",color:i._X.foregroundAction},"&:hover":{svg:{color:i._X.foregroundText}}},r&&{cursor:"not-allowed",opacity:.3}),"",""),children:(0,c.tZ)(P.Tw,{size:"sm"})})]}))}),W=["label","hideOptionalLabel","required","hint","message","invalid","inputId","disabled","block","maxWidth","renderItem","emptyResultsMessage","loading","networkError","combobox","inputItems","selectedItems","setSelectedItems","multiSelection","inputRef","onBlur","onFocus"];function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Y(e){var t,r,l,s,u,d,m,f=e.label,b=e.hideOptionalLabel,g=e.required,y=e.hint,O=e.message,S=e.invalid,Z=void 0!==S&&S,P=e.inputId,j=e.disabled,T=void 0!==j&&j,B=e.block,I=e.maxWidth,A=void 0===I?"xl":I,E=e.renderItem,D=void 0===E?function(e,t){return(0,c.tZ)(p,{itemLabel:e.label,inputValue:t})}:E,R=e.emptyResultsMessage,q=void 0===R?"No options found.":R,V=e.loading,z=e.networkError,H=e.combobox,Y=e.inputItems,J=e.selectedItems,G=e.setSelectedItems,Q=e.multiSelection,$=e.inputRef,U=e.onBlur,ee=e.onFocus,et=(0,v.Z)(e,W),er=(0,n.useRef)(null),en=(0,i.useTernaryState)(!1),ei=(0,_.Z)(en,3),eo=ei[0],ea=ei[1],el=ei[2],es=(0,o.S)({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:H.isOpen}),ec=(null==J?void 0:J.length)>0,eu=(r=(t={block:void 0===B||B,disabled:T,invalid:Z||!!et["aria-invalid"],isInputFocused:eo,maxWidth:A,showClearButton:ec}).block,l=t.disabled,s=t.invalid,u=t.isInputFocused,d=t.maxWidth,m=t.showClearButton,{fieldContainer:K({},!r&&{maxWidth:i.tokens.maxWidth.field[d]}),container:K(K(K(K({position:"relative",cursor:"text",background:i._X.backgroundBody,borderWidth:i.tokens.borderWidth.lg,borderStyle:"solid",borderColor:i._X.border,borderRadius:i.tokens.borderRadius,color:i._X.foregroundText},i.lB.input.md),{},{height:"auto",minHeight:i.lB.input.md.height,margin:0,paddingTop:(0,i.mapSpacing)(.25),paddingBottom:(0,i.mapSpacing)(.25),paddingLeft:(0,i.mapSpacing)(.5),paddingRight:m?"5rem":"3rem"},l&&{cursor:"not-allowed",borderColor:i._X.borderMuted,backgroundColor:i._X.backgroundShade,color:i._X.foregroundMuted}),s&&{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError}),u&&i.lB.outline),inputContainer:{display:"flex",flex:"1 1 2rem"},input:K(K({appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:i._X.backgroundBody,color:i._X.foregroundText,fontFamily:i.tokens.font.body},(0,i.vY)("sm","default")),{},{'&[aria-invalid="true"]':{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:i._X.foregroundMuted,backgroundColor:i._X.backgroundShade}})}),ed=(0,n.useRef)(null),ep=(0,n.useCallback)(function(e){var t;e.target===ed.current&&(null===(t=er.current)||void 0===t||t.focus())},[er]),em=(0,n.useCallback)(function(){var e;G([]),null===(e=er.current)||void 0===e||e.focus()},[G]),ef=$?(0,i.lq)([er,$]):er,eb=H.getLabelProps().id;return(0,c.tZ)(a.gN,{label:f,labelId:eb,hideOptionalLabel:b,required:!!g,hint:y,maxWidth:A,message:O,invalid:Z,id:P,children:function(e){return(0,c.BX)("div",K(K({},es.getReferenceProps()),{},{css:eu.fieldContainer,onClick:ep,children:[(0,c.BX)(h.Flex,{ref:ed,gap:.5,flexWrap:"wrap",alignItems:"center",css:eu.container,children:[J.map(function(e,t){return(0,c.tZ)(M,K(K({onRemove:function(){return Q.removeSelectedItem(e)},disabled:T},Q.getSelectedItemProps({selectedItem:e,index:t})),{},{children:e.label}),"selected-item-".concat(t))}),(0,c.tZ)("div",{css:eu.inputContainer,children:(0,c.tZ)("input",K(K({disabled:T},H.getInputProps(Q.getDropdownProps(K(K(K({},e),{"aria-describedby":et["aria-describedby"]||e["aria-describedby"],"aria-invalid":et["aria-invalid"]||e["aria-invalid"]}),{},{ref:ef,type:"text",preventKeyAction:H.isOpen,onFocus:function(e){null==ee||ee(e),ea()},onBlur:function(e){null==U||U(e),el()}})))),{},{css:eu.input}))}),(0,c.BX)(X,{children:[ec&&(0,c.BX)(n.Fragment,{children:[(0,c.tZ)(F,{disabled:T,onClick:em}),(0,c.tZ)(L,{})]}),(0,c.tZ)(N,K({},H.getToggleButtonProps({isOpen:H.isOpen,disabled:T})))]})]}),(0,c.tZ)(o.J,K(K({as:"ul"},H.getMenuProps(es.getPopoverProps())),{},{visibility:H.isOpen?"visible":"hidden",children:H.isOpen?(0,c.tZ)(n.Fragment,{children:V?(0,c.tZ)(w,{}):z?(0,c.tZ)(x,{}):(0,c.tZ)(n.Fragment,{children:null!=Y&&Y.length?Y.map(function(e,t){return(0,c.tZ)(k,K(K({isActiveItem:H.highlightedIndex===t,isInteractive:!0},H.getItemProps({item:e,index:t})),{},{children:D(e,H.inputValue)}),"".concat(e.value,"-").concat(t))}):(0,c.tZ)(C,{message:q})})}):null}))]}))}})}var J=r(44285),G=r(33635),Q=["id","value","onChange","options"];function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e){var t,r=e.id,o=e.value,a=e.onChange,l=e.options,s=(0,v.Z)(e,Q),u=(0,n.useState)(""),d=u[0],p=u[1],m=(t=(0,i.Me)(),r||"combobox-input-".concat(t)),f=(0,n.useState)([]),b=f[0],h=f[1],g=void 0===o?b:o,y=(0,n.useCallback)(function(e){h(e),null==a||a(e)},[a]),O=(0,n.useMemo)(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=(null==t?void 0:t.toLowerCase())||"";return e.filter(function(e){var t=e.value.toLowerCase().includes(n)||e.label.toLowerCase().includes(n);return void 0===r?t:t&&!(null!=r&&r.some(function(t){return t.label===e.label&&t.value===e.value}))})}(l,d,g)},[l,d,g]),S=(0,G.M$)({selectedItems:g,onStateChange:function(e){var t=e.selectedItems;switch(e.type){case G.M$.stateChangeTypes.SelectedItemKeyDownBackspace:case G.M$.stateChangeTypes.SelectedItemKeyDownDelete:case G.M$.stateChangeTypes.DropdownKeyDownBackspace:case G.M$.stateChangeTypes.FunctionRemoveSelectedItem:y(null!=t?t:[])}}}),k=(0,G.Kb)({inputValue:d,inputId:m,items:null!=O?O:[],itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},defaultHighlightedIndex:0,selectedItem:null,stateReducer:function(e,t){var r=t.changes;switch(t.type){case G.Kb.stateChangeTypes.InputKeyDownEnter:case G.Kb.stateChangeTypes.ItemClick:return U(U({},r),{},{isOpen:!0,highlightedIndex:0});default:return r}},onStateChange:function(e){var t=e.inputValue,r=e.type,n=e.selectedItem;switch(r){case G.Kb.stateChangeTypes.InputKeyDownEnter:case G.Kb.stateChangeTypes.ItemClick:case G.Kb.stateChangeTypes.InputBlur:n&&(y([].concat((0,J.Z)(g),[n])),p(""));break;case G.Kb.stateChangeTypes.InputChange:p(void 0===t?"":t)}}});return(0,c.tZ)(Y,U({combobox:k,multiSelection:S,inputItems:O,inputId:m,selectedItems:g,setSelectedItems:y},s))}r(57135)},2836:function(e,t,r){r.d(t,{Fieldset:function(){return m}});var n=r(23914),i=r(84815),o=r(87800),a=function(e){var t=e["aria-describedby"],r=e.children,n=e.id;return(0,o.tZ)(i.Box,{as:"fieldset","aria-describedby":t,id:n,children:r})},l=r(27378),s=r(89205),c=function(e){var t=e.children;return(0,l.isValidElement)(t)?(0,o.tZ)("legend",{children:t}):(0,o.tZ)(s.Text,{as:"legend",fontWeight:"bold",fontSize:"lg",lineHeight:"heading",children:t})},u=r(10043),d=function(e){var t=e.children,r=e.id;return(0,l.isValidElement)(t)?(0,o.tZ)("div",{id:r,css:(0,u.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),children:t}):(0,o.tZ)(s.Text,{fontSize:"sm",color:"muted",display:"block",css:(0,u.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),id:r,children:t})},p=function(e){var t=e.children;return(0,o.tZ)("div",{css:(0,u.iv)({marginTop:(0,n.mapSpacing)(2)},"",""),children:t})},m=function(e){var t=e.children,r=e.hint,n=e.legend,i=f(e.id),l=i.fieldsetId,s=i.hintId;return(0,o.BX)(a,{id:l,"aria-describedby":r?s:void 0,children:[(0,o.tZ)(c,{children:n}),r?(0,o.tZ)(d,{id:s,children:r}):null,(0,o.tZ)(p,{children:t})]})},f=function(e){var t=(0,n.Me)(e);return{fieldsetId:e||"fieldset-".concat(t),hintId:"fieldset-".concat(t,"-hint")}}},65050:function(e,t,r){r.d(t,{SectionAlert:function(){return O}});var n=r(90849),i=r(90089),o=r(27378),a=r(76128),l=r(68944),s=r(88614),c=r(10043),u=r(11475),d=r(23914),p=r(20607),m=r(87800),f=function(e){var t=e.onClick;return(0,m.tZ)(u.Button,{onClick:t,iconAfter:p.Tw,variant:"text","aria-label":"Close",css:(0,c.iv)({flexShrink:0,"& > span:first-of-type":(0,n.Z)({display:"none"},d.tokens.mediaQuery.min.sm,{display:"block"})},"",""),children:"Close"})},b=r(40631),v={success:(0,m.tZ)(b.SuccessFilledIcon,{color:"success","aria-hidden":"false","aria-label":"Success"}),error:(0,m.tZ)(b.AlertFilledIcon,{color:"error","aria-hidden":"false","aria-label":"Error"}),warning:(0,m.tZ)(b.WarningFilledIcon,{color:"warning","aria-hidden":"false","aria-label":"Warning"})},h=["id","role","tabIndex","tone","title","children","onClose","onDismiss"];function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=(0,o.forwardRef)(function(e,t){var r=e.id,n=e.role,o=e.tabIndex,c=e.tone,u=e.title,d=e.children,p=e.onClose,b=e.onDismiss,g=(0,i.Z)(e,h),O=v[c],S=(0,s.Nl)(p,b);return(0,m.BX)(a.Flex,y(y({ref:t,role:n,id:r,tabIndex:o,rounded:!0,focus:!0,background:c,borderColor:c,borderLeft:!0,borderLeftWidth:"xl",highContrastOutline:!0,gap:.5,padding:1,alignItems:"center",justifyContent:"space-between"},g),{},{children:[(0,m.BX)(a.Flex,{gap:.5,children:[O,(0,m.BX)(a.Flex,{gap:.25,flexDirection:"column",children:[u&&(0,m.tZ)(l.Text,{fontWeight:"bold",children:u}),d]})]}),S?(0,m.tZ)(f,{onClick:S}):null]}))})},92622:function(e,t,r){r.d(t,{TimeInput:function(){return h}});var n=r(90849),i=r(90089),o=r(27378),a=r(60954),l=r(11725),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)return"";var r=new Date,n=(null!==e.match(/\d+/)?3===e.replace(/\s/g,"").length?null!==(i=null===(o=e.match(/(\w{1})(\w{1,2})/))||void 0===o?void 0:o.slice(1))&&void 0!==i?i:[]:null!==(a=e.match(/\d{1,2}/gi))&&void 0!==a?a:[]:[]).map(function(e){return 0|Number(e)});if(0===n.length||n[0]>24||n.length>1&&n[1]>59)return e;if(n[0]<=12){var i,o,a,l,s,c,d,p=null!==(c=e.match(/[a-zA-Z]{1,2}/))&&void 0!==c?c:[];switch(p.length>0?null===(d=p[0])||void 0===d?void 0:d.toLowerCase():12===n[0]?"pm":"am"){case"pm":case"p":r.setHours(12===n[0]?12:n[0]+12);break;default:r.setHours(n[0]%12)}}else r.setHours(n[0]);r.setMinutes(null!==(l=n[1])&&void 0!==l?l:0),r.setSeconds(null!==(s=n[2])&&void 0!==s?s:0);var m=new Intl.DateTimeFormat("en-GB",u[t]).format(r);return"HH:mm"===t&&m.startsWith("24:")?"00:".concat(m.split(":")[1]):m};function c(e,t){return void 0===e?"":s(e,t)}var u={"h:mm aaa":{hour:"numeric",hourCycle:"h12",minute:"2-digit"},"hh:mm aaa":{hour:"2-digit",hourCycle:"h12",minute:"2-digit"},"HH:mm":{hour:"2-digit",hourCycle:"h24",minute:"2-digit"}},d=Object.keys(u),p=r(87800),m=["block","hideOptionalLabel","hint","id","invalid","label","maxWidth","message","onBlur","onChange","required","timeFormat","value"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v={formatted:"",raw:""},h=(0,o.forwardRef)(function(e,t){var r=e.block,n=e.hideOptionalLabel,u=e.hint,f=e.id,h=e.invalid,g=e.label,y=e.maxWidth,O=void 0===y?"md":y,S=e.message,k=e.onBlur,Z=e.onChange,w=e.required,P=e.timeFormat,j=void 0===P?"h:mm aaa":P,x=e.value,C=void 0===x?v:x,T=(0,i.Z)(e,m),B=(0,o.useState)(c(null==C?void 0:C.raw,j)),I=B[0],A=B[1];(0,o.useEffect)(function(){A(c(C.raw,j))},[j,C]);var E=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.value,n=s(r,"HH:mm");null==Z||Z({formatted:s(r,j),raw:n}),null==k||k(e)},D=function(e){var t;A(null===(t=e.target)||void 0===t?void 0:t.value)},X=(0,o.useMemo)(function(){return"(e.g. "+s("21:30",d.includes(j)?j:"h:mm aaa")+")"},[j]),L=(0,l.c)({block:r,maxWidth:O});return(0,p.tZ)(a.gN,{hideOptionalLabel:n,hint:u,id:f,invalid:h,label:g,maxWidth:O,message:S,required:!!w,secondaryLabel:X,children:function(e){return(0,p.tZ)("input",b(b({},e),{},{css:L,onBlur:E,onChange:D,ref:t,type:"text",value:I},T))}})})},80502:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(92622),n()},97532:function(e,t,r){r.d(t,{Y:function(){return c}});var n=r(27378),i=r(50456),o=r(4041),a=r(90632),l=r(2604),s=r(87800);function c(e){var t=e.children,r=e.task,a=e.title,c=e.introduction,d=e.callToAction,p=(0,l.t)().formTitle,m=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e;null===(e=m.current)||void 0===e||e.focus()},[]),(0,s.BX)(i.Stack,{gap:3,width:"100%",children:[(0,s.tZ)(o.D,{titleRef:m,formTitle:[p,u[r]].join(" - "),stepTitle:a,introduction:c,callToAction:d}),t]})}console.log(1,a.b[1].label);var u={1:a.b[0].label,2:a.b[1].label,3:a.b[2].label,4:a.b[3].label}},2604:function(e,t,r){r.d(t,{i:function(){return b},t:function(){return v}});var n=r(90849),i=r(11246),o=r(86677),a=r(27378),l=r(63662),s=r(58333),c=r(51098),u={task1:s.B5,task2:c.ng,task3:{started:!1,completed:!1},task4:{started:!1,completed:!1}},d=r(87800);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=(0,a.createContext)(void 0);function b(e){var t,r,s,c,p,b,v,h,g,y=e.children,O=(0,o.useRouter)(),S=(t="FormMobileFoodVendorPermit",s=(r=(0,a.useState)(!1))[0],c=r[1],b=(p=(0,a.useState)(u))[0],v=p[1],(0,a.useEffect)(function(){var e=sessionStorage.getItem(t),r=e?JSON.parse(e):null;r&&v(r),c(!0)},[u,t]),(h=(0,a.useRef)(b)).current=b,[s,b,(0,a.useCallback)(function(e){var r;r=e instanceof Function?e(h.current):e,sessionStorage.setItem(t,JSON.stringify(r)),v(r)},[t])]),k=(0,i.Z)(S,3),Z=k[0],w=k[1],P=k[2],j=null!==(g=(0,l.useSearchParams)().get("type"))&&void 0!==g?g:"",x="Apply for a ".concat(j," permit"),C="/app/licences-and-permits/apply/mobile-food-vendor-permit/form?type=".concat(j),T=(0,a.useCallback)(function(e){var t,r,n;return e==="task".concat(O.query.taskHighlight)&&(null===(t=w[e])||void 0===t?void 0:t.completed)?"doneRecently":null!==(r=w[e])&&void 0!==r&&r.completed?"done":null!==(n=w[e])&&void 0!==n&&n.started?"doing":"todo"},[w,O.query.taskHighlight]),B=(0,a.useCallback)(function(e){P(function(t){return m(m({},t),{},(0,n.Z)({},e,m(m({},t[e]),{},{started:!0})))})},[P]),I=(0,a.useState)(!1),A=I[0],E=I[1],D=(0,a.useCallback)(function(){O.push(C)},[C,O]),X=(0,a.useState)(!1),L=X[0],F=X[1],N=(0,a.useCallback)(function(){F(!0),setTimeout(function(){F(!1),O.push(C)},1500)},[C,O]);return Z?(0,d.tZ)(f.Provider,{value:{formTitle:x,typeSearchParm:j,homePageUrl:C,getTaskStatus:T,startTask:B,formState:w,setFormState:P,isSubmittingStep:A,setIsSubmittingStep:E,cancel:D,saveAndExit:N,isSavingBeforeExiting:L},children:y}):null}function v(){var e=(0,a.useContext)(f);if(!e)throw Error("Context provider not found");return e}},4401:function(e,t,r){r.d(t,{r:function(){return m}});var n=r(11246),i=r(27378),o=r(51036),a=r(73469),l=r(50456),s=r(68944),c=r(56273),u=r(47586),d=r(2604),p=r(87800);function m(){var e=(0,c.useTernaryState)(!1),t=(0,n.Z)(e,3),r=t[0],m=t[1],f=t[2],b=(0,d.t)(),v=b.isSubmittingStep,h=b.saveAndExit,g=b.isSavingBeforeExiting,y=b.cancel;return(0,p.BX)(i.Fragment,{children:[(0,p.BX)(l.Stack,{gap:3,children:[(0,p.tZ)(u.Divider,{}),(0,p.BX)(o.ButtonGroup,{children:[(0,p.tZ)(o.Button,{type:"submit",variant:"primary",loading:v,children:"Save and continue"}),(0,p.tZ)(o.Button,{type:"button",variant:"secondary",loading:g,onClick:h,children:"Save and exit"}),(0,p.tZ)(o.Button,{type:"button",variant:"tertiary",onClick:m,children:"Cancel"})]})]}),(0,p.tZ)(a.Modal,{isOpen:r,onClose:f,title:"Are you sure you want to cancel?",actions:(0,p.BX)(o.ButtonGroup,{children:[(0,p.tZ)(o.Button,{onClick:y,children:"Yes, cancel"}),(0,p.tZ)(o.Button,{variant:"secondary",onClick:f,children:"No, take me back"})]}),children:(0,p.tZ)(s.Text,{as:"p",children:"If you cancel, you will lose all information entered."})})]})}},90632:function(e,t,r){r.d(t,{b:function(){return n}});var n=[{formStateKey:"task1",label:"Provide business details",href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-1/step-1",message:"Confirm your business details"},{formStateKey:"task2",label:"Provide employee details",href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-1",message:"Provide employee names and email addresses"},{formStateKey:"task3",label:"Upload documents",href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-3/step-1",message:"Provide the documents required for your application"},{formStateKey:"task4",label:"Review and submit",href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-4/step-1",message:"Check all details and submit your application"}]},28517:function(e,t,r){r.d(t,{Ty:function(){return j},nL:function(){return H},$v:function(){return ei},$x:function(){return es},mu:function(){return ef},QZ:function(){return eO},M$:function(){return eC},V7:function(){return eE},hr:function(){return e_},yw:function(){return eq.yw},nt:function(){return eK},Fm:function(){return eJ},Sf:function(){return g},iP:function(){return n.i},b6:function(){return i.b},Yi:function(){return w},t7:function(){return n.t}});var n=r(2604),i=r(90632),o=r(90849),a=r(63374),l=r(86677),s=r(88039),c=r(68301),u=r(81715),d=r(57449),p=r(92100),m=r(51036),f=r(87800);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=c.Ry({businessType:c.Z_().typeError("Business type is required")}).required();function g(e){var t,r,n=e.children,i=(0,l.useRouter)(),o=(0,s.cI)({resolver:(0,a.X)(h),mode:"onSubmit",reValidateMode:"onBlur"}),c=o.register,b=o.handleSubmit,g=o.formState.errors;return(0,f.tZ)("form",{onSubmit:b(function(e){var t;i.push({pathname:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form",query:{type:null===(t=e.businessType)||void 0===t?void 0:t.toLowerCase()}})}),children:(0,f.BX)(d.FormStack,{children:[(0,f.tZ)(p.ControlGroup,{label:"What type of business do you operate?",invalid:!!(null===(t=g.businessType)||void 0===t?void 0:t.message),message:null===(r=g.businessType)||void 0===r?void 0:r.message,required:!0,block:!0,children:["Food van","Coffee truck","Market stall"].map(function(e){var t;return(0,f.tZ)(u.Radio,v(v({},c("businessType")),{},{value:e,invalid:!!(null===(t=g.businessType)||void 0===t?void 0:t.message),children:e}),e)})}),n((0,f.tZ)(m.ButtonGroup,{children:(0,f.tZ)(m.Button,{type:"submit",children:"Apply for permit"})}))]})})}var y=r(55732),O=r(57135),S=r.n(O),k=r(27378),Z=r(75807),w=[{formStateKey:"step1",label:"Owner details",href:Z.aq+"/task-1/step-1"},{formStateKey:"step2",label:"Business details",href:Z.aq+"/task-1/step-2"},{formStateKey:"step3",label:"Business address",href:Z.aq+"/task-1/step-3"},{formStateKey:"step4",label:"Vehicle registration",href:Z.aq+"/task-1/step-4"},{formStateKey:"step5",label:"Trading time",href:Z.aq+"/task-1/step-5"},{formStateKey:"step6",label:"Food served",href:Z.aq+"/task-1/step-6"},{formStateKey:"step7",label:"Confirm and submit",href:Z.aq+"/task-1/step-7"}],P=(0,k.createContext)(void 0);function j(e){var t,r,i=e.children,o=(0,l.useRouter)(),a=o.pathname,s=o.push,c=(0,n.t)(),u=c.setIsSubmittingStep,d=c.typeSearchParm,p=c.formState,m=w.findIndex(function(e){return e.href===a}),b=(0,k.useCallback)((0,y.Z)(S().mark(function e(){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,new Promise(function(e){return setTimeout(e,1500)});case 3:s((0,Z.lt)({currentStepIndex:m,steps:w,taskHighlight:1,typeSearchParm:d})),u(!1);case 6:case"end":return e.stop()}},e)})),[m,s,u,d]),v="".concat(null!==(t=null===(r=w[m-1])||void 0===r?void 0:r.href)&&void 0!==t?t:Z.aq,"?type=").concat(d),h=(0,k.useMemo)(function(){var e,t,r,n,i,o;return null!==(e=p.task1)&&void 0!==e&&null!==(e=e.step1)&&void 0!==e&&!!e.completed&&null!==(t=p.task1)&&void 0!==t&&null!==(t=t.step2)&&void 0!==t&&!!t.completed&&null!==(r=p.task1)&&void 0!==r&&null!==(r=r.step3)&&void 0!==r&&!!r.completed&&null!==(n=p.task1)&&void 0!==n&&null!==(n=n.step4)&&void 0!==n&&!!n.completed&&null!==(i=p.task1)&&void 0!==i&&null!==(i=i.step5)&&void 0!==i&&!!i.completed&&null!==(o=p.task1)&&void 0!==o&&null!==(o=o.step6)&&void 0!==o&&!!o.completed},[p]);return(0,f.tZ)(P.Provider,{value:{backHref:v,submitStep:b,canConfirmAndSubmit:h},children:i})}function x(){var e=(0,k.useContext)(P);if(!e)throw Error("Context provider not found");return e}var C=r(32324),T=r(20034),B=r(94303),I=r(41380),A=r(50456),E=r(32379),D=r(20329),X=r(61444),L=r(4401),F=r(2951),N=r(74578),R=r(63846),_=r(10957),q=r(97532);function V(e){var t=e.formTitle,r=e.formIntroduction,i=e.formCallToAction,o=e.children,a=(0,l.useRouter)().pathname,s=(0,n.t)(),c=s.formState,u=s.typeSearchParm,d=s.startTask,p=x(),m=p.backHref,b=p.canConfirmAndSubmit;return(0,k.useEffect)(function(){d("task1")},[d]),(0,f.BX)(F.Columns,{children:[(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(N.ContentBleed,{visible:{md:!1},children:(0,f.tZ)(R.ProgressIndicator,{items:w.map(function(e,t){var r,n;return{label:e.label,href:e.href+"?type=".concat(u),status:(n=w[t]).href===a?"doing":null!==(r=c.task1)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step7"!==n.formStateKey||b?"todo":"blocked"}})})})}),(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(A.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(_.DirectionLink,{direction:"left",href:m,children:"Back"}),(0,f.tZ)(q.Y,{task:1,title:t,introduction:r,callToAction:i,children:o})]})})]})}var z=r(58333);function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function H(){var e,t=(0,n.t)(),r=t.formState,i=t.typeSearchParm,o=null===(e=r.task1)||void 0===e?void 0:e.step1,a="true"===(0,l.useRouter)().query.success,s=(0,k.useState)(a),c=s[0],u=s[1];return(0,k.useEffect)(function(){u(a)},[a]),(0,f.tZ)(V,{formTitle:"Owner details",formIntroduction:"Confirm your name and contact details.",children:(0,f.BX)(A.Stack,{gap:3,alignItems:"flex-start",width:"100%",children:[(0,f.BX)(A.Stack,{gap:1.5,width:"100%",children:[(0,f.tZ)(B.H2,{children:"Confirm business owner details"}),(0,f.tZ)(T.Details,{label:"How were my details prefilled?",iconBefore:!0,children:(0,f.BX)(I.Prose,{children:[(0,f.tZ)("p",{children:"We’re working hard to improve the way we do business with you. This includes making applications and registrations easier to use."}),(0,f.tZ)("p",{children:"If we already have some of the information you need to tell us, we’ll pre-fill it into your applications. This saves you entering all your details yourself."}),(0,f.tZ)("p",{children:"It’s important to check the pre-filled information in your report before you submit it."})]})}),c&&(0,f.tZ)(E.SectionAlert,{title:"Business owner details have been updated",tone:"success",onClose:function(){return u(!1)}}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.BX)(D.SummaryList,{children:[(0,f.BX)(D.SummaryListItem,{children:[(0,f.tZ)(D.SummaryListItemTerm,{children:"First name"}),(0,f.tZ)(D.SummaryListItemDescription,{children:null==o?void 0:o.firstName})]}),(0,f.BX)(D.SummaryListItem,{children:[(0,f.tZ)(D.SummaryListItemTerm,{children:"Last name"}),(0,f.tZ)(D.SummaryListItemDescription,{children:null==o?void 0:o.lastName})]}),(0,f.BX)(D.SummaryListItem,{children:[(0,f.tZ)(D.SummaryListItemTerm,{children:"Email"}),(0,f.tZ)(D.SummaryListItemDescription,{children:null==o?void 0:o.email})]})]}),(0,f.tZ)(m.ButtonLink,{href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-1/step-1/change-details?type=".concat(i),variant:"text",children:"Change business owner details"})]})]}),(0,f.tZ)(K,{})]})})}function K(){var e,t,r,i=(0,n.t)(),o=i.formState,a=i.setFormState,l=x().submitStep,c=(0,s.cI)({defaultValues:{contactPhoneNumber:null===(t=o.task1)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.contactPhoneNumber},resolver:(0,C.F)(z.JC),mode:"onSubmit",reValidateMode:"onBlur"}),u=c.register,d=c.handleSubmit,p=c.formState.errors,m=(e=(0,y.Z)(S().mark(function e(t){var r;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:a(W(W({},o),{},{task1:W(W({},o.task1),{},{step1:W(W(W({},null===(r=o.task1)||void 0===r?void 0:r.step1),t),{},{completed:!0})})}));case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:d(m),children:[(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H2,{children:"Additional details"}),(0,f.tZ)(X.TextInput,W(W({label:"Contact phone number",hint:"Any Australian mobile or landline, for example 0444111222 or 02 9988 7766",id:"contactPhoneNumber"},u("contactPhoneNumber")),{},{message:null===(r=p.contactPhoneNumber)||void 0===r?void 0:r.message,invalid:!!p.contactPhoneNumber}))]}),(0,f.tZ)(L.r,{})]})}var Y=r(11246),J=r(47586),G=r(37654),Q=r(16096),$=r(38163),U=r(68944),ee=r(79706),et=r(39402);function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(){var e,t,r,i,o,a,c,u=(0,l.useRouter)(),p=(0,n.t)(),b=p.formState,v=p.setFormState,h=p.typeSearchParm,g=(0,G.useScrollToField)(),y=(0,k.useRef)(null),O=(0,k.useState)(!1),S=O[0],Z=O[1],P=(0,s.cI)({defaultValues:null===(e=b.task1)||void 0===e?void 0:e.step1,resolver:(0,C.F)(z.KC),mode:"onSubmit",reValidateMode:"onBlur"}),j=P.register,T=P.handleSubmit,I=P.formState.errors,E=(0,k.useState)(!1),D=E[0],L=E[1],N="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-1/step-1?type=".concat(h),q=Object.keys(I).length>1;(0,k.useEffect)(function(){if(q&&!S){var e;null===(e=y.current)||void 0===e||e.focus(),Z(!0)}},[q,S,I]);var V=(0,k.useRef)(null);(0,k.useEffect)(function(){var e;null===(e=V.current)||void 0===e||e.focus()},[]);var M=(0,l.useRouter)().pathname,W=x().canConfirmAndSubmit;return(0,f.BX)(F.Columns,{children:[(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(R.ProgressIndicator,{items:w.map(function(e,t){var r,n;return{label:e.label,href:e.href+"?type=".concat(h),status:(n=w[t]).href===M.replace("/change-details","")?"doing":null!==(r=b.task1)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step7"!==n.formStateKey||W?"todo":"blocked",isActive:0===t}})})}),(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(A.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(_.DirectionLink,{direction:"left",href:N,children:"Back"}),(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H1,{ref:V,tabIndex:-1,focus:!0,children:"Provide business owner details"}),(0,f.tZ)(U.Text,{as:"p",fontSize:"md",color:"muted",children:"Confirm your name and contact details."}),(0,f.tZ)(et.z,{})]}),(0,f.tZ)(A.Stack,{gap:1.5,width:"100%",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:T(function(e){Z(!1),L(!0),setTimeout(function(){L(!1),v(en(en({},b),{},{task1:en(en({},b.task1),{},{step1:en({},e)})})),u.push("".concat(N,"&success=true"))},1500)},function(){Z(!1)}),noValidate:!0,children:[(0,f.BX)(d.FormStack,{children:[q&&(0,f.BX)($.PageAlert,{ref:y,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:Object.entries(I).map(function(e){var t=(0,Y.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(r),onClick:g,children:Array.isArray(n)?n[0].message:n.message})},r)})})]}),(0,f.tZ)(X.TextInput,en(en({label:"First name",autoComplete:"given-name"},j("firstName")),{},{id:"firstName",invalid:!!(null===(t=I.firstName)||void 0===t?void 0:t.message),message:null===(r=I.firstName)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0})),(0,f.tZ)(X.TextInput,en(en({label:"Last name",autoComplete:"family-name"},j("lastName")),{},{id:"lastName",invalid:!!(null===(i=I.lastName)||void 0===i?void 0:i.message),message:null===(o=I.lastName)||void 0===o?void 0:o.message,maxWidth:"xl",required:!0})),(0,f.tZ)(X.TextInput,en(en({label:"Email",type:"email",autoComplete:"email"},j("email")),{},{id:"email",invalid:!!(null===(a=I.email)||void 0===a?void 0:a.message),message:null===(c=I.email)||void 0===c?void 0:c.message,maxWidth:"xl",required:!0}))]}),(0,f.tZ)(J.Divider,{}),(0,f.BX)(m.ButtonGroup,{children:[(0,f.tZ)(m.Button,{type:"submit",loading:D,children:"Save changes"}),(0,f.tZ)(m.Button,{variant:"tertiary",onClick:function(){u.push(N)},children:"Discard changes"})]})]})})]})})]})}var eo=r(11410);function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function es(){var e,t,r,i,o,a,l,c,m,b,v,h=(0,n.t)(),g=h.formState,O=h.setFormState,w=x().submitStep,P=(0,G.useScrollToField)(),j=(0,k.useRef)(null),T=(0,k.useState)(!1),B=T[0],I=T[1],E=(0,s.cI)({defaultValues:null===(t=g.task1)||void 0===t?void 0:t.step2,resolver:(0,C.F)(z.Zg),mode:"onSubmit",reValidateMode:"onBlur"}),D=E.watch,F=E.register,N=E.handleSubmit,R=E.trigger,_=E.formState,q=_.errors,M=_.isSubmitted,W=(e=(0,y.Z)(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!1),e.next=3,w();case 3:O(el(el({},g),{},{task1:el(el({},g.task1),{},{step2:el(el({},t),{},{completed:!0})})}));case 4:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),H=(0,Z.I4)(q);(0,k.useEffect)(function(){if(H&&!B){var e;null===(e=j.current)||void 0===e||e.focus(),I(!0)}},[H,B,q]);var K="Business"===D("businessStructure"),J="Company"===D("businessStructure");return(0,k.useEffect)(function(){M&&R()},[R,M,K]),(0,f.tZ)(V,{formTitle:"Business details",formIntroduction:"Your business details must match your business registration.",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:N(W,function(){I(!1)}),noValidate:!0,children:[(0,f.BX)(d.FormStack,{children:[H&&(0,f.BX)($.PageAlert,{ref:j,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:Object.entries(q).map(function(e){var t=(0,Y.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(r),onClick:P,children:n.message})},r)})})]}),(0,f.tZ)(X.TextInput,el(el({id:"businessName",label:"Business or company name"},F("businessName")),{},{invalid:!!(null===(r=q.businessName)||void 0===r?void 0:r.message),message:null===(i=q.businessName)||void 0===i?void 0:i.message,required:!0})),(0,f.tZ)(X.TextInput,el(el({id:"tradingName",label:"Trading name"},F("tradingName")),{},{invalid:!!(null===(o=q.tradingName)||void 0===o?void 0:o.message),message:null===(a=q.tradingName)||void 0===a?void 0:a.message})),(0,f.BX)(p.ControlGroup,{id:"checkbox",label:"Business structure",invalid:!!q.businessStructure,message:null===(l=q.businessStructure)||void 0===l?void 0:l.message,required:!0,block:!0,children:[(0,f.tZ)(u.Radio,el(el({},F("businessStructure")),{},{value:"Business",children:"Business"})),K?(0,f.tZ)(eo.i,{children:(0,f.tZ)(X.TextInput,el(el({id:"abn",label:"Australian Business Number (ABN)"},F("abn")),{},{invalid:!!(null===(c=q.abn)||void 0===c?void 0:c.message),message:null===(m=q.abn)||void 0===m?void 0:m.message,required:!0}))}):null,(0,f.tZ)(u.Radio,el(el({},F("businessStructure")),{},{value:"Company",children:"Company"})),J?(0,f.tZ)(eo.i,{children:(0,f.tZ)(X.TextInput,el(el({id:"acn",label:"Australian Company Number (ACN)"},F("acn")),{},{invalid:!!(null===(b=q.acn)||void 0===b?void 0:b.message),message:null===(v=q.acn)||void 0===v?void 0:v.message,required:!0}))}):null,(0,f.tZ)(u.Radio,el(el({},F("businessStructure")),{},{value:"Sole trader",children:"Sole trader"}))]})]}),(0,f.tZ)(L.r,{})]})})}var ec=r(73403),eu=r(585),ed=r(74373);function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(){var e,t,r,i,o,a,l,c,u,p,m,b,v,h,g,O,Z,w,P=(0,n.t)(),j=P.formState,T=P.setFormState,B=x().submitStep,I=(0,G.useScrollToField)(),E=(0,k.useRef)(null),D=(0,k.useState)(!1),F=D[0],N=D[1],R=(0,s.cI)({defaultValues:null===(t=j.task1)||void 0===t?void 0:t.step3,resolver:(0,C.F)(z.Pb),mode:"onSubmit",reValidateMode:"onBlur"}),_=R.watch,q=R.register,M=R.handleSubmit,W=R.formState.errors,H=(e=(0,y.Z)(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return N(!1),e.next=3,B();case 3:T(em(em({},j),{},{task1:em(em({},j.task1),{},{step3:em(em({},t),{},{completed:!0})})}));case 4:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),K=Object.entries(W).map(function(e){var t=(0,Y.Z)(e,2),r=t[0],n=t[1];if("message"in n)return{key:r,message:n.message}}).filter(function(e){return!!(null==e?void 0:e.message)}),J=Object.keys(W).length>1;(0,k.useEffect)(function(){if(J&&!F){var e;null===(e=E.current)||void 0===e||e.focus(),N(!0)}},[J,F,W]);var et=_("isPostalAddressSameAsStreetAddress");return(0,f.tZ)(V,{formTitle:"Business address",formIntroduction:"Add your business address.",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:M(H,function(){N(!1)}),noValidate:!0,children:[J&&(0,f.BX)($.PageAlert,{ref:E,tabIndex:-1,tone:"error",title:(0,f.tZ)($.PageAlertTitle,{as:"h2",children:"There is a problem"}),children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:K.map(function(e){return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(e.key),onClick:I,children:e.message})},e.key)})})]}),(0,f.BX)(d.FormStack,{children:[(0,f.tZ)(eu.Fieldset,{legend:"Street address",children:(0,f.BX)(d.FormStack,{children:[(0,f.tZ)(X.TextInput,em(em({label:"Street address"},q("streetAddress")),{},{id:"streetAddress",invalid:!!(null===(r=W.streetAddress)||void 0===r?void 0:r.message),message:null===(i=W.streetAddress)||void 0===i?void 0:i.message,required:!0,maxWidth:"xl"})),(0,f.tZ)(X.TextInput,em(em({label:"Suburb, town or city"},q("suburbTownCity")),{},{id:"suburbTownCity",invalid:!!(null===(o=W.suburbTownCity)||void 0===o?void 0:o.message),message:null===(a=W.suburbTownCity)||void 0===a?void 0:a.message,required:!0})),(0,f.tZ)(ed.Select,em(em({label:"State or territory"},q("state")),{},{id:"state",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(l=W.state)||void 0===l?void 0:l.message),message:null===(c=W.state)||void 0===c?void 0:c.message,required:!0,maxWidth:"md"})),(0,f.tZ)(X.TextInput,em(em({label:"Postcode"},q("postcode")),{},{id:"postcode",invalid:!!(null===(u=W.postcode)||void 0===u?void 0:u.message),message:null===(p=W.postcode)||void 0===p?void 0:p.message,maxWidth:"sm",inputMode:"numeric",pattern:"[0-9]*",required:!0}))]})}),(0,f.tZ)(eu.Fieldset,{legend:"Postal address",children:(0,f.BX)(d.FormStack,{children:[(0,f.tZ)(ec.Checkbox,em(em({},q("isPostalAddressSameAsStreetAddress")),{},{id:"isPostalAddressSameAsStreetAddress",children:"Same as street address"})),!et&&(0,f.BX)(d.FormStack,{children:[(0,f.tZ)(X.TextInput,em(em({label:"Postal address"},q("postalAddress")),{},{id:"postalAddress",invalid:!!(null===(m=W.postalAddress)||void 0===m?void 0:m.message),message:null===(b=W.postalAddress)||void 0===b?void 0:b.message,required:!0,maxWidth:"xl"})),(0,f.tZ)(X.TextInput,em(em({label:"Suburb, town or city"},q("postalSuburbTownCity")),{},{id:"postalSuburbTownCity",invalid:!!(null===(v=W.postalSuburbTownCity)||void 0===v?void 0:v.message),message:null===(h=W.postalSuburbTownCity)||void 0===h?void 0:h.message,required:!0})),(0,f.tZ)(ed.Select,em(em({label:"State or territory"},q("postalState")),{},{id:"postalState",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(g=W.postalState)||void 0===g?void 0:g.message),message:null===(O=W.postalState)||void 0===O?void 0:O.message,required:!0,maxWidth:"md"})),(0,f.tZ)(X.TextInput,em(em({label:"Postcode"},q("postalPostcode")),{},{id:"postalPostcode",invalid:!!(null===(Z=W.postalPostcode)||void 0===Z?void 0:Z.message),message:null===(w=W.postalPostcode)||void 0===w?void 0:w.message,maxWidth:"sm",required:!0,inputMode:"numeric",pattern:"[0-9]*"}))]})]})})]}),(0,f.tZ)(L.r,{})]})})}var eb=r(90089),ev=r(24953),eh=["ref"];function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eO(){var e,t,r,i,o,a,l=(0,n.t)(),c=l.formState,u=l.setFormState,p=x().submitStep,m=(0,G.useScrollToField)(),b=(0,k.useRef)(null),v=(0,k.useState)(!1),h=v[0],g=v[1],O=(0,s.cI)({defaultValues:(t=null==(e=null===(i=c.task1)||void 0===i?void 0:i.step4)?void 0:e.registrationExpiry,ey(ey({},e),{},{registrationExpiry:(0,Z.LZ)(t)})),resolver:(0,C.F)(z.o),mode:"onSubmit",reValidateMode:"onBlur"}),w=O.control,P=O.register,j=O.handleSubmit,T=O.formState.errors,B=(r=(0,y.Z)(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,p();case 3:u(ey(ey({},c),{},{task1:ey(ey({},c.task1),{},{step4:ey(ey({},t),{},{completed:!0})})}));case 4:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),I=Object.entries(T).map(function(e){var t=(0,Y.Z)(e,2),r=t[0],n=t[1];if("message"in n)return{key:r,message:n.message}}).filter(function(e){return!!(null==e?void 0:e.message)}),E=Object.keys(T).length>1;return(0,k.useEffect)(function(){if(E&&!h){var e;null===(e=b.current)||void 0===e||e.focus(),g(!0)}},[E,h,T]),(0,f.tZ)(V,{formTitle:"Vehicle registration",formIntroduction:"What times would you like to operate?",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:j(B,function(){g(!1)}),noValidate:!0,children:[(0,f.BX)(d.FormStack,{children:[E&&(0,f.BX)($.PageAlert,{ref:b,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:I.map(function(e){return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(e.key),onClick:m,children:e.message})},e.key)})})]}),(0,f.tZ)(X.TextInput,ey(ey({label:"Vehicle registration number",hint:"Enter a plate number, maximum 6 characters. For example ABC123.",id:"registrationNumber"},P("registrationNumber")),{},{invalid:!!(null===(o=T.registrationNumber)||void 0===o?void 0:o.message),message:null===(a=T.registrationNumber)||void 0===a?void 0:a.message,required:!0})),(0,f.tZ)(s.Qr,{control:w,name:"registrationExpiry",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,eb.Z)(n,eh);return(0,f.tZ)(ev.DatePicker,ey(ey({inputRef:i,label:"Vehicle registration expiry"},o),{},{id:"registrationExpiry",invalid:!!(null===(t=T.registrationExpiry)||void 0===t?void 0:t.message),message:null===(r=T.registrationExpiry)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0}))}})]}),(0,f.tZ)(L.r,{})]})})}var eS=r(87913),ek=r(80502),eZ=["ref","value","onChange"],ew=["ref"],eP=["ref"];function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eC(){var e,t,r,i,o,a,l,c=(0,n.t)(),u=c.formState,p=c.setFormState,m=x().submitStep,b=(0,G.useScrollToField)(),v=(0,k.useRef)(null),h=(0,k.useState)(!1),g=h[0],O=h[1],w=(0,s.cI)({defaultValues:(i=null==(e=null===(l=u.task1)||void 0===l?void 0:l.step5)||null===(t=e.tradingPeriod)||void 0===t?void 0:t.from,o=null==e||null===(r=e.tradingPeriod)||void 0===r?void 0:r.from,ex(ex({},e),{},{tradingPeriod:{from:(0,Z.LZ)(i),to:(0,Z.LZ)(o)}})),resolver:(0,C.F)(z._y),mode:"onSubmit",reValidateMode:"onBlur"}),P=w.control,j=w.handleSubmit,T=w.formState.errors,B=(a=(0,y.Z)(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return O(!1),e.next=3,m();case 3:p(ex(ex({},u),{},{task1:ex(ex({},u.task1),{},{step5:ex(ex({},t),{},{completed:!0})})}));case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),I=Object.entries(T).map(function(e){var t,r,n=(0,Y.Z)(e,2),i=n[0],o=n[1];return"message"in o?{key:i,message:o.message}:"from"in o?{key:i,message:null===(t=o.from)||void 0===t?void 0:t.message}:"to"in o?{key:i,message:null===(r=o.to)||void 0===r?void 0:r.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)}),E=Object.keys(T).length>1;return(0,k.useEffect)(function(){if(E&&!g){var e;null===(e=v.current)||void 0===e||e.focus(),O(!0)}},[E,g,T]),(0,f.tZ)(V,{formTitle:"Trading time",formIntroduction:"What times would you like to operate?",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:j(B,function(){O(!1)}),noValidate:!0,children:[(0,f.BX)(d.FormStack,{children:[E&&(0,f.BX)($.PageAlert,{ref:v,tone:"error",title:(0,f.tZ)($.PageAlertTitle,{as:"h2",children:"There is a problem"}),tabIndex:-1,children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:I.map(function(e){return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(e.key),onClick:b,children:e.message})},e.key)})})]}),(0,f.tZ)(s.Qr,{control:P,name:"tradingPeriod",render:function(e){var t,r,n,i,o=e.field,a=o.ref,l=o.value,s=o.onChange,c=(0,eb.Z)(o,eZ);return(0,f.tZ)(eS.DateRangePicker,ex(ex({legend:"Period active",fromInputRef:a},c),{},{id:"tradingPeriod",value:l,onChange:s,onFromInputChange:function(e){return s(ex(ex({},l),{},{from:e}))},onToInputChange:function(e){return s(ex(ex({},l),{},{to:e}))},fromInvalid:!!(null===(t=T.tradingPeriod)||void 0===t||null===(t=t.from)||void 0===t?void 0:t.message),toInvalid:!!(null===(r=T.tradingPeriod)||void 0===r||null===(r=r.to)||void 0===r?void 0:r.message),message:(null===(n=T.tradingPeriod)||void 0===n||null===(n=n.from)||void 0===n?void 0:n.message)||(null===(i=T.tradingPeriod)||void 0===i||null===(i=i.to)||void 0===i?void 0:i.message),required:!0}))}}),(0,f.tZ)(s.Qr,{control:P,name:"openingTime",render:function(e){var t,r,n=e.field,i=(n.ref,(0,eb.Z)(n,ew));return(0,f.tZ)(ek.TimeInput,ex(ex({label:"Opening time",hint:"For example, 9 am or 2:30 pm - enter 12 pm for midday",id:"openingTime"},i),{},{invalid:!!(null===(t=T.openingTime)||void 0===t?void 0:t.message),message:null===(r=T.openingTime)||void 0===r?void 0:r.message,required:!0}))}}),(0,f.tZ)(s.Qr,{control:P,name:"closingTime",render:function(e){var t,r,n=e.field,i=(n.ref,(0,eb.Z)(n,eP));return(0,f.tZ)(ek.TimeInput,ex(ex({label:"Closing time",hint:"For example, 9 am or 2:30 pm - enter 12 pm for midday",id:"closingTime"},i),{},{invalid:!!(null===(t=T.closingTime)||void 0===t?void 0:t.message),message:null===(r=T.closingTime)||void 0===r?void 0:r.message,required:!0}))}})]}),(0,f.tZ)(L.r,{})]})})}var eT=r(47441),eB=["ref"];function eI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eE(){var e,t,r=(0,n.t)(),i=r.formState,o=r.setFormState,a=x().submitStep,l=(0,s.cI)({defaultValues:null===(t=i.task1)||void 0===t?void 0:t.step6,resolver:(0,C.F)(z.F_),mode:"onSubmit",reValidateMode:"onBlur"}),c=l.control,u=l.handleSubmit,d=l.formState.errors,p=(e=(0,y.Z)(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:o(eA(eA({},i),{},{task1:eA(eA({},i.task1),{},{step6:eA(eA({},t),{},{completed:!0})})}));case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,f.tZ)(V,{formTitle:"Food served",formIntroduction:"What type of food will you be serving?",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:u(p),noValidate:!0,children:[(0,f.tZ)(s.Qr,{control:c,name:"cuisine",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,eb.Z)(n,eB);return(0,f.tZ)(eT.ComboboxMulti,eA(eA({label:"Select food types",hint:"Start typing to see results. You can add multiple selections.",inputRef:i,options:eD,required:!0},o),{},{id:"cuisine",invalid:!!(null===(t=d.cuisine)||void 0===t?void 0:t.message),message:null===(r=d.cuisine)||void 0===r?void 0:r.message}))}}),(0,f.tZ)(L.r,{})]})})}var eD=[{value:"american",label:"American"},{value:"brazilian",label:"Brazilian"},{value:"caribbean",label:"Caribbean"},{value:"chinese",label:"Chinese"},{value:"ethiopian",label:"Ethiopian"},{value:"filipino",label:"Filipino"},{value:"french",label:"French"},{value:"greek",label:"Greek"},{value:"indian",label:"Indian"},{value:"italian",label:"Italian"},{value:"japanese",label:"Japanese"},{value:"korean",label:"Korean"},{value:"mediterranean",label:"Mediterranean"},{value:"mexican",label:"Mexican"},{value:"moroccan",label:"Moroccan"},{value:"peruvian",label:"Peruvian"},{value:"spanish",label:"Spanish"},{value:"thai",label:"Thai"},{value:"turkish",label:"Turkish"},{value:"vietnamese",label:"Vietnamese"}],eX=r(39774),eL={h2:B.H2,h3:B.H3};function eF(e){var t,r,i,o,a,l,s,c,u,d,p,b,v,h,g,y,O,S,k,Z,P,j,x,C,T,B=e.headingsLevel,I=(0,n.t)().formState,E=eL[B];return(0,f.BX)(A.Stack,{gap:3,children:[(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[0].label}),(0,f.BX)(eX.xL,{children:[(0,f.tZ)(eX.VY,{label:"Given names",value:null===(t=I.task1)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.firstName}),(0,f.tZ)(eX.VY,{label:"Family name",value:null===(r=I.task1)||void 0===r||null===(r=r.step1)||void 0===r?void 0:r.lastName}),(0,f.tZ)(eX.VY,{label:"Email address",value:null===(i=I.task1)||void 0===i||null===(i=i.step1)||void 0===i?void 0:i.email})," ",(0,f.tZ)(eX.VY,{label:"Contact phone number",value:null===(o=I.task1)||void 0===o||null===(o=o.step1)||void 0===o?void 0:o.contactPhoneNumber})]}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[0].href,children:"Change owner details"})]}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[1].label}),(0,f.BX)(eX.xL,{children:[(0,f.tZ)(eX.VY,{label:"Business name",value:null===(a=I.task1)||void 0===a||null===(a=a.step2)||void 0===a?void 0:a.businessName}),(0,f.tZ)(eX.VY,{label:"Trading name",value:null===(l=I.task1)||void 0===l||null===(l=l.step2)||void 0===l?void 0:l.tradingName}),(0,f.tZ)(eX.VY,{label:"Business structure",value:null===(s=I.task1)||void 0===s||null===(s=s.step2)||void 0===s?void 0:s.businessStructure}),(null===(c=I.task1)||void 0===c||null===(c=c.step2)||void 0===c?void 0:c.businessStructure)==="Business"&&(0,f.tZ)(eX.VY,{label:"Australian Business Number (ABN)",value:null===(u=I.task1)||void 0===u||null===(u=u.step2)||void 0===u?void 0:u.abn})]}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[1].href,children:"Change business details"})]}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[2].label}),(0,f.BX)(eX.xL,{children:[(0,f.tZ)(eX.Zu,{label:"Street address",address:null===(d=I.task1)||void 0===d||null===(d=d.step3)||void 0===d?void 0:d.streetAddress,suburb:null===(p=I.task1)||void 0===p||null===(p=p.step3)||void 0===p?void 0:p.suburbTownCity,state:null===(b=I.task1)||void 0===b||null===(b=b.step3)||void 0===b?void 0:b.state,postcode:null===(v=I.task1)||void 0===v||null===(v=v.step3)||void 0===v?void 0:v.postcode}),null!==(h=I.task1)&&void 0!==h&&null!==(h=h.step3)&&void 0!==h&&h.isPostalAddressSameAsStreetAddress?(0,f.tZ)(eX.VY,{label:"Postal address",value:"Same as street address"}):(0,f.tZ)(eX.Zu,{label:"Postal address",address:null===(g=I.task1)||void 0===g||null===(g=g.step3)||void 0===g?void 0:g.postalAddress,suburb:null===(y=I.task1)||void 0===y||null===(y=y.step3)||void 0===y?void 0:y.postalSuburbTownCity,state:null===(O=I.task1)||void 0===O||null===(O=O.step3)||void 0===O?void 0:O.postalState,postcode:null===(S=I.task1)||void 0===S||null===(S=S.step3)||void 0===S?void 0:S.postalPostcode})]}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[2].href,children:"Change business address"})]}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[3].label}),(0,f.BX)(eX.xL,{children:[(0,f.tZ)(eX.VY,{label:"Vehicle registration number",value:null===(k=I.task1)||void 0===k||null===(k=k.step4)||void 0===k?void 0:k.registrationNumber}),(0,f.tZ)(eX.ge,{label:"Vehicle registration expiry",value:null===(Z=I.task1)||void 0===Z||null===(Z=Z.step4)||void 0===Z?void 0:Z.registrationExpiry})]}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[3].href,children:"Change vehicle registration"})]}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[4].label}),(0,f.BX)(eX.xL,{children:[(0,f.tZ)(eX._c,{fromLabel:"Start date",fromValue:null===(P=I.task1)||void 0===P||null===(P=P.step5)||void 0===P||null===(P=P.tradingPeriod)||void 0===P?void 0:P.from,toLabel:"End date",toValue:null===(j=I.task1)||void 0===j||null===(j=j.step5)||void 0===j||null===(j=j.tradingPeriod)||void 0===j?void 0:j.to}),(0,f.tZ)(eX.VY,{label:"Trading hours",value:"".concat(null===(x=I.task1)||void 0===x||null===(x=x.step5)||void 0===x||null===(x=x.openingTime)||void 0===x?void 0:x.formatted," - ").concat(null===(C=I.task1)||void 0===C||null===(C=C.step5)||void 0===C||null===(C=C.closingTime)||void 0===C?void 0:C.formatted)})]}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[4].href,children:"Change trading time"})]}),(0,f.BX)(A.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.tZ)(E,{children:w[5].label}),(0,f.tZ)(eX.xL,{children:(0,f.tZ)(eX.VY,{label:"Food served",value:null===(T=I.task1)||void 0===T||null===(T=T.step6)||void 0===T||null===(T=T.cuisine)||void 0===T?void 0:T.map(function(e){return null==e?void 0:e.label}).join(", ")})}),(0,f.tZ)(m.ButtonLink,{variant:"text",href:w[5].href,children:"Change food services"})]})]})}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function e_(){var e=(0,n.t)(),t=e.formState,r=e.setFormState,i=x(),o=i.submitStep,a=i.canConfirmAndSubmit;function l(){return(l=(0,y.Z)(S().mark(function e(n){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,o();case 3:r(eR(eR({},t),{},{task1:eR(eR({},t.task1),{},{step7:{completed:!0},completed:!0})}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,f.tZ)(V,{formTitle:"Confirm and submit",formIntroduction:"Check and confirm all details on this page.",children:a?(0,f.BX)(k.Fragment,{children:[(0,f.tZ)(eF,{headingsLevel:"h2"}),(0,f.tZ)("form",{onSubmit:function(e){return l.apply(this,arguments)},children:(0,f.tZ)(L.r,{})})]}):(0,f.tZ)($.PageAlert,{tone:"warning",title:"This section of the form is not ready to be completed",children:(0,f.tZ)(U.Text,{as:"p",children:"Before starting this part of the form, you will need to go back and complete all of the previous sections."})})})}var eq=r(18082);r(17872);var eV=r(44285),ez=r(54389),eM=r(51098);function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eK(){var e,t,r,i,o,a,c,u=(0,l.useRouter)(),p=u.query.employeeId,b=(0,n.t)(),v=b.formState,h=b.setFormState,g=b.typeSearchParm,y=(null===(e=v.task2)||void 0===e||null===(e=e.step1)||void 0===e?void 0:e.employeeList)||[],O=(0,G.useScrollToField)(),S=(0,k.useRef)(null),Z=(0,k.useState)(!1),w=Z[0],P=Z[1],j=y.find(function(e){return(null==e?void 0:e.email)===p}),x=(0,s.cI)({defaultValues:j,resolver:(0,C.F)(eM.RT),mode:"onSubmit",reValidateMode:"onBlur"}),T=x.register,I=x.handleSubmit,E=x.formState.errors,D=(0,k.useState)(!1),L=D[0],N=D[1],q="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-1?type=".concat(g),V=Object.keys(E).length>1;(0,k.useEffect)(function(){if(V&&!w){var e;null===(e=S.current)||void 0===e||e.focus(),P(!0)}},[V,w,E]);var z=(0,k.useRef)(null);(0,k.useEffect)(function(){var e;null===(e=z.current)||void 0===e||e.focus()},[]);var M=Object.entries(E),W=(0,eq.Qp)().canConfirmAndSubmit;return(0,f.BX)(F.Columns,{columnGap:2,children:[(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(R.ProgressIndicator,{items:eq.Ag.map(function(e,t){var r;return{label:e.label,href:e.href+"?type=".concat(g),status:"step1"===(r=eq.Ag[t]).formStateKey?"started":"step3"!==r.formStateKey||W?"todo":"blocked",isActive:0===t}})})}),(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(A.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(_.DirectionLink,{direction:"left",href:q,children:"Back"}),(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H1,{ref:z,tabIndex:-1,focus:!0,children:"Add employee"}),(0,f.tZ)(U.Text,{as:"p",fontSize:"md",color:"muted",children:"Provide your employee’s name and email."}),(0,f.tZ)(et.z,{})]}),(0,f.tZ)(A.Stack,{gap:1.5,width:"100%",children:(0,f.BX)(A.Stack,{as:"form",gap:3,onSubmit:I(function(e){console.log("onSubmit",{data:e}),P(!1),N(!0),setTimeout(function(){var t;N(!1),h(eH(eH({},v),{},{task2:eH(eH({},v.task2),{},{step1:eH(eH({},null===(t=v.task2)||void 0===t?void 0:t.step1),{},{employeeList:[].concat((0,eV.Z)(y),[e])})})})),u.push(q+"&success=true")},1500)},function(){P(!1)}),noValidate:!0,children:[(0,f.BX)(d.FormStack,{children:[V&&(0,f.BX)($.PageAlert,{ref:S,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(U.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(Q.UnorderedList,{children:null==M?void 0:M.map(function(e){var t=(0,Y.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(Q.ListItem,{children:(0,f.tZ)(ee.TextLink,{href:"#".concat(r),onClick:O,children:Array.isArray(n)?n[0].message:n.message})},r)})})]}),(0,f.tZ)(X.TextInput,eH(eH({label:"Given name/s",autoComplete:"given-name"},T("firstName")),{},{id:"firstName",invalid:!!(null==E||null===(t=E.firstName)||void 0===t?void 0:t.message),message:null==E||null===(r=E.firstName)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0})),(0,f.tZ)(X.TextInput,eH(eH({label:"Family name",autoComplete:"family-name"},T("lastName")),{},{id:"lastName",invalid:!!(null==E||null===(i=E.lastName)||void 0===i?void 0:i.message),message:null==E||null===(o=E.lastName)||void 0===o?void 0:o.message,maxWidth:"xl",required:!0})),(0,f.tZ)(X.TextInput,eH(eH({label:"Email",type:"email",autoComplete:"email"},T("email")),{},{id:"email",invalid:!!(null==E||null===(a=E.email)||void 0===a?void 0:a.message),message:null==E||null===(c=E.email)||void 0===c?void 0:c.message,maxWidth:"xl",hint:"An invite to link this business to their yourGov account will be sent to this address",required:!0}))]}),(0,f.tZ)(ez.Callout,{tone:"info",title:"Employees will be invited to link this business to their yourGov account",variant:"compact",children:(0,f.tZ)(U.Text,{as:"p",children:"Business owners can grant permission to manage permits and licences to employees who accept the email invitation. Linking is optional and employees can choose to link or unlink a business at any time."})}),(0,f.tZ)(J.Divider,{}),(0,f.BX)(m.ButtonGroup,{children:[(0,f.tZ)(m.Button,{type:"submit",loading:L,children:"Add employee"}),(0,f.tZ)(m.Button,{variant:"tertiary",onClick:function(){u.push(q)},children:"Cancel"})]})]})})]})})]})}function eY(e){var t=e.formTitle,r=e.formIntroduction,n=e.formCallToAction,i=e.children;return(0,f.tZ)(F.Columns,{children:(0,f.tZ)(F.Column,{columnSpan:{xs:12,md:8},children:(0,f.BX)(A.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(_.DirectionLink,{direction:"left",href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form",children:"Back"}),(0,f.tZ)(q.Y,{task:4,title:t,introduction:r,callToAction:n,children:i})]})})})}function eJ(){return(0,f.BX)(eY,{formTitle:"Confirm and submit",formIntroduction:"Check and confirm all details on this page.",children:[(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H2,{children:i.b[0].label}),(0,f.tZ)(eF,{headingsLevel:"h3"})]}),(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H2,{children:i.b[1].label}),(0,f.tZ)("p",{children:"TODO"})]}),(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H2,{children:i.b[2].label}),(0,f.tZ)("p",{children:"TODO"})]}),(0,f.BX)(A.Stack,{gap:1.5,children:[(0,f.tZ)(B.H2,{children:i.b[3].label}),(0,f.tZ)("p",{children:"TODO"})]}),(0,f.tZ)("form",{onSubmit:function(e){e.preventDefault()},children:(0,f.tZ)(L.r,{})})]})}},58333:function(e,t,r){r.d(t,{B5:function(){return p},F_:function(){return d},JC:function(){return a},KC:function(){return o},Pb:function(){return s},Zg:function(){return l},_y:function(){return u},o:function(){return c}});var n=r(84200),i=r(75807),o=n.z.object({firstName:(0,i.Jg)("Enter your first name"),lastName:(0,i.Jg)("Enter your last name"),email:(0,i.Jg)("Enter your email").email("Enter a valid email"),contactPhoneNumber:(0,i.jF)()}),a=n.z.object({contactPhoneNumber:(0,i.jF)()}),l=n.z.object({businessName:(0,i.Jg)("Business or company name is required"),tradingName:(0,i.ly)(),businessStructure:(0,i.Jg)("Business structure is required"),abn:(0,i.ly)(),acn:(0,i.ly)()}).refine(function(e){return"Business"!==e.businessStructure||!!e.abn},{path:["abn"],message:"ABN is required"}).refine(function(e){return"Company"!==e.businessStructure||!!e.acn},{path:["acn"],message:"ACN is required"}),s=n.z.object({streetAddress:(0,i.Jg)("Enter your street address"),suburbTownCity:(0,i.Jg)("Enter your suburb, town or city"),state:(0,i.Jg)("Enter your state"),postcode:(0,i.Jg)("Enter your postcode").length(4,{message:"An australian postcode is 4 digits long"}),isPostalAddressSameAsStreetAddress:n.z.boolean(),postalAddress:(0,i.ly)(),postalSuburbTownCity:(0,i.ly)(),postalState:(0,i.ly)(),postalPostcode:(0,i.ly)()}).superRefine(function(e,t){function r(e,r,i){t.addIssue({code:n.NL.invalid_string,message:i||"Enter your ".concat(r),validation:{includes:""},path:[e]})}e.isPostalAddressSameAsStreetAddress||(e.postalAddress||r("postalAddress","postal address"),e.postalSuburbTownCity||r("postalSuburbTownCity","suburb, town or city"),e.postalState||r("postalState","state"),e.postalPostcode?4!==e.postalPostcode.length&&r("postalPostcode","postcode","An australian postcode is 4 digits long"):r("postalPostcode","postcode"))}),c=n.z.object({registrationNumber:(0,i.Jg)("Vehicle registration number is required").max(6,"Registration number can not be longer than 6 characters"),registrationExpiry:(0,i.MG)("Vehicle registration expiry is required")}),u=n.z.object({tradingPeriod:n.z.object({from:(0,i.MG)(),to:(0,i.MG)()}),openingTime:(0,i.AY)({label:"Opening time"}),closingTime:(0,i.AY)({label:"Closing time"})}).refine(function(e){var t=e.tradingPeriod||{},r=t.from,n=t.to;return!r||!n||r<=n},{message:"Start date must be before the end date"}),d=n.z.object({cuisine:(0,i.b5)(n.z.object({label:(0,i.Jg)(),value:(0,i.Jg)()}),"Cuisine is required")}),p={started:!1,completed:!1,step1:{firstName:"Charlie",lastName:"Walker",email:"cwalker@email.com",completed:!1},step3:{isPostalAddressSameAsStreetAddress:!0,completed:!1},step5:{tradingPeriod:{from:void 0,to:void 0},completed:!1}}},40297:function(e,t,r){r.d(t,{V:function(){return c},f:function(){return u}});var n=r(51036),i=r(40631),o=r(50456),a=r(2924),l=r(79706),s=r(87800);function c(e){return"".concat(null==e?void 0:e.firstName," ").concat(null==e?void 0:e.lastName)}function u(e){var t=e.readOnly,r=e.employeeList,u=e.step1AddEmployeePath,d=e.onRemoveEmployee;return(0,s.tZ)(a.TableWrapper,{children:(0,s.BX)(o.Stack,{gap:1.5,alignItems:"flex-start",width:"100%",children:[(0,s.BX)(a.Table,{children:[(0,s.tZ)(a.TableHead,{children:(0,s.BX)(a.TableRow,{children:[(0,s.tZ)(a.TableHeader,{scope:"col",children:"Employee name"}),(0,s.tZ)(a.TableHeader,{scope:"col",children:"Email address"}),!t&&(0,s.tZ)(a.TableHeader,{scope:"col",children:"Action"})]})}),(0,s.tZ)(a.TableBody,{children:null==r?void 0:r.map(function(e){var r=c(e);return(0,s.BX)(a.TableRow,{children:[(0,s.BX)(a.TableCell,{children:[t&&r,!t&&(0,s.tZ)(l.TextLink,{href:u+"&employeeId="+(null==e?void 0:e.email),children:r})]}),(0,s.tZ)(a.TableCell,{children:null==e?void 0:e.email}),!t&&(0,s.tZ)(a.TableCell,{children:(0,s.tZ)(n.Button,{onClick:function(){return null==d?void 0:d(e)},variant:"text",children:"Remove"})})]},null==e?void 0:e.email)})})]}),!t&&(0,s.tZ)(n.ButtonLink,{href:u,variant:"secondary",size:"sm",iconBefore:i.PlusIcon,children:"Add employee"})]})})}},55713:function(e,t,r){r.d(t,{T:function(){return f}});var n=r(27378),i=r(86677),o=r(2951),a=r(74578),l=r(63846),s=r(50456),c=r(10957),u=r(2604),d=r(97532),p=r(18082),m=r(87800);function f(e){var t=e.formTitle,r=e.formIntroduction,f=e.formCallToAction,b=e.children,v=(0,i.useRouter)().pathname,h=(0,u.t)(),g=h.formState,y=h.typeSearchParm,O=h.startTask,S=(0,p.Qp)(),k=S.backHref,Z=S.canConfirmAndSubmit;return(0,n.useEffect)(function(){O("task2")},[O]),(0,m.BX)(o.Columns,{children:[(0,m.tZ)(o.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,m.tZ)(a.ContentBleed,{visible:{md:!1},children:(0,m.tZ)(l.ProgressIndicator,{items:p.Ag.map(function(e,t){var r,n;return{label:e.label,href:e.href+"?type=".concat(y),status:(n=p.Ag[t]).href===v?"doing":null!==(r=g.task2)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step1"===n.formStateKey||Z?"todo":"blocked"}})})})}),(0,m.tZ)(o.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,m.BX)(s.Stack,{gap:3,alignItems:"flex-start",children:[(0,m.tZ)(c.DirectionLink,{direction:"left",href:k,children:"Back"}),(0,m.tZ)(d.Y,{task:2,title:t,introduction:r,callToAction:f,children:b})]})})]})}},51098:function(e,t,r){r.d(t,{Kw:function(){return l},RT:function(){return o},gR:function(){return a},ng:function(){return s}});var n=r(84200),i=r(75807),o=n.z.object({firstName:(0,i.Jg)("Enter your first name"),lastName:(0,i.Jg)("Enter your last name"),email:(0,i.Jg)("Enter a valid email").email({message:"Not a valid email address"})}),a=n.z.object({employeeList:(0,i.b5)(o,"No employees added")}),l=n.z.object({foodSafetySupervisor:(0,i.Jg)("Select a food safety supervisor")});n.z.object({streetAddress:n.z.string(),suburbTownCity:n.z.string(),state:n.z.string(),postcode:n.z.string(),isPostalAddressSameAsStreetAddress:n.z.boolean()});var s={started:!1,completed:!1,step1:{employeeList:[],completed:!1},step2:{foodSafetySupervisor:"",completed:!1}}},18082:function(e,t,r){r.d(t,{Ag:function(){return d},Qp:function(){return f},yw:function(){return m}});var n=r(55732),i=r(57135),o=r.n(i),a=r(86677),l=r(27378),s=r(2604),c=r(75807),u=r(87800),d=[{formStateKey:"step1",label:"Employees",href:c.aq+"/task-2/step-1"},{formStateKey:"step2",label:"Food Safety Supervisor",href:c.aq+"/task-2/step-2"},{formStateKey:"step3",label:"Review and complete task",href:c.aq+"/task-2/step-3"}],p=(0,l.createContext)(void 0);function m(e){var t,r,i=e.children,m=(0,a.useRouter)(),f=m.pathname,b=m.push,v=(0,s.t)(),h=v.setIsSubmittingStep,g=v.typeSearchParm,y=v.formState,O=d.findIndex(function(e){return e.href===f}),S=(0,l.useCallback)((0,n.Z)(o().mark(function e(){return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,new Promise(function(e){return setTimeout(e,1500)});case 3:b((0,c.lt)({currentStepIndex:O,steps:d,taskHighlight:2,typeSearchParm:g})),h(!1);case 6:case"end":return e.stop()}},e)})),[O,b,h,g]),k="".concat(null!==(t=null===(r=d[O-1])||void 0===r?void 0:r.href)&&void 0!==t?t:c.aq,"?type=").concat(g),Z=(0,l.useMemo)(function(){var e,t;return null!==(e=y.task2)&&void 0!==e&&null!==(e=e.step1)&&void 0!==e&&!!e.completed&&null!==(t=y.task2)&&void 0!==t&&null!==(t=t.step2)&&void 0!==t&&!!t.completed},[y]);return(0,u.tZ)(p.Provider,{value:{backHref:k,submitStep:S,canConfirmAndSubmit:Z},children:i})}function f(){var e=(0,l.useContext)(p);if(!e)throw Error("Context provider not found");return e}},17872:function(e,t,r){r.d(t,{z:function(){return w}});var n=r(90849),i=r(55732),o=r(57135),a=r.n(o),l=r(86677),s=r(27378),c=r(51036),u=r(94303),d=r(40631),p=r(38163),m=r(50456),f=r(68944),b=r(2604),v=r(4401),h=r(40297),g=r(55713),y=r(51098),O=r(18082),S=r(87800);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(){var e,t,r,n,o=(0,l.useRouter)().query,k=(0,O.Qp)().submitStep,w=(0,b.t)(),P=w.formState,j=w.typeSearchParm,x=w.setFormState,C="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-1/add-employee?type=".concat(j),T=(0,s.useState)("true"===o.success),B=T[0],I=T[1],A=(0,s.useState)(),E=A[0],D=A[1],X=(null===(t=P.task2)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.employeeList)||[],L=X.length>0,F=(e=(0,i.Z)(a().mark(function e(t){var r,n,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y.gR.safeParse(null===(r=P.task2)||void 0===r?void 0:r.step1),t.preventDefault(),i.success){e.next=5;break}return D(i.error.format()),e.abrupt("return");case 5:return e.next=7,k();case 7:x(Z(Z({},P),{},{task2:Z(Z({},P.task2),{},{step1:Z(Z({},null===(n=P.task2)||void 0===n?void 0:n.step1),{},{employeeList:X,completed:!0})})}));case 8:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),N=X[X.length-1];return(0,S.tZ)(g.T,{formTitle:O.Ag[0].label,formIntroduction:"Add your employee details.",children:(0,S.BX)(m.Stack,{as:"form",gap:2,width:"100%",onSubmit:F,children:[(null==E||null===(r=E.employeeList)||void 0===r?void 0:r._errors)&&(0,S.tZ)(p.PageAlert,{tone:"error",title:null===(n=E.employeeList)||void 0===n?void 0:n._errors[0],children:(0,S.tZ)(f.Text,{children:"You need to add some staff. You’re amazing, but you can’t do this alone. Life is better with friends and team mates."})}),(0,S.tZ)(u.H2,{children:"List of employees"}),B&&N&&(0,S.tZ)(p.PageAlert,{tone:"success",title:"Employee added",onClose:function(){return I(!1)},children:(0,S.BX)(f.Text,{children:[N.firstName," ",N.lastName," has been added as an employee."]})}),L&&(0,S.tZ)(h.f,{employeeList:X,onRemoveEmployee:function(e){var t;x(Z(Z({},P),{},{task2:Z(Z({},P.task2),{},{step1:Z(Z({},null===(t=P.task2)||void 0===t?void 0:t.step1),{},{employeeList:null==X?void 0:X.filter(function(t){return(null==t?void 0:t.email)!==(null==e?void 0:e.email)}),completed:!0})})}))},step1AddEmployeePath:C}),!L&&(0,S.BX)(m.Stack,{gap:1.5,alignItems:"flex-start",width:"100%",children:[(0,S.tZ)(d.AvatarIcon,{size:"xl"}),(0,S.tZ)(u.H3,{children:"No employees added"}),(0,S.tZ)(f.Text,{as:"p",children:"You must add an employee to proceed."}),(0,S.tZ)(c.ButtonLink,{href:C,variant:"secondary",size:"sm",iconBefore:d.PlusIcon,children:"Add employee"})]}),(0,S.tZ)(v.r,{})]})})}},75807:function(e,t,r){r.d(t,{AY:function(){return u},Ap:function(){return b},I4:function(){return f},Jg:function(){return l},LZ:function(){return d},MG:function(){return c},aq:function(){return v},b5:function(){return m},jF:function(){return p},lt:function(){return h},ly:function(){return s}});var n=r(68301),i=r(73809),o=r(44720),a=r(84200),l=function(e){return a.z.string({invalid_type_error:e,required_error:e}).trim().min(1,{message:e})},s=function(){return a.z.string().optional()},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Enter a valid date";return a.z.date({invalid_type_error:"Enter a valid date",required_error:e})};function u(e){var t=e.label,r=e.requiredMessage,n=void 0===r?"".concat(t," is required"):r,i=e.invalidMessage,o=void 0===i?"".concat(t," is an invalid time"):i;return a.z.object({raw:l(n),formatted:l(n)}).superRefine(function(e,t){e.raw||t.addIssue({code:a.NL.invalid_string,message:n,validation:{includes:""}}),/^\d\d:\d\d$/.test(e.raw)||t.addIssue({code:a.NL.invalid_string,message:o,validation:{includes:""}})})}function d(e){if("string"==typeof e){var t=(0,i.Z)(e);return(0,o.Z)(t)?t:void 0}return e}function p(){return s().refine(function(e){return!e||/^[\d\s]+$/.test(e)},{message:"Phone number must not include letters or symbols"}).refine(function(e){return!e||/^0[42][\d\s]+$/.test(e)},{message:"Mobile numbers must begin with '04', landline numbers must begin with '02'"}).refine(function(e){return!e||(null==e?void 0:e.replace(/\s/g,"").length)===10},{message:"The Phone number is expected to be 10 digits long"})}function m(e,t){return a.z.array(e,{required_error:t}).nonempty({message:t})}function f(e){return Object.keys(e).length>1}function b(e){return Object.keys(e).length>0}n.hT().transform(function(e,t){return"string"==typeof t?t:e}).typeError("Enter a valid date"),n.Z_().transform(function(e){return e.replace(/\s/g,"")}).matches(/^\d+$/,{excludeEmptyString:!0,message:"Phone number must not include letters or symbols"}).matches(/^0\d+$/,{excludeEmptyString:!0,message:"Mobile numbers must begin with '04', landline numbers must begin with an area code"}).length(10,"Phone number must be 10 digits");var v="/app/licences-and-permits/apply/mobile-food-vendor-permit/form";function h(e){var t,r=e.currentStepIndex,n=e.steps,i=e.taskHighlight,o=e.typeSearchParm,a=null===(t=n[r+1])||void 0===t?void 0:t.href;return a?"".concat(a,"?type=").concat(o):"".concat(v,"?type=").concat(o,"&taskHighlight=").concat(i)}}}]);