"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1689],{54389:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(98028),n()},73403:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(50463),n()},47441:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(83846),n()},87913:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(61836),n()},585:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(2836),n()},98028:function(e,t,r){r.d(t,{Callout:function(){return u}});var n=r(10043),i=r(84007),o=r(7226),a=r(89205),l=r(40631),s=r(87800),c={compact:{textGap:.5,iconGap:.5,padding:1,titleSize:"sm",titlePaddingTop:"0.125rem",iconSize:"md",flexDirection:"row"},regular:{textGap:1,iconGap:.5,padding:1.5,titleSize:"md",titlePaddingTop:void 0,iconSize:"md",flexDirection:"row"},feature:{textGap:1,iconGap:1,padding:1.5,titleSize:"xl",titlePaddingTop:void 0,iconSize:"lg",flexDirection:"column"}},d=function(e){var t=e.as,r=e.children,n=e.variant;return(0,s.tZ)(a.Text,{as:void 0===t?"h2":t,fontSize:c[void 0===n?"regular":n].titleSize,fontWeight:"bold",lineHeight:"heading",children:r})},u=function(e){var t=e.as,r=e.background,a=e.children,u=e.icon,m=e.onBodyAlt,p=e.title,f=e.tone,b=void 0===f?"neutral":f,v=e.variant,h=void 0===v?"regular":v,g=c[h],y=g.textGap,O=g.iconGap,S=g.padding,k=g.flexDirection,Z=g.titlePaddingTop,w={neutral:{background:"shade",border:"border",icon:void 0},info:{background:"info",border:"info",icon:(0,s.tZ)(l.InfoFilledIcon,{"aria-hidden":"false","aria-label":"Information",color:"info",size:c[h].iconSize})}}[b],P=w.background,j=w.border,x=w.icon;return(0,s.BX)(i.Flex,{as:t,flexDirection:k,rounded:!0,gap:O,background:"neutral"===b&&(null!=m?m:"shadeAlt"===r)?"shadeAlt":P,borderColor:j,padding:S,borderLeft:!0,borderLeftWidth:"xl",highContrastOutline:!0,children:[u||x?(0,s.tZ)(i.Flex,{flexShrink:0,children:u||x}):null,(0,s.BX)(o.Stack,{gap:y,css:(0,n.iv)({paddingTop:Z},"",""),children:[p?(0,s.tZ)(d,{variant:h,children:p}):null,a]})]})}},50463:function(e,t,r){r.d(t,{Checkbox:function(){return P}});var n=r(90849),i=r(90089),o=r(27378),a=r(23914),l=r(60893),s=r(10043),c=r(84007),d=r(20607),u=r(87800);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=function(e){var t=e.disabled,r=e.indeterminate,n=e.invalid,i=e.size,o=a.lB.control[i],l=o.width,m=o.height,f=o.borderWidth;return(0,u.tZ)(c.Flex,{as:"span",justifyContent:"center",alignItems:"center",width:l,height:m,flexShrink:0,css:(0,s.iv)(p(p({borderWidth:f,borderStyle:"solid",borderColor:a._X.border,backgroundColor:a._X.backgroundBody,color:a._X.foregroundText},t&&{color:a._X.borderMuted,borderColor:a._X.borderMuted,backgroundColor:a._X.backgroundShade}),n&&{borderColor:a._X.systemError,backgroundColor:a._X.systemErrorMuted}),"",""),rounded:!0,children:r?(0,u.tZ)(d.V_,{size:i,weight:"bold"}):(0,u.tZ)(d.nQ,{size:i,weight:"bold"})})},b=r(64388);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var g=(0,o.forwardRef)(function(e,t){return(0,u.tZ)("input",h({ref:t,css:(0,s.iv)(h(h({},b.JM),{},{"&:focus-visible ~ span:first-of-type":a.lB.outline,"~ span > svg":{opacity:0},"&:checked ~ span > svg, &:indeterminate ~ span > svg":{opacity:1}}),"","")},e))});function y(e){var t=e.children,r=e.disabled;return(0,u.tZ)(c.Flex,{as:"label",alignItems:"flex-start",color:"text",gap:.5,inline:!0,css:(0,s.iv)({cursor:r?"not-allowed":"pointer"},"",""),children:t})}var O=r(89205),S={sm:0,md:"0.2rem"};function k(e){var t=e.children,r=e.disabled,n=S[e.size];return(0,u.tZ)(O.Text,{flexGrow:1,color:r?"muted":"text",css:(0,s.iv)({paddingTop:n},"",""),children:t})}var Z=["children","disabled","invalid","size","indeterminate","checked"];function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var P=(0,o.forwardRef)(function(e,t){var r=e.children,s=e.disabled,c=e.invalid,d=e.size,m=void 0===d?"md":d,p=e.indeterminate,b=e.checked,v=(0,i.Z)(e,Z),h=(0,o.useRef)(null),O=(0,l.j)(),S="boolean"==typeof c?c:null==O?void 0:O.invalid;(0,o.useEffect)(function(){h.current&&(h.current.indeterminate=!!p)},[p]);var P=!p&&b;return(0,u.BX)(y,{disabled:s,children:[(0,u.tZ)(g,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({ref:(0,a.lq)([t,h]),type:"checkbox",disabled:s,"aria-invalid":S?"true":void 0,"aria-describedby":S?null==O?void 0:O.messageId:void 0,checked:P,"aria-checked":p?"mixed":void 0},v)),(0,u.tZ)(f,{disabled:s,invalid:S,size:m,indeterminate:p}),(0,u.tZ)(k,{disabled:s,size:m,children:r})]})})},83846:function(e,t,r){r.d(t,{ComboboxMulti:function(){return ee}});var n=r(27378),i=r(23914),o=r(53223);r(11725);var a=r(60954),l=r(89205),s=r(7226),c=r(87800),d={name:"ozd7xs",styles:"flex-shrink:0"},u={name:"6p0xhm",styles:"margin-left:auto;flex-shrink:0"};function m(e){var t=e.itemLabel,r=e.inputValue,i=e.beforeElement,o=e.endElement,a=e.secondaryText,m=e.tertiaryText;return(0,c.BX)(n.Fragment,{children:[i?(0,c.tZ)("div",{css:d,children:i}):null,(0,c.BX)(s.Stack,{as:"span",children:[(0,c.tZ)("span",{children:(function(e,t){if(!t)return[e];for(var r=t.toLowerCase(),n=e.toLowerCase(),i=[],o=0;o<e.length;){var a=e.slice(o),l=n.slice(o).indexOf(r);if(-1===l){i.push(a);break}0!==l&&i.push(a.slice(0,l)),i.push(a.slice(l,l+r.length)),o+=l+r.length}return i})(t,r).map(function(e,t){return e.toLowerCase()===r.toLowerCase()?(0,c.tZ)(l.Text,{as:"mark",color:"inherit",fontWeight:"bold",css:p,children:e},t):(0,c.tZ)(l.Text,{as:"span",color:"inherit",children:e},t)})}),a?(0,n.isValidElement)(a)?a:(0,c.tZ)(l.Text,{color:"muted",fontSize:"xs",children:a}):null,m?(0,n.isValidElement)(m)?m:(0,c.tZ)(l.Text,{color:"muted",fontSize:"xs",children:m}):null]}),o?(0,c.tZ)("div",{css:u,children:o}):null]})}var p={name:"bigtx2",styles:"background:none"},f=r(90849),b=r(10043),v=r(90089),h=r(84007),g=["children","isActiveItem","isInteractive"];function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S={color:i._X.foregroundText,backgroundColor:i._X.backgroundShade,"> span":i.lB.underline},k=(0,n.forwardRef)(function(e,t){var r=e.children,n=e.isActiveItem,o=e.isInteractive,a=(0,v.Z)(e,g);return(0,c.tZ)(h.Flex,O(O({ref:t,as:"li",paddingX:1,paddingY:.75,borderBottom:!0,borderColor:"muted",alignItems:"center",gap:.75,css:(0,b.iv)(O(O(O({},void 0===o||o?{cursor:"pointer",color:i._X.foregroundAction,"&:hover":S}:void 0),n?S:void 0),{},{"&:last-of-type":{borderBottom:"none"}}),"","")},a),{},{children:r}))}),Z=r(31369);function w(){return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(h.Flex,{gap:1,alignItems:"center",children:[(0,c.tZ)(Z.xg,{size:"sm","aria-label":"Loading"}),(0,c.tZ)(l.Text,{children:"Loading"})]})})}var P=r(20607),j={name:"ozd7xs",styles:"flex-shrink:0"};function x(){return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(h.Flex,{alignItems:"center",gap:.5,children:[(0,c.tZ)(P.AlertFilledIcon,{color:"error",css:j}),(0,c.tZ)(l.Text,{children:"Something went wrong."})]})})}function I(e){var t=e.message;return(0,c.tZ)(k,{isActiveItem:!1,isInteractive:!1,children:(0,c.tZ)(l.Text,{children:t})})}var T=r(11475),C=r(84815),B=["isOpen"],D=["disabled","icon"];function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function A(e){var t=e.children;return(0,c.tZ)(h.Flex,{alignItems:"center",gap:.25,css:(0,b.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,i.mapSpacing)(.5)," + ").concat(i.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)"},"",""),children:t})}function L(){return(0,c.tZ)(C.Box,{"aria-hidden":!0,height:"1.5rem",borderLeft:!0,borderLeftWidth:"md",borderColor:"muted"})}var F=(0,n.forwardRef)(function(e,t){return(0,c.tZ)(R,E({ref:t,"aria-label":"Clear input",icon:P.Tw},e))}),_=(0,n.forwardRef)(function(e,t){var r=e.isOpen,n=(0,v.Z)(e,B);return(0,c.tZ)(R,E({ref:t,"aria-label":"Toggle menu",icon:r?P.g8:P.ChevronDownIcon},n))}),R=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.icon,o=(0,v.Z)(e,D);return(0,c.tZ)(T.BaseButton,E(E({ref:t,disabled:r,css:(0,b.iv)(E(E({display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",color:i._X.foregroundAction},r&&{cursor:"not-allowed",opacity:.3}),{},{"&:hover":{color:i._X.foregroundText}},C.j4),"","")},o),{},{children:(0,c.tZ)(n,{color:"inherit",size:"md"})}))}),N=r(11246),W=["disabled","children","onRemove"];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var V=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.children,o=e.onRemove,a=(0,v.Z)(e,W);return(0,c.BX)(h.Flex,q(q({ref:t,as:"span",inline:!0,alignItems:"center",border:!0,rounded:!0,paddingLeft:.5,paddingRight:.25,gap:.25,fontSize:"sm",color:"text",focus:!0,css:(0,b.iv)(q({cursor:"pointer"},r&&{cursor:"not-allowed",borderColor:i._X.borderMuted,color:i._X.foregroundMuted}),"","")},a),{},{children:[n,(0,c.tZ)(h.Flex,{as:"span",height:(0,i.mapSpacing)(1.5),width:(0,i.mapSpacing)(1.5),alignItems:"center",justifyContent:"center",onClick:function(e){r||(e.stopPropagation(),o())},focus:!0,css:(0,b.iv)(q({cursor:"pointer",svg:{display:"block",color:i._X.foregroundAction},"&:hover":{svg:{color:i._X.foregroundText}}},r&&{cursor:"not-allowed",opacity:.3}),"",""),children:(0,c.tZ)(P.Tw,{size:"sm"})})]}))}),z=["label","hideOptionalLabel","required","hint","message","invalid","inputId","disabled","block","maxWidth","renderItem","emptyResultsMessage","loading","networkError","combobox","inputItems","selectedItems","setSelectedItems","multiSelection","inputRef","onBlur","onFocus"];function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function G(e){var t,r,l,s,d,u,p,f=e.label,b=e.hideOptionalLabel,g=e.required,y=e.hint,O=e.message,S=e.invalid,Z=void 0!==S&&S,P=e.inputId,j=e.disabled,T=void 0!==j&&j,C=e.block,B=e.maxWidth,D=void 0===B?"xl":B,X=e.renderItem,E=void 0===X?function(e,t){return(0,c.tZ)(m,{itemLabel:e.label,inputValue:t})}:X,R=e.emptyResultsMessage,W=void 0===R?"No options found.":R,M=e.loading,q=e.networkError,H=e.combobox,G=e.inputItems,Y=e.selectedItems,Q=e.setSelectedItems,$=e.multiSelection,U=e.inputRef,J=e.onBlur,ee=e.onFocus,et=(0,v.Z)(e,z),er=(0,n.useRef)(null),en=(0,i.useTernaryState)(!1),ei=(0,N.Z)(en,3),eo=ei[0],ea=ei[1],el=ei[2],es=(0,o.S)({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:H.isOpen}),ec=(null==Y?void 0:Y.length)>0,ed=(r=(t={block:void 0===C||C,disabled:T,invalid:Z||!!et["aria-invalid"],isInputFocused:eo,maxWidth:D,showClearButton:ec}).block,l=t.disabled,s=t.invalid,d=t.isInputFocused,u=t.maxWidth,p=t.showClearButton,{fieldContainer:K({},!r&&{maxWidth:i.tokens.maxWidth.field[u]}),container:K(K(K(K({position:"relative",cursor:"text",background:i._X.backgroundBody,borderWidth:i.tokens.borderWidth.lg,borderStyle:"solid",borderColor:i._X.border,borderRadius:i.tokens.borderRadius,color:i._X.foregroundText},i.lB.input.md),{},{height:"auto",minHeight:i.lB.input.md.height,margin:0,paddingTop:(0,i.mapSpacing)(.25),paddingBottom:(0,i.mapSpacing)(.25),paddingLeft:(0,i.mapSpacing)(.5),paddingRight:p?"5rem":"3rem"},l&&{cursor:"not-allowed",borderColor:i._X.borderMuted,backgroundColor:i._X.backgroundShade,color:i._X.foregroundMuted}),s&&{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError}),d&&i.lB.outline),inputContainer:{display:"flex",flex:"1 1 2rem"},input:K(K({appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:i._X.backgroundBody,color:i._X.foregroundText,fontFamily:i.tokens.font.body},(0,i.vY)("sm","default")),{},{'&[aria-invalid="true"]':{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:i._X.foregroundMuted,backgroundColor:i._X.backgroundShade}})}),eu=(0,n.useRef)(null),em=(0,n.useCallback)(function(e){var t;e.target===eu.current&&(null===(t=er.current)||void 0===t||t.focus())},[er]),ep=(0,n.useCallback)(function(){var e;Q([]),null===(e=er.current)||void 0===e||e.focus()},[Q]),ef=U?(0,i.lq)([er,U]):er,eb=H.getLabelProps().id;return(0,c.tZ)(a.gN,{label:f,labelId:eb,hideOptionalLabel:b,required:!!g,hint:y,maxWidth:D,message:O,invalid:Z,id:P,children:function(e){return(0,c.BX)("div",K(K({},es.getReferenceProps()),{},{css:ed.fieldContainer,onClick:em,children:[(0,c.BX)(h.Flex,{ref:eu,gap:.5,flexWrap:"wrap",alignItems:"center",css:ed.container,children:[Y.map(function(e,t){return(0,c.tZ)(V,K(K({onRemove:function(){return $.removeSelectedItem(e)},disabled:T},$.getSelectedItemProps({selectedItem:e,index:t})),{},{children:e.label}),"selected-item-".concat(t))}),(0,c.tZ)("div",{css:ed.inputContainer,children:(0,c.tZ)("input",K(K({disabled:T},H.getInputProps($.getDropdownProps(K(K(K({},e),{"aria-describedby":et["aria-describedby"]||e["aria-describedby"],"aria-invalid":et["aria-invalid"]||e["aria-invalid"]}),{},{ref:ef,type:"text",preventKeyAction:H.isOpen,onFocus:function(e){null==ee||ee(e),ea()},onBlur:function(e){null==J||J(e),el()}})))),{},{css:ed.input}))}),(0,c.BX)(A,{children:[ec&&(0,c.BX)(n.Fragment,{children:[(0,c.tZ)(F,{disabled:T,onClick:ep}),(0,c.tZ)(L,{})]}),(0,c.tZ)(_,K({},H.getToggleButtonProps({isOpen:H.isOpen,disabled:T})))]})]}),(0,c.tZ)(o.J,K(K({as:"ul"},H.getMenuProps(es.getPopoverProps())),{},{visibility:H.isOpen?"visible":"hidden",children:H.isOpen?(0,c.tZ)(n.Fragment,{children:M?(0,c.tZ)(w,{}):q?(0,c.tZ)(x,{}):(0,c.tZ)(n.Fragment,{children:null!=G&&G.length?G.map(function(e,t){return(0,c.tZ)(k,K(K({isActiveItem:H.highlightedIndex===t,isInteractive:!0},H.getItemProps({item:e,index:t})),{},{children:E(e,H.inputValue)}),"".concat(e.value,"-").concat(t))}):(0,c.tZ)(I,{message:W})})}):null}))]}))}})}var Y=r(44285),Q=r(33635),$=["id","value","onChange","options"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach(function(t){(0,f.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ee(e){var t,r=e.id,o=e.value,a=e.onChange,l=e.options,s=(0,v.Z)(e,$),d=(0,n.useState)(""),u=d[0],m=d[1],p=(t=(0,i.Me)(),r||"combobox-input-".concat(t)),f=(0,n.useState)([]),b=f[0],h=f[1],g=void 0===o?b:o,y=(0,n.useCallback)(function(e){h(e),null==a||a(e)},[a]),O=(0,n.useMemo)(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=(null==t?void 0:t.toLowerCase())||"";return e.filter(function(e){var t=e.value.toLowerCase().includes(n)||e.label.toLowerCase().includes(n);return void 0===r?t:t&&!(null!=r&&r.some(function(t){return t.label===e.label&&t.value===e.value}))})}(l,u,g)},[l,u,g]),S=(0,Q.M$)({selectedItems:g,onStateChange:function(e){var t=e.selectedItems;switch(e.type){case Q.M$.stateChangeTypes.SelectedItemKeyDownBackspace:case Q.M$.stateChangeTypes.SelectedItemKeyDownDelete:case Q.M$.stateChangeTypes.DropdownKeyDownBackspace:case Q.M$.stateChangeTypes.FunctionRemoveSelectedItem:y(null!=t?t:[])}}}),k=(0,Q.Kb)({inputValue:u,inputId:p,items:null!=O?O:[],itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},defaultHighlightedIndex:0,selectedItem:null,stateReducer:function(e,t){var r=t.changes;switch(t.type){case Q.Kb.stateChangeTypes.InputKeyDownEnter:case Q.Kb.stateChangeTypes.ItemClick:return J(J({},r),{},{isOpen:!0,highlightedIndex:0});default:return r}},onStateChange:function(e){var t=e.inputValue,r=e.type,n=e.selectedItem;switch(r){case Q.Kb.stateChangeTypes.InputKeyDownEnter:case Q.Kb.stateChangeTypes.ItemClick:case Q.Kb.stateChangeTypes.InputBlur:n&&(y([].concat((0,Y.Z)(g),[n])),m(""));break;case Q.Kb.stateChangeTypes.InputChange:m(void 0===t?"":t)}}});return(0,c.tZ)(G,J({combobox:k,multiSelection:S,inputItems:O,inputId:p,selectedItems:g,setSelectedItems:y},s))}r(57135)},2836:function(e,t,r){r.d(t,{Fieldset:function(){return p}});var n=r(23914),i=r(84815),o=r(87800),a=function(e){var t=e["aria-describedby"],r=e.children,n=e.id;return(0,o.tZ)(i.Box,{as:"fieldset","aria-describedby":t,id:n,children:r})},l=r(27378),s=r(89205),c=function(e){var t=e.children;return(0,l.isValidElement)(t)?(0,o.tZ)("legend",{children:t}):(0,o.tZ)(s.Text,{as:"legend",fontWeight:"bold",fontSize:"lg",lineHeight:"heading",children:t})},d=r(10043),u=function(e){var t=e.children,r=e.id;return(0,l.isValidElement)(t)?(0,o.tZ)("div",{id:r,css:(0,d.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),children:t}):(0,o.tZ)(s.Text,{fontSize:"sm",color:"muted",display:"block",css:(0,d.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),id:r,children:t})},m=function(e){var t=e.children;return(0,o.tZ)("div",{css:(0,d.iv)({marginTop:(0,n.mapSpacing)(2)},"",""),children:t})},p=function(e){var t=e.children,r=e.hint,n=e.legend,i=f(e.id),l=i.fieldsetId,s=i.hintId;return(0,o.BX)(a,{id:l,"aria-describedby":r?s:void 0,children:[(0,o.tZ)(c,{children:n}),r?(0,o.tZ)(u,{id:s,children:r}):null,(0,o.tZ)(m,{children:t})]})},f=function(e){var t=(0,n.Me)(e);return{fieldsetId:e||"fieldset-".concat(t),hintId:"fieldset-".concat(t,"-hint")}}},92622:function(e,t,r){r.d(t,{TimeInput:function(){return h}});var n=r(90849),i=r(90089),o=r(27378),a=r(60954),l=r(11725),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)return"";var r=new Date,n=(null!==e.match(/\d+/)?3===e.replace(/\s/g,"").length?null!==(i=null===(o=e.match(/(\w{1})(\w{1,2})/))||void 0===o?void 0:o.slice(1))&&void 0!==i?i:[]:null!==(a=e.match(/\d{1,2}/gi))&&void 0!==a?a:[]:[]).map(function(e){return 0|Number(e)});if(0===n.length||n[0]>24||n.length>1&&n[1]>59)return e;if(n[0]<=12){var i,o,a,l,s,c,u,m=null!==(c=e.match(/[a-zA-Z]{1,2}/))&&void 0!==c?c:[];switch(m.length>0?null===(u=m[0])||void 0===u?void 0:u.toLowerCase():12===n[0]?"pm":"am"){case"pm":case"p":r.setHours(12===n[0]?12:n[0]+12);break;default:r.setHours(n[0]%12)}}else r.setHours(n[0]);r.setMinutes(null!==(l=n[1])&&void 0!==l?l:0),r.setSeconds(null!==(s=n[2])&&void 0!==s?s:0);var p=new Intl.DateTimeFormat("en-GB",d[t]).format(r);return"HH:mm"===t&&p.startsWith("24:")?"00:".concat(p.split(":")[1]):p};function c(e,t){return void 0===e?"":s(e,t)}var d={"h:mm aaa":{hour:"numeric",hourCycle:"h12",minute:"2-digit"},"hh:mm aaa":{hour:"2-digit",hourCycle:"h12",minute:"2-digit"},"HH:mm":{hour:"2-digit",hourCycle:"h24",minute:"2-digit"}},u=Object.keys(d),m=r(87800),p=["block","hideOptionalLabel","hint","id","invalid","label","maxWidth","message","onBlur","onChange","required","timeFormat","value"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var v={formatted:"",raw:""},h=(0,o.forwardRef)(function(e,t){var r=e.block,n=e.hideOptionalLabel,d=e.hint,f=e.id,h=e.invalid,g=e.label,y=e.maxWidth,O=void 0===y?"md":y,S=e.message,k=e.onBlur,Z=e.onChange,w=e.required,P=e.timeFormat,j=void 0===P?"h:mm aaa":P,x=e.value,I=void 0===x?v:x,T=(0,i.Z)(e,p),C=(0,o.useState)(c(null==I?void 0:I.raw,j)),B=C[0],D=C[1];(0,o.useEffect)(function(){D(c(I.raw,j))},[j,I]);var X=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.value,n=s(r,"HH:mm");null==Z||Z({formatted:s(r,j),raw:n}),null==k||k(e)},E=function(e){var t;D(null===(t=e.target)||void 0===t?void 0:t.value)},A=(0,o.useMemo)(function(){return"(e.g. "+s("21:30",u.includes(j)?j:"h:mm aaa")+")"},[j]),L=(0,l.c)({block:r,maxWidth:O});return(0,m.tZ)(a.gN,{hideOptionalLabel:n,hint:d,id:f,invalid:h,label:g,maxWidth:O,message:S,required:!!w,secondaryLabel:A,children:function(e){return(0,m.tZ)("input",b(b({},e),{},{css:L,onBlur:X,onChange:E,ref:t,type:"text",value:B},T))}})})},80502:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(92622),n()},91689:function(e,t,r){r.d(t,{Ty:function(){return y.Ty},nL:function(){return q},$v:function(){return et},$x:function(){return ea},mu:function(){return em},QZ:function(){return eg},M$:function(){return ej},V7:function(){return eB},hr:function(){return eL},yw:function(){return eF.yw},nt:function(){return eq},Fm:function(){return _.Fm},Sf:function(){return g},iP:function(){return n.i},b6:function(){return i.b},Yi:function(){return y.Yi},t7:function(){return n.t}});var n=r(2604),i=r(90632),o=r(90849),a=r(63374),l=r(86677),s=r(88039),c=r(68301),d=r(81715),u=r(57449),m=r(92100),p=r(51036),f=r(87800);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h=c.Ry({businessType:c.Z_().typeError("Business type is required")}).required();function g(e){var t,r,n=e.children,i=(0,l.useRouter)(),o=(0,s.cI)({resolver:(0,a.X)(h),mode:"onSubmit",reValidateMode:"onBlur"}),c=o.register,b=o.handleSubmit,g=o.formState.errors;return(0,f.tZ)("form",{onSubmit:b(function(e){var t;i.push({pathname:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form",query:{type:null===(t=e.businessType)||void 0===t?void 0:t.toLowerCase()}})}),children:(0,f.BX)(u.FormStack,{children:[(0,f.tZ)(m.ControlGroup,{label:"What type of business do you operate?",invalid:!!(null===(t=g.businessType)||void 0===t?void 0:t.message),message:null===(r=g.businessType)||void 0===r?void 0:r.message,required:!0,block:!0,children:["Food van","Coffee truck","Market stall"].map(function(e){var t;return(0,f.tZ)(d.Radio,v(v({},c("businessType")),{},{value:e,invalid:!!(null===(t=g.businessType)||void 0===t?void 0:t.message),children:e}),e)})}),n((0,f.tZ)(p.ButtonGroup,{children:(0,f.tZ)(p.Button,{type:"submit",children:"Apply for permit"})}))]})})}var y=r(60564),O=r(55732),S=r(57135),k=r.n(S),Z=r(32324),w=r(27378),P=r(20034),j=r(94303),x=r(41380),I=r(50456),T=r(32379),C=r(20329),B=r(61444),D=r(4401),X=r(2951),E=r(74578),A=r(10957),L=r(63846),F=r(97532),_=r(33680);function R(e){var t=e.formTitle,r=e.formIntroduction,i=e.formCallToAction,o=e.children,a=(0,l.useRouter)().pathname,s=(0,n.t)(),c=s.formState,d=s.typeSearchParm,u=s.startTask,m=s.getTaskStatus,p=(0,y.g8)(),b=p.backHref,v=p.canConfirmAndSubmit,h="blocked"!==m("task1");return(0,w.useEffect)(function(){u("task1")},[u]),(0,f.BX)(X.Columns,{children:[(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(E.ContentBleed,{visible:{md:!1},children:(0,f.tZ)(L.ProgressIndicator,{items:y.Yi.map(function(e,t){var r,n,i;return{label:e.label,href:e.href+"?type=".concat(d),status:(n=y.Yi[t],i=null===(r=c.task1)||void 0===r?void 0:r[n.formStateKey],n.href===a?"doing":null!=i&&i.completed?"done":null!=i&&i.started?"started":"step7"!==n.formStateKey||v?"todo":"blocked")}})})})}),(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(I.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(A.DirectionLink,{direction:"left",href:b,children:"Back"}),(0,f.tZ)(F.Y,{task:1,title:t,introduction:r,callToAction:i,children:h?o:(0,f.tZ)(_.nc,{})})]})})]})}var N=r(58333);function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function q(){var e,t=(0,n.t)(),r=t.formState,i=t.typeSearchParm,o=null===(e=r.task1)||void 0===e?void 0:e.step1,a="true"===(0,l.useRouter)().query.success,s=(0,w.useState)(a),c=s[0],d=s[1];return(0,w.useEffect)(function(){d(a)},[a]),(0,f.tZ)(R,{formTitle:"Owner details",formIntroduction:"Confirm your name and contact details.",children:(0,f.BX)(I.Stack,{gap:3,alignItems:"flex-start",width:"100%",children:[(0,f.BX)(I.Stack,{gap:1.5,width:"100%",children:[(0,f.tZ)(j.H2,{children:"Confirm business owner details"}),(0,f.tZ)(P.Details,{label:"How were my details prefilled?",iconBefore:!0,children:(0,f.BX)(x.Prose,{children:[(0,f.tZ)("p",{children:"We’re working hard to improve the way we do business with you. This includes making applications and registrations easier to use."}),(0,f.tZ)("p",{children:"If we already have some of the information you need to tell us, we’ll pre-fill it into your applications. This saves you entering all your details yourself."}),(0,f.tZ)("p",{children:"It’s important to check the pre-filled information in your report before you submit it."})]})}),c&&(0,f.tZ)(T.SectionAlert,{title:"Business owner details have been updated",tone:"success",onClose:function(){return d(!1)}}),(0,f.BX)(I.Stack,{gap:1.5,alignItems:"flex-start",children:[(0,f.BX)(C.SummaryList,{children:[(0,f.BX)(C.SummaryListItem,{children:[(0,f.tZ)(C.SummaryListItemTerm,{children:"First name"}),(0,f.tZ)(C.SummaryListItemDescription,{children:null==o?void 0:o.firstName})]}),(0,f.BX)(C.SummaryListItem,{children:[(0,f.tZ)(C.SummaryListItemTerm,{children:"Last name"}),(0,f.tZ)(C.SummaryListItemDescription,{children:null==o?void 0:o.lastName})]}),(0,f.BX)(C.SummaryListItem,{children:[(0,f.tZ)(C.SummaryListItemTerm,{children:"Email"}),(0,f.tZ)(C.SummaryListItemDescription,{children:null==o?void 0:o.email})]})]}),(0,f.tZ)(p.ButtonLink,{href:"/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-1/step-1/change-details?type=".concat(i),variant:"text",children:"Change business owner details"})]})]}),(0,f.tZ)(V,{})]})})}function V(){var e,t,r,i=(0,n.t)(),o=i.formState,a=i.setFormState,l=i.isSavingBeforeExiting,c=(0,y.g8)().submitStep,d=(0,s.cI)({defaultValues:{contactPhoneNumber:null===(t=o.task1)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.contactPhoneNumber},resolver:(0,Z.F)(N.JC),mode:"onSubmit",reValidateMode:"onBlur"}),u=d.register,m=d.handleSubmit,p=d.formState.errors,b=(e=(0,O.Z)(k().mark(function e(t){var r;return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:a(M(M({},o),{},{task1:M(M({},o.task1),{},{step1:M(M(M({},null===(r=o.task1)||void 0===r?void 0:r.step1),t),{},{completed:!l,started:!0}),started:!0})}));case 3:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:m(b),children:[(0,f.BX)(I.Stack,{gap:1.5,children:[(0,f.tZ)(j.H2,{children:"Additional details"}),(0,f.tZ)(B.TextInput,M(M({label:"Contact phone number",hint:"Any Australian mobile or landline, for example 0444111222 or 02 9988 7766",id:"contactPhoneNumber"},u("contactPhoneNumber")),{},{message:null===(r=p.contactPhoneNumber)||void 0===r?void 0:r.message,invalid:!!p.contactPhoneNumber}))]}),(0,f.tZ)(D.r,{})]})}var z=r(11246),H=r(47586),K=r(37654),G=r(16096),Y=r(38163),Q=r(68944),$=r(79706),U=r(39402);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function et(){var e,t,r,i,o,a,c,d=(0,l.useRouter)(),m=(0,n.t)(),b=m.formState,v=m.setFormState,h=m.typeSearchParm,g=(0,K.useScrollToField)(),O=(0,w.useRef)(null),S=(0,w.useState)(!1),k=S[0],P=S[1],x=(0,s.cI)({defaultValues:null===(e=b.task1)||void 0===e?void 0:e.step1,resolver:(0,Z.F)(N.KC),mode:"onSubmit",reValidateMode:"onBlur"}),T=x.register,C=x.handleSubmit,D=x.formState.errors,E=(0,w.useState)(!1),F=E[0],_=E[1],R="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-1/step-1?type=".concat(h),W=Object.keys(D).length>1;(0,w.useEffect)(function(){if(W&&!k){var e;null===(e=O.current)||void 0===e||e.focus(),P(!0)}},[W,k,D]);var M=(0,w.useRef)(null);(0,w.useEffect)(function(){var e;null===(e=M.current)||void 0===e||e.focus()},[]);var q=(0,l.useRouter)().pathname,V=(0,y.g8)().canConfirmAndSubmit;return(0,f.BX)(X.Columns,{children:[(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(L.ProgressIndicator,{items:y.Yi.map(function(e,t){var r,n;return{label:e.label,href:e.href+"?type=".concat(h),status:(n=y.Yi[t]).href===q.replace("/change-details","")?"doing":null!==(r=b.task1)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step7"!==n.formStateKey||V?"todo":"blocked",isActive:0===t}})})}),(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(I.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(A.DirectionLink,{direction:"left",href:R,children:"Back"}),(0,f.BX)(I.Stack,{gap:1.5,children:[(0,f.tZ)(j.H1,{ref:M,tabIndex:-1,focus:!0,children:"Provide business owner details"}),(0,f.tZ)(Q.Text,{as:"p",fontSize:"md",color:"muted",children:"Confirm your name and contact details."}),(0,f.tZ)(U.z,{})]}),(0,f.tZ)(I.Stack,{gap:1.5,width:"100%",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:C(function(e){P(!1),_(!0),setTimeout(function(){_(!1),v(ee(ee({},b),{},{task1:ee(ee({},b.task1),{},{step1:ee({},e)})})),d.push("".concat(R,"&success=true"))},1500)},function(){P(!1)}),noValidate:!0,children:[(0,f.BX)(u.FormStack,{children:[W&&(0,f.BX)(Y.PageAlert,{ref:O,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:Object.entries(D).map(function(e){var t=(0,z.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(r),onClick:g,children:Array.isArray(n)?n[0].message:n.message})},r)})})]}),(0,f.tZ)(B.TextInput,ee(ee({label:"First name",autoComplete:"given-name"},T("firstName")),{},{id:"firstName",invalid:!!(null===(t=D.firstName)||void 0===t?void 0:t.message),message:null===(r=D.firstName)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0})),(0,f.tZ)(B.TextInput,ee(ee({label:"Last name",autoComplete:"family-name"},T("lastName")),{},{id:"lastName",invalid:!!(null===(i=D.lastName)||void 0===i?void 0:i.message),message:null===(o=D.lastName)||void 0===o?void 0:o.message,maxWidth:"xl",required:!0})),(0,f.tZ)(B.TextInput,ee(ee({label:"Email",type:"email",autoComplete:"email"},T("email")),{},{id:"email",invalid:!!(null===(a=D.email)||void 0===a?void 0:a.message),message:null===(c=D.email)||void 0===c?void 0:c.message,maxWidth:"xl",required:!0}))]}),(0,f.tZ)(H.Divider,{}),(0,f.BX)(p.ButtonGroup,{children:[(0,f.tZ)(p.Button,{type:"submit",loading:F,children:"Save changes"}),(0,f.tZ)(p.Button,{variant:"tertiary",onClick:function(){d.push(R)},children:"Discard changes"})]})]})})]})})]})}var er=r(11410),en=r(75807);function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ea(){var e,t,r,i,o,a,l,c,p,b,v,h=(0,n.t)(),g=h.formState,S=h.setFormState,P=h.isSavingBeforeExiting,j=(0,y.g8)().submitStep,x=(0,K.useScrollToField)(),T=(0,w.useRef)(null),C=(0,w.useState)(!1),X=C[0],E=C[1],A=(0,s.cI)({defaultValues:null===(t=g.task1)||void 0===t?void 0:t.step2,resolver:P?void 0:(0,Z.F)(N.Zg),mode:"onSubmit",reValidateMode:"onBlur"}),L=A.watch,F=A.register,_=A.handleSubmit,W=A.trigger,M=A.formState,q=M.errors,V=M.isSubmitted,H=(e=(0,O.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!1),e.t0=!P,!e.t0){e.next=5;break}return e.next=5,j();case 5:S(eo(eo({},g),{},{task1:eo(eo({},g.task1),{},{step2:eo(eo({},t),{},{completed:!P,started:!0}),started:!0})}));case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),U=(0,en.I4)(q);(0,w.useEffect)(function(){if(U&&!X){var e;null===(e=T.current)||void 0===e||e.focus(),E(!0)}},[U,X,q]);var J="Business"===L("businessStructure"),ee="Company"===L("businessStructure");return(0,w.useEffect)(function(){V&&W()},[W,V,J]),(0,f.tZ)(R,{formTitle:"Business details",formIntroduction:"Your business details must match your business registration.",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:_(H,function(){E(!1)}),noValidate:!0,children:[(0,f.BX)(u.FormStack,{children:[U&&(0,f.BX)(Y.PageAlert,{ref:T,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:Object.entries(q).map(function(e){var t=(0,z.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(r),onClick:x,children:n.message})},r)})})]}),(0,f.tZ)(B.TextInput,eo(eo({id:"businessName",label:"Business or company name"},F("businessName")),{},{invalid:!!(null===(r=q.businessName)||void 0===r?void 0:r.message),message:null===(i=q.businessName)||void 0===i?void 0:i.message,required:!0})),(0,f.tZ)(B.TextInput,eo(eo({id:"tradingName",label:"Trading name"},F("tradingName")),{},{invalid:!!(null===(o=q.tradingName)||void 0===o?void 0:o.message),message:null===(a=q.tradingName)||void 0===a?void 0:a.message})),(0,f.BX)(m.ControlGroup,{id:"checkbox",label:"Business structure",invalid:!!q.businessStructure,message:null===(l=q.businessStructure)||void 0===l?void 0:l.message,required:!0,block:!0,children:[(0,f.tZ)(d.Radio,eo(eo({},F("businessStructure")),{},{value:"Business",children:"Business"})),J?(0,f.tZ)(er.i,{children:(0,f.tZ)(B.TextInput,eo(eo({id:"abn",label:"Australian Business Number (ABN)"},F("abn")),{},{invalid:!!(null===(c=q.abn)||void 0===c?void 0:c.message),message:null===(p=q.abn)||void 0===p?void 0:p.message,required:!0}))}):null,(0,f.tZ)(d.Radio,eo(eo({},F("businessStructure")),{},{value:"Company",children:"Company"})),ee?(0,f.tZ)(er.i,{children:(0,f.tZ)(B.TextInput,eo(eo({id:"acn",label:"Australian Company Number (ACN)"},F("acn")),{},{invalid:!!(null===(b=q.acn)||void 0===b?void 0:b.message),message:null===(v=q.acn)||void 0===v?void 0:v.message,required:!0}))}):null,(0,f.tZ)(d.Radio,eo(eo({},F("businessStructure")),{},{value:"Sole trader",children:"Sole trader"}))]})]}),(0,f.tZ)(D.r,{})]})})}var el=r(73403),es=r(585),ec=r(74373);function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function em(){var e,t,r,i,o,a,l,c,d,m,p,b,v,h,g,S,P,j,x=(0,n.t)(),T=x.formState,C=x.setFormState,X=x.isSavingBeforeExiting,E=(0,y.g8)().submitStep,A=(0,K.useScrollToField)(),L=(0,w.useRef)(null),F=(0,w.useState)(!1),_=F[0],W=F[1],M=(0,s.cI)({defaultValues:null===(t=T.task1)||void 0===t?void 0:t.step3,resolver:X?void 0:(0,Z.F)(N.Pb),mode:"onSubmit",reValidateMode:"onBlur"}),q=M.watch,V=M.register,H=M.handleSubmit,U=M.formState.errors,J=(e=(0,O.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(W(!1),e.t0=!X,!e.t0){e.next=5;break}return e.next=5,E();case 5:C(eu(eu({},T),{},{task1:eu(eu({},T.task1),{},{step3:eu(eu({},t),{},{completed:!X,started:!0}),started:!0})}));case 6:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),ee=Object.entries(U).map(function(e){var t=(0,z.Z)(e,2),r=t[0],n=t[1];if("message"in n)return{key:r,message:n.message}}).filter(function(e){return!!(null==e?void 0:e.message)}),et=Object.keys(U).length>1;(0,w.useEffect)(function(){if(et&&!_){var e;null===(e=L.current)||void 0===e||e.focus(),W(!0)}},[et,_,U]);var er=q("isPostalAddressSameAsStreetAddress");return(0,f.tZ)(R,{formTitle:"Business address",formIntroduction:"Add your business address.",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:H(J,function(){W(!1)}),noValidate:!0,children:[et&&(0,f.BX)(Y.PageAlert,{ref:L,tabIndex:-1,tone:"error",title:(0,f.tZ)(Y.PageAlertTitle,{as:"h2",children:"There is a problem"}),children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:ee.map(function(e){return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(e.key),onClick:A,children:e.message})},e.key)})})]}),(0,f.BX)(u.FormStack,{children:[(0,f.tZ)(es.Fieldset,{legend:"Street address",children:(0,f.BX)(u.FormStack,{children:[(0,f.tZ)(B.TextInput,eu(eu({label:"Street address"},V("streetAddress")),{},{id:"streetAddress",invalid:!!(null===(r=U.streetAddress)||void 0===r?void 0:r.message),message:null===(i=U.streetAddress)||void 0===i?void 0:i.message,required:!0,maxWidth:"xl"})),(0,f.tZ)(B.TextInput,eu(eu({label:"Suburb, town or city"},V("suburbTownCity")),{},{id:"suburbTownCity",invalid:!!(null===(o=U.suburbTownCity)||void 0===o?void 0:o.message),message:null===(a=U.suburbTownCity)||void 0===a?void 0:a.message,required:!0})),(0,f.tZ)(ec.Select,eu(eu({label:"State or territory"},V("state")),{},{id:"state",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(l=U.state)||void 0===l?void 0:l.message),message:null===(c=U.state)||void 0===c?void 0:c.message,required:!0,maxWidth:"md"})),(0,f.tZ)(B.TextInput,eu(eu({label:"Postcode"},V("postcode")),{},{id:"postcode",invalid:!!(null===(d=U.postcode)||void 0===d?void 0:d.message),message:null===(m=U.postcode)||void 0===m?void 0:m.message,maxWidth:"sm",inputMode:"numeric",pattern:"[0-9]*",required:!0}))]})}),(0,f.tZ)(es.Fieldset,{legend:"Postal address",children:(0,f.BX)(u.FormStack,{children:[(0,f.tZ)(el.Checkbox,eu(eu({},V("isPostalAddressSameAsStreetAddress")),{},{id:"isPostalAddressSameAsStreetAddress",children:"Same as street address"})),!er&&(0,f.BX)(u.FormStack,{children:[(0,f.tZ)(B.TextInput,eu(eu({label:"Postal address"},V("postalAddress")),{},{id:"postalAddress",invalid:!!(null===(p=U.postalAddress)||void 0===p?void 0:p.message),message:null===(b=U.postalAddress)||void 0===b?void 0:b.message,required:!0,maxWidth:"xl"})),(0,f.tZ)(B.TextInput,eu(eu({label:"Suburb, town or city"},V("postalSuburbTownCity")),{},{id:"postalSuburbTownCity",invalid:!!(null===(v=U.postalSuburbTownCity)||void 0===v?void 0:v.message),message:null===(h=U.postalSuburbTownCity)||void 0===h?void 0:h.message,required:!0})),(0,f.tZ)(ec.Select,eu(eu({label:"State or territory"},V("postalState")),{},{id:"postalState",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(g=U.postalState)||void 0===g?void 0:g.message),message:null===(S=U.postalState)||void 0===S?void 0:S.message,required:!0,maxWidth:"md"})),(0,f.tZ)(B.TextInput,eu(eu({label:"Postcode"},V("postalPostcode")),{},{id:"postalPostcode",invalid:!!(null===(P=U.postalPostcode)||void 0===P?void 0:P.message),message:null===(j=U.postalPostcode)||void 0===j?void 0:j.message,maxWidth:"sm",required:!0,inputMode:"numeric",pattern:"[0-9]*"}))]})]})})]}),(0,f.tZ)(D.r,{})]})})}var ep=r(90089),ef=r(24953),eb=["ref"];function ev(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eg(){var e,t,r,i,o,a,l=(0,n.t)(),c=l.formState,d=l.setFormState,m=l.isSavingBeforeExiting,p=(0,y.g8)().submitStep,b=(0,K.useScrollToField)(),v=(0,w.useRef)(null),h=(0,w.useState)(!1),g=h[0],S=h[1],P=(0,s.cI)({defaultValues:(t=null==(e=null===(i=c.task1)||void 0===i?void 0:i.step4)?void 0:e.registrationExpiry,eh(eh({},e),{},{registrationExpiry:(0,en.LZ)(t)})),resolver:m?void 0:(0,Z.F)(N.o),mode:"onSubmit",reValidateMode:"onBlur"}),j=P.control,x=P.register,T=P.handleSubmit,C=P.formState.errors,X=(r=(0,O.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(S(!1),e.t0=!m,!e.t0){e.next=5;break}return e.next=5,p();case 5:d(eh(eh({},c),{},{task1:eh(eh({},c.task1),{},{step4:eh(eh({},t),{},{completed:!m,started:!0}),started:!0})}));case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),E=Object.entries(C).map(function(e){var t=(0,z.Z)(e,2),r=t[0],n=t[1];if("message"in n)return{key:r,message:n.message}}).filter(function(e){return!!(null==e?void 0:e.message)}),A=Object.keys(C).length>1;return(0,w.useEffect)(function(){if(A&&!g){var e;null===(e=v.current)||void 0===e||e.focus(),S(!0)}},[A,g,C]),(0,f.tZ)(R,{formTitle:"Vehicle registration",formIntroduction:"What times would you like to operate?",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:T(X,function(){S(!1)}),noValidate:!0,children:[(0,f.BX)(u.FormStack,{children:[A&&(0,f.BX)(Y.PageAlert,{ref:v,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:E.map(function(e){return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(e.key),onClick:b,children:e.message})},e.key)})})]}),(0,f.tZ)(B.TextInput,eh(eh({label:"Vehicle registration number",hint:"Enter a plate number, maximum 6 characters. For example ABC123.",id:"registrationNumber"},x("registrationNumber")),{},{invalid:!!(null===(o=C.registrationNumber)||void 0===o?void 0:o.message),message:null===(a=C.registrationNumber)||void 0===a?void 0:a.message,required:!0})),(0,f.tZ)(s.Qr,{control:j,name:"registrationExpiry",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,ep.Z)(n,eb);return(0,f.tZ)(ef.DatePicker,eh(eh({inputRef:i,label:"Vehicle registration expiry"},o),{},{id:"registrationExpiry",invalid:!!(null===(t=C.registrationExpiry)||void 0===t?void 0:t.message),message:null===(r=C.registrationExpiry)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0}))}})]}),(0,f.tZ)(D.r,{})]})})}var ey=r(87913),eO=r(80502),eS=["ref","value","onChange"],ek=["ref"],eZ=["ref"];function ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ew(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ew(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ej(){var e,t,r,i,o,a,l,c=(0,n.t)(),d=c.formState,m=c.setFormState,p=c.isSavingBeforeExiting,b=(0,y.g8)().submitStep,v=(0,K.useScrollToField)(),h=(0,w.useRef)(null),g=(0,w.useState)(!1),S=g[0],P=g[1],j=(0,s.cI)({defaultValues:(i=null==(e=null===(l=d.task1)||void 0===l?void 0:l.step5)||null===(t=e.tradingPeriod)||void 0===t?void 0:t.from,o=null==e||null===(r=e.tradingPeriod)||void 0===r?void 0:r.from,eP(eP({},e),{},{tradingPeriod:{from:(0,en.LZ)(i),to:(0,en.LZ)(o)}})),resolver:p?void 0:(0,Z.F)(N._y),mode:"onSubmit",reValidateMode:"onBlur"}),x=j.control,T=j.handleSubmit,C=j.formState.errors,B=(a=(0,O.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!1),e.t0=!p,!e.t0){e.next=5;break}return e.next=5,b();case 5:m(eP(eP({},d),{},{task1:eP(eP({},d.task1),{},{step5:eP(eP({},t),{},{completed:!p,started:!0}),started:!0})}));case 6:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),X=Object.entries(C).map(function(e){var t,r,n=(0,z.Z)(e,2),i=n[0],o=n[1];return"message"in o?{key:i,message:o.message}:"from"in o?{key:i,message:null===(t=o.from)||void 0===t?void 0:t.message}:"to"in o?{key:i,message:null===(r=o.to)||void 0===r?void 0:r.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)}),E=Object.keys(C).length>1;return(0,w.useEffect)(function(){if(E&&!S){var e;null===(e=h.current)||void 0===e||e.focus(),P(!0)}},[E,S,C]),(0,f.tZ)(R,{formTitle:"Trading time",formIntroduction:"What times would you like to operate?",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:T(B,function(){P(!1)}),noValidate:!0,children:[(0,f.BX)(u.FormStack,{children:[E&&(0,f.BX)(Y.PageAlert,{ref:h,tone:"error",title:(0,f.tZ)(Y.PageAlertTitle,{as:"h2",children:"There is a problem"}),tabIndex:-1,children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:X.map(function(e){return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(e.key),onClick:v,children:e.message})},e.key)})})]}),(0,f.tZ)(s.Qr,{control:x,name:"tradingPeriod",render:function(e){var t,r,n,i,o=e.field,a=o.ref,l=o.value,s=o.onChange,c=(0,ep.Z)(o,eS);return(0,f.tZ)(ey.DateRangePicker,eP(eP({legend:"Period active",fromInputRef:a},c),{},{id:"tradingPeriod",value:l,onChange:s,onFromInputChange:function(e){return s(eP(eP({},l),{},{from:e}))},onToInputChange:function(e){return s(eP(eP({},l),{},{to:e}))},fromInvalid:!!(null===(t=C.tradingPeriod)||void 0===t||null===(t=t.from)||void 0===t?void 0:t.message),toInvalid:!!(null===(r=C.tradingPeriod)||void 0===r||null===(r=r.to)||void 0===r?void 0:r.message),message:(null===(n=C.tradingPeriod)||void 0===n||null===(n=n.from)||void 0===n?void 0:n.message)||(null===(i=C.tradingPeriod)||void 0===i||null===(i=i.to)||void 0===i?void 0:i.message),required:!0}))}}),(0,f.tZ)(s.Qr,{control:x,name:"openingTime",render:function(e){var t,r,n=e.field,i=(n.ref,(0,ep.Z)(n,ek));return(0,f.tZ)(eO.TimeInput,eP(eP({label:"Opening time",hint:"For example, 9 am or 2:30 pm - enter 12 pm for midday",id:"openingTime"},i),{},{invalid:!!(null===(t=C.openingTime)||void 0===t?void 0:t.message),message:null===(r=C.openingTime)||void 0===r?void 0:r.message,required:!0}))}}),(0,f.tZ)(s.Qr,{control:x,name:"closingTime",render:function(e){var t,r,n=e.field,i=(n.ref,(0,ep.Z)(n,eZ));return(0,f.tZ)(eO.TimeInput,eP(eP({label:"Closing time",hint:"For example, 9 am or 2:30 pm - enter 12 pm for midday",id:"closingTime"},i),{},{invalid:!!(null===(t=C.closingTime)||void 0===t?void 0:t.message),message:null===(r=C.closingTime)||void 0===r?void 0:r.message,required:!0}))}})]}),(0,f.tZ)(D.r,{})]})})}var ex=r(47441),eI=["ref"];function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eB(){var e,t,r=(0,n.t)(),i=r.formState,o=r.setFormState,a=r.isSavingBeforeExiting,l=(0,y.g8)().submitStep,c=(0,s.cI)({defaultValues:null===(t=i.task1)||void 0===t?void 0:t.step6,resolver:a?void 0:(0,Z.F)(N.F_),mode:"onSubmit",reValidateMode:"onBlur"}),d=c.control,u=c.handleSubmit,m=c.formState.errors,p=(e=(0,O.Z)(k().mark(function e(t){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=!a,!e.t0){e.next=4;break}return e.next=4,l();case 4:o(eC(eC({},i),{},{task1:eC(eC({},i.task1),{},{step6:eC(eC({},t),{},{completed:!a,started:!0}),started:!0})}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,f.tZ)(R,{formTitle:"Food served",formIntroduction:"What type of food will you be serving?",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:u(p),noValidate:!0,children:[(0,f.tZ)(s.Qr,{control:d,name:"cuisine",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,ep.Z)(n,eI);return(0,f.tZ)(ex.ComboboxMulti,eC(eC({label:"Select food types",hint:"Start typing to see results. You can add multiple selections.",inputRef:i,options:eD,required:!0},o),{},{id:"cuisine",invalid:!!(null===(t=m.cuisine)||void 0===t?void 0:t.message),message:null===(r=m.cuisine)||void 0===r?void 0:r.message}))}}),(0,f.tZ)(D.r,{})]})})}var eD=[{value:"american",label:"American"},{value:"brazilian",label:"Brazilian"},{value:"caribbean",label:"Caribbean"},{value:"chinese",label:"Chinese"},{value:"ethiopian",label:"Ethiopian"},{value:"filipino",label:"Filipino"},{value:"french",label:"French"},{value:"greek",label:"Greek"},{value:"indian",label:"Indian"},{value:"italian",label:"Italian"},{value:"japanese",label:"Japanese"},{value:"korean",label:"Korean"},{value:"mediterranean",label:"Mediterranean"},{value:"mexican",label:"Mexican"},{value:"moroccan",label:"Moroccan"},{value:"peruvian",label:"Peruvian"},{value:"spanish",label:"Spanish"},{value:"thai",label:"Thai"},{value:"turkish",label:"Turkish"},{value:"vietnamese",label:"Vietnamese"}],eX=r(15138);function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eL(){var e=(0,n.t)(),t=e.formState,r=e.setFormState,i=(0,y.g8)(),o=i.submitStep,a=i.canConfirmAndSubmit;function l(){return(l=(0,O.Z)(k().mark(function e(n){return k().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,o();case 3:r(eA(eA({},t),{},{task1:eA(eA({},t.task1),{},{step7:{completed:!0},completed:!0})}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,f.tZ)(R,{formTitle:"Confirm and submit",formIntroduction:"Check and confirm all details on this page.",children:a?(0,f.BX)(w.Fragment,{children:[(0,f.tZ)(eX.G,{headingsLevel:"h2"}),(0,f.tZ)("form",{onSubmit:function(e){return l.apply(this,arguments)},children:(0,f.tZ)(D.r,{})})]}):(0,f.tZ)(_.nc,{})})}var eF=r(18082);r(17872);var e_=r(44285),eR=r(54389),eN=r(51098);function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){(0,o.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eq(){var e,t,r,i,o,a,c,d=(0,l.useRouter)(),m=d.query.employeeId,b=(0,n.t)(),v=b.formState,h=b.setFormState,g=b.typeSearchParm,y=(null===(e=v.task2)||void 0===e||null===(e=e.step1)||void 0===e?void 0:e.employeeList)||[],O=(0,K.useScrollToField)(),S=(0,w.useRef)(null),k=(0,w.useState)(!1),P=k[0],x=k[1],T=y.find(function(e){return(null==e?void 0:e.email)===m}),C=(0,s.cI)({defaultValues:T,resolver:(0,Z.F)(eN.RT),mode:"onSubmit",reValidateMode:"onBlur"}),D=C.register,E=C.handleSubmit,F=C.formState.errors,_=(0,w.useState)(!1),R=_[0],N=_[1],W="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-1?type=".concat(g),M=Object.keys(F).length>1;(0,w.useEffect)(function(){if(M&&!P){var e;null===(e=S.current)||void 0===e||e.focus(),x(!0)}},[M,P,F]);var q=(0,w.useRef)(null);(0,w.useEffect)(function(){var e;null===(e=q.current)||void 0===e||e.focus()},[]);var V=Object.entries(F),J=(0,eF.Qp)().canConfirmAndSubmit;return(0,f.BX)(X.Columns,{columnGap:2,children:[(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(L.ProgressIndicator,{items:eF.Ag.map(function(e,t){var r;return{label:e.label,href:e.href+"?type=".concat(g),status:"step1"===(r=eF.Ag[t]).formStateKey?"started":"step3"!==r.formStateKey||J?"todo":"blocked",isActive:0===t}})})}),(0,f.tZ)(X.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(I.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(A.DirectionLink,{direction:"left",href:W,children:"Back"}),(0,f.BX)(I.Stack,{gap:1.5,children:[(0,f.tZ)(j.H1,{ref:q,tabIndex:-1,focus:!0,children:"Add employee"}),(0,f.tZ)(Q.Text,{as:"p",fontSize:"md",color:"muted",children:"Provide your employee’s name and email."}),(0,f.tZ)(U.z,{})]}),(0,f.tZ)(I.Stack,{gap:1.5,width:"100%",children:(0,f.BX)(I.Stack,{as:"form",gap:3,onSubmit:E(function(e){console.log("onSubmit",{data:e}),x(!1),N(!0),setTimeout(function(){var t;N(!1),h(eM(eM({},v),{},{task2:eM(eM({},v.task2),{},{step1:eM(eM({},null===(t=v.task2)||void 0===t?void 0:t.step1),{},{employeeList:[].concat((0,e_.Z)(y),[e])})})})),d.push(W+"&success=true")},1500)},function(){x(!1)}),noValidate:!0,children:[(0,f.BX)(u.FormStack,{children:[M&&(0,f.BX)(Y.PageAlert,{ref:S,tone:"error",title:"There is a problem",tabIndex:-1,children:[(0,f.tZ)(Q.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,f.tZ)(G.UnorderedList,{children:null==V?void 0:V.map(function(e){var t=(0,z.Z)(e,2),r=t[0],n=t[1];return(0,f.tZ)(G.ListItem,{children:(0,f.tZ)($.TextLink,{href:"#".concat(r),onClick:O,children:Array.isArray(n)?n[0].message:n.message})},r)})})]}),(0,f.tZ)(B.TextInput,eM(eM({label:"Given name/s",autoComplete:"given-name"},D("firstName")),{},{id:"firstName",invalid:!!(null==F||null===(t=F.firstName)||void 0===t?void 0:t.message),message:null==F||null===(r=F.firstName)||void 0===r?void 0:r.message,maxWidth:"xl",required:!0})),(0,f.tZ)(B.TextInput,eM(eM({label:"Family name",autoComplete:"family-name"},D("lastName")),{},{id:"lastName",invalid:!!(null==F||null===(i=F.lastName)||void 0===i?void 0:i.message),message:null==F||null===(o=F.lastName)||void 0===o?void 0:o.message,maxWidth:"xl",required:!0})),(0,f.tZ)(B.TextInput,eM(eM({label:"Email",type:"email",autoComplete:"email"},D("email")),{},{id:"email",invalid:!!(null==F||null===(a=F.email)||void 0===a?void 0:a.message),message:null==F||null===(c=F.email)||void 0===c?void 0:c.message,maxWidth:"xl",hint:"An invite to link this business to their yourGov account will be sent to this address",required:!0}))]}),(0,f.tZ)(eR.Callout,{tone:"info",title:"Employees will be invited to link this business to their yourGov account",variant:"compact",children:(0,f.tZ)(Q.Text,{as:"p",children:"Business owners can grant permission to manage permits and licences to employees who accept the email invitation. Linking is optional and employees can choose to link or unlink a business at any time."})}),(0,f.tZ)(H.Divider,{}),(0,f.BX)(p.ButtonGroup,{children:[(0,f.tZ)(p.Button,{type:"submit",loading:R,children:"Add employee"}),(0,f.tZ)(p.Button,{variant:"tertiary",onClick:function(){d.push(W)},children:"Cancel"})]})]})})]})})]})}},55713:function(e,t,r){r.d(t,{T:function(){return b}});var n=r(86677),i=r(27378),o=r(2951),a=r(74578),l=r(10957),s=r(63846),c=r(50456),d=r(97532),u=r(33680),m=r(2604),p=r(18082),f=r(87800);function b(e){var t=e.formTitle,r=e.formIntroduction,b=e.formCallToAction,v=e.children,h=(0,n.useRouter)().pathname,g=(0,m.t)(),y=g.formState,O=g.typeSearchParm,S=g.startTask,k=g.checkIsTaskAvailable,Z=(0,p.Qp)(),w=Z.backHref,P=Z.canConfirmAndSubmit,j=k("task2");return(0,i.useEffect)(function(){S("task2")},[S]),(0,f.BX)(o.Columns,{children:[(0,f.tZ)(o.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,f.tZ)(a.ContentBleed,{visible:{md:!1},children:(0,f.tZ)(s.ProgressIndicator,{items:p.Ag.map(function(e,t){var r,n;return{label:e.label,href:e.href+"?type=".concat(O),status:(n=p.Ag[t]).href===h?"doing":null!==(r=y.task2)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step1"===n.formStateKey||P?"todo":"blocked"}})})})}),(0,f.tZ)(o.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,f.BX)(c.Stack,{gap:3,alignItems:"flex-start",children:[(0,f.tZ)(l.DirectionLink,{direction:"left",href:w,children:"Back"}),(0,f.tZ)(d.Y,{task:2,title:t,introduction:r,callToAction:b,children:j?v:(0,f.tZ)(u.nc,{})})]})})]})}},17872:function(e,t,r){r.d(t,{z:function(){return w}});var n=r(90849),i=r(55732),o=r(57135),a=r.n(o),l=r(86677),s=r(27378),c=r(51036),d=r(94303),u=r(40631),m=r(38163),p=r(50456),f=r(68944),b=r(2604),v=r(4401),h=r(40297),g=r(55713),y=r(51098),O=r(18082),S=r(87800);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function w(){var e,t,r,n,o=(0,l.useRouter)().query,k=(0,O.Qp)().submitStep,w=(0,b.t)(),P=w.formState,j=w.typeSearchParm,x=w.setFormState,I=w.isSavingBeforeExiting,T="/app/licences-and-permits/apply/mobile-food-vendor-permit/form/task-2/step-1/add-employee?type=".concat(j),C=(0,s.useState)("true"===o.success),B=C[0],D=C[1],X=(0,s.useState)(),E=X[0],A=X[1],L=(null===(t=P.task2)||void 0===t||null===(t=t.step1)||void 0===t?void 0:t.employeeList)||[],F=L.length>0,_=(e=(0,i.Z)(a().mark(function e(t){var r,n,i;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y.gR.safeParse(null===(r=P.task2)||void 0===r?void 0:r.step1),t.preventDefault(),i.success){e.next=5;break}return A(i.error.format()),e.abrupt("return");case 5:if(e.t0=!I,!e.t0){e.next=9;break}return e.next=9,k();case 9:x(Z(Z({},P),{},{task2:Z(Z({},P.task2),{},{step1:Z(Z({},null===(n=P.task2)||void 0===n?void 0:n.step1),{},{employeeList:L,completed:!I,started:!0}),started:!0})}));case 10:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),R=L[L.length-1];return(0,S.tZ)(g.T,{formTitle:O.Ag[0].label,formIntroduction:"Add your employee details.",children:(0,S.BX)(p.Stack,{as:"form",gap:2,width:"100%",onSubmit:_,children:[(null==E||null===(r=E.employeeList)||void 0===r?void 0:r._errors)&&(0,S.tZ)(m.PageAlert,{tone:"error",title:null===(n=E.employeeList)||void 0===n?void 0:n._errors[0],children:(0,S.tZ)(f.Text,{children:"You need to add some staff. You’re amazing, but you can’t do this alone. Life is better with friends and team mates."})}),(0,S.tZ)(d.H2,{children:"List of employees"}),B&&R&&(0,S.tZ)(m.PageAlert,{tone:"success",title:"Employee added",onClose:function(){return D(!1)},children:(0,S.BX)(f.Text,{children:[R.firstName," ",R.lastName," has been added as an employee."]})}),F&&(0,S.tZ)(h.f,{employeeList:L,onRemoveEmployee:function(e){var t;x(Z(Z({},P),{},{task2:Z(Z({},P.task2),{},{step1:Z(Z({},null===(t=P.task2)||void 0===t?void 0:t.step1),{},{employeeList:null==L?void 0:L.filter(function(t){return(null==t?void 0:t.email)!==(null==e?void 0:e.email)})})})}))},step1AddEmployeePath:T}),!F&&(0,S.BX)(p.Stack,{gap:1.5,alignItems:"flex-start",width:"100%",children:[(0,S.tZ)(u.AvatarIcon,{size:"xl"}),(0,S.tZ)(d.H3,{children:"No employees added"}),(0,S.tZ)(f.Text,{as:"p",children:"You must add an employee to proceed."}),(0,S.tZ)(c.ButtonLink,{href:T,variant:"secondary",size:"sm",iconBefore:u.PlusIcon,children:"Add employee"})]}),(0,S.tZ)(v.r,{})]})})}}}]);