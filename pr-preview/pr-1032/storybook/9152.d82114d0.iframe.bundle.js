/*! For license information please see 9152.d82114d0.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[9152],{"./node_modules/@reach/menu-button/dist/reach-menu-button.mjs":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{v2:()=>Menu,j2:()=>MenuButton,sN:()=>MenuItem,Uk:()=>MenuLink,qy:()=>MenuList});var react=__webpack_require__("./node_modules/react/index.js"),react_namespaceObject=__webpack_require__.t(react,2);function canUseDOM(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function composeEventHandlers(theirHandler,ourHandler){return event=>{if(theirHandler&&theirHandler(event),!event.defaultPrevented)return ourHandler(event)}}function isBoolean(value){return"boolean"==typeof value}function isFunction(value){return!(!value||"[object Function]"!={}.toString.call(value))}function assignRef(ref,value){if(null!=ref)if(isFunction(ref))ref(value);else try{ref.current=value}catch(error){throw new Error(`Cannot assign value "${value}" to ref "${ref}"`)}}function useComposedRefs(...refs){return(0,react.useCallback)((node=>{for(let ref of refs)assignRef(ref,node)}),refs)}function getOwnerDocument(element){return canUseDOM()?element?element.ownerDocument:document:null}function isRightClick(nativeEvent){return"which"in nativeEvent?3===nativeEvent.which:"button"in nativeEvent&&2===nativeEvent.button}function makeId(...args){return args.filter((val=>null!=val)).join("--")}function noop(){}function useForceUpdate(){let[,dispatch]=(0,react.useState)(Object.create(null));return(0,react.useCallback)((()=>{dispatch(Object.create(null))}),[])}var useIsomorphicLayoutEffect=canUseDOM()?react.useLayoutEffect:react.useEffect;function usePrevious(value){const ref=(0,react.useRef)(null);return(0,react.useEffect)((()=>{ref.current=value}),[value]),ref.current}var react_dom=__webpack_require__("./node_modules/react-dom/index.js"),PortalImpl=({children,type="reach-portal",containerRef})=>{let mountNode=react.useRef(null),portalNode=react.useRef(null),forceUpdate=useForceUpdate();return react.useEffect((()=>{null!=containerRef&&("object"==typeof containerRef&&"current"in containerRef?null==containerRef.current&&console.warn("@reach/portal: A ref was passed to the `containerRef` prop of a `Portal`, but no DOM node was attached to it. Be sure to pass the ref to a DOM component.\n\nIf you are forwarding the ref from another component, be sure to use the React.forwardRef API. See https://reactjs.org/docs/forwarding-refs.html."):console.warn("@reach/portal: Invalid value passed to the `containerRef` of a `Portal`. The portal will be appended to the document body, but if you want to attach it to another DOM node you must pass a valid React ref object to `containerRef`."))}),[containerRef]),useIsomorphicLayoutEffect((()=>{if(!mountNode.current)return;let ownerDocument=mountNode.current.ownerDocument,body=containerRef?.current||ownerDocument.body;return portalNode.current=ownerDocument?.createElement(type),body.appendChild(portalNode.current),forceUpdate(),()=>{portalNode.current&&body&&body.removeChild(portalNode.current)}}),[type,forceUpdate,containerRef]),portalNode.current?(0,react_dom.createPortal)(children,portalNode.current):react.createElement("span",{ref:mountNode})},Portal=({unstable_skipInitialRender,...props})=>{let[hydrated,setHydrated]=react.useState(!1);return react.useEffect((()=>{unstable_skipInitialRender&&setHydrated(!0)}),[unstable_skipInitialRender]),unstable_skipInitialRender&&!hydrated?null:react.createElement(PortalImpl,{...props})};Portal.displayName="Portal";var rafId,props=["bottom","height","left","right","top","width"],observedNodes=new Map,run=function run(){var changedStates=[];observedNodes.forEach((function(state,node){var newRect=node.getBoundingClientRect();(function rectChanged(a,b){return void 0===a&&(a={}),void 0===b&&(b={}),props.some((function(prop){return a[prop]!==b[prop]}))})(newRect,state.rect)&&(state.rect=newRect,changedStates.push(state))})),changedStates.forEach((function(state){state.callbacks.forEach((function(cb){return cb(state.rect)}))})),rafId=window.requestAnimationFrame(run)};const observe_rect_esm=function observeRect(node,cb){return{observe:function observe(){var wasEmpty=0===observedNodes.size;observedNodes.has(node)?observedNodes.get(node).callbacks.push(cb):observedNodes.set(node,{rect:void 0,hasRectChanged:!1,callbacks:[cb]}),wasEmpty&&run()},unobserve:function unobserve(){var state=observedNodes.get(node);if(state){var index=state.callbacks.indexOf(cb);index>=0&&state.callbacks.splice(index,1),state.callbacks.length||observedNodes.delete(node),observedNodes.size||cancelAnimationFrame(rafId)}}}};function useRect(nodeRef,observeOrOptions,deprecated_onChange){let observe,onChange;isBoolean(observeOrOptions)?observe=observeOrOptions:(observe=observeOrOptions?.observe??!0,onChange=observeOrOptions?.onChange),isFunction(deprecated_onChange)&&(onChange=deprecated_onChange),react.useEffect((()=>{isBoolean(observeOrOptions)&&console.warn("Passing `observe` as the second argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `observe` property as the second argument (`useRect(ref, { observe })`).\nSee https://reach.tech/rect#userect-observe")}),[observeOrOptions]),react.useEffect((()=>{isFunction(deprecated_onChange)&&console.warn("Passing `onChange` as the third argument to `useRect` is deprecated and will be removed in a future version of Reach UI. Instead, you can pass an object of options with an `onChange` property as the second argument (`useRect(ref, { onChange })`).\nSee https://reach.tech/rect#userect-onchange")}),[deprecated_onChange]);let[element,setElement]=react.useState(nodeRef.current),initialRectIsSet=react.useRef(!1),initialRefIsSet=react.useRef(!1),[rect,setRect]=react.useState(null),onChangeRef=react.useRef(onChange);return useIsomorphicLayoutEffect((()=>{onChangeRef.current=onChange,nodeRef.current!==element&&setElement(nodeRef.current)})),useIsomorphicLayoutEffect((()=>{element&&!initialRectIsSet.current&&(initialRectIsSet.current=!0,setRect(element.getBoundingClientRect()))}),[element]),useIsomorphicLayoutEffect((()=>{if(!observe)return;let elem=element;if(initialRefIsSet.current||(initialRefIsSet.current=!0,elem=nodeRef.current),!elem)return void console.warn("You need to place the ref");let observer=observe_rect_esm(elem,(rect2=>{onChangeRef.current?.(rect2),setRect(rect2)}));return observer.observe(),()=>{observer.unobserve()}}),[observe,element,nodeRef]),rect}var candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],candidateSelector=candidateSelectors.join(","),NoElement="undefined"==typeof Element,matches=NoElement?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,getRootNode=!NoElement&&Element.prototype.getRootNode?function(element){return element.getRootNode()}:function(element){return element.ownerDocument},getCandidates=function getCandidates(el,includeContainer,filter){var candidates=Array.prototype.slice.apply(el.querySelectorAll(candidateSelector));return includeContainer&&matches.call(el,candidateSelector)&&candidates.unshift(el),candidates=candidates.filter(filter)},getCandidatesIteratively=function getCandidatesIteratively(elements,includeContainer,options){for(var candidates=[],elementsToCheck=Array.from(elements);elementsToCheck.length;){var element=elementsToCheck.shift();if("SLOT"===element.tagName){var assigned=element.assignedElements(),nestedCandidates=getCandidatesIteratively(assigned.length?assigned:element.children,!0,options);options.flatten?candidates.push.apply(candidates,nestedCandidates):candidates.push({scope:element,candidates:nestedCandidates})}else{matches.call(element,candidateSelector)&&options.filter(element)&&(includeContainer||!elements.includes(element))&&candidates.push(element);var shadowRoot=element.shadowRoot||"function"==typeof options.getShadowRoot&&options.getShadowRoot(element),validShadowRoot=!options.shadowRootFilter||options.shadowRootFilter(element);if(shadowRoot&&validShadowRoot){var _nestedCandidates=getCandidatesIteratively(!0===shadowRoot?element.children:shadowRoot.children,!0,options);options.flatten?candidates.push.apply(candidates,_nestedCandidates):candidates.push({scope:element,candidates:_nestedCandidates})}else elementsToCheck.unshift.apply(elementsToCheck,element.children)}}return candidates},getTabindex=function getTabindex(node,isScope){return node.tabIndex<0&&(isScope||/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName)||node.isContentEditable)&&isNaN(parseInt(node.getAttribute("tabindex"),10))?0:node.tabIndex},sortOrderedTabbables=function sortOrderedTabbables(a,b){return a.tabIndex===b.tabIndex?a.documentOrder-b.documentOrder:a.tabIndex-b.tabIndex},isInput=function isInput(node){return"INPUT"===node.tagName},isNonTabbableRadio=function isNonTabbableRadio(node){return function isRadio(node){return isInput(node)&&"radio"===node.type}(node)&&!function isTabbableRadio(node){if(!node.name)return!0;var radioSet,radioScope=node.form||getRootNode(node),queryRadios=function queryRadios(name){return radioScope.querySelectorAll('input[type="radio"][name="'+name+'"]')};if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)radioSet=queryRadios(window.CSS.escape(node.name));else try{radioSet=queryRadios(node.name)}catch(err){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",err.message),!1}var checked=function getCheckedRadio(nodes,form){for(var i=0;i<nodes.length;i++)if(nodes[i].checked&&nodes[i].form===form)return nodes[i]}(radioSet,node.form);return!checked||checked===node}(node)},isZeroArea=function isZeroArea(node){var _node$getBoundingClie=node.getBoundingClientRect(),width=_node$getBoundingClie.width,height=_node$getBoundingClie.height;return 0===width&&0===height},isNodeMatchingSelectorFocusable=function isNodeMatchingSelectorFocusable(options,node){return!(node.disabled||function isHiddenInput(node){return isInput(node)&&"hidden"===node.type}(node)||function isHidden(node,_ref){var displayCheck=_ref.displayCheck,getShadowRoot=_ref.getShadowRoot;if("hidden"===getComputedStyle(node).visibility)return!0;var nodeUnderDetails=matches.call(node,"details>summary:first-of-type")?node.parentElement:node;if(matches.call(nodeUnderDetails,"details:not([open]) *"))return!0;var nodeRootHost=getRootNode(node).host,nodeIsAttached=(null==nodeRootHost?void 0:nodeRootHost.ownerDocument.contains(nodeRootHost))||node.ownerDocument.contains(node);if(displayCheck&&"full"!==displayCheck){if("non-zero-area"===displayCheck)return isZeroArea(node)}else{if("function"==typeof getShadowRoot){for(var originalNode=node;node;){var parentElement=node.parentElement,rootNode=getRootNode(node);if(parentElement&&!parentElement.shadowRoot&&!0===getShadowRoot(parentElement))return isZeroArea(node);node=node.assignedSlot?node.assignedSlot:parentElement||rootNode===node.ownerDocument?parentElement:rootNode.host}node=originalNode}if(nodeIsAttached)return!node.getClientRects().length}return!1}(node,options)||function isDetailsWithSummary(node){return"DETAILS"===node.tagName&&Array.prototype.slice.apply(node.children).some((function(child){return"SUMMARY"===child.tagName}))}(node)||function isDisabledFromFieldset(node){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName))for(var parentNode=node.parentElement;parentNode;){if("FIELDSET"===parentNode.tagName&&parentNode.disabled){for(var i=0;i<parentNode.children.length;i++){var child=parentNode.children.item(i);if("LEGEND"===child.tagName)return!!matches.call(parentNode,"fieldset[disabled] *")||!child.contains(node)}return!0}parentNode=parentNode.parentElement}return!1}(node))},isNodeMatchingSelectorTabbable=function isNodeMatchingSelectorTabbable(options,node){return!(isNonTabbableRadio(node)||getTabindex(node)<0||!isNodeMatchingSelectorFocusable(options,node))},isValidShadowRootTabbable=function isValidShadowRootTabbable(shadowHostNode){var tabIndex=parseInt(shadowHostNode.getAttribute("tabindex"),10);return!!(isNaN(tabIndex)||tabIndex>=0)},sortByOrder=function sortByOrder(candidates){var regularTabbables=[],orderedTabbables=[];return candidates.forEach((function(item,i){var isScope=!!item.scope,element=isScope?item.scope:item,candidateTabindex=getTabindex(element,isScope),elements=isScope?sortByOrder(item.candidates):element;0===candidateTabindex?isScope?regularTabbables.push.apply(regularTabbables,elements):regularTabbables.push(element):orderedTabbables.push({documentOrder:i,tabIndex:candidateTabindex,item,isScope,content:elements})})),orderedTabbables.sort(sortOrderedTabbables).reduce((function(acc,sortable){return sortable.isScope?acc.push.apply(acc,sortable.content):acc.push(sortable.content),acc}),[]).concat(regularTabbables)},tabbable=function tabbable(el,options){var candidates;return candidates=(options=options||{}).getShadowRoot?getCandidatesIteratively([el],options.includeContainer,{filter:isNodeMatchingSelectorTabbable.bind(null,options),flatten:!1,getShadowRoot:options.getShadowRoot,shadowRootFilter:isValidShadowRootTabbable}):getCandidates(el,options.includeContainer,isNodeMatchingSelectorTabbable.bind(null,options)),sortByOrder(candidates)},Popover=react.forwardRef((function Popover2({unstable_skipInitialPortalRender,...props},ref){return react.createElement(Portal,{unstable_skipInitialRender:unstable_skipInitialPortalRender},react.createElement(PopoverImpl,{ref,...props}))}));Popover.displayName="Popover";var PopoverImpl=react.forwardRef((function PopoverImpl2({as:Comp="div",targetRef,position=positionDefault,unstable_observableRefs=[],...props},forwardedRef){const popoverRef=react.useRef(null),popoverRect=useRect(popoverRef,{observe:!props.hidden}),targetRect=useRect(targetRef,{observe:!0}),ref=useComposedRefs(popoverRef,forwardedRef);return function useSimulateTabNavigationForReactTree(triggerRef,popoverRef){const ownerDocument=getOwnerDocument(triggerRef.current);function handleKeyDown(event){"Tab"===event.key&&popoverRef.current&&0===tabbable(popoverRef.current).length||("Tab"===event.key&&event.shiftKey?shiftTabbedFromElementAfterTrigger(event)?focusLastTabbableInPopover(event):shiftTabbedOutOfPopover(event)?focusTriggerRef(event):shiftTabbedToBrowserChrome(event)&&disableTabbablesInPopover():"Tab"===event.key&&(tabbedFromTriggerToPopover()?focusFirstPopoverTabbable(event):tabbedOutOfPopover()?focusTabbableAfterTrigger(event):tabbedToBrowserChrome(event)&&disableTabbablesInPopover()))}function getElementAfterTrigger(){const elements=tabbable(ownerDocument),targetIndex=elements&&triggerRef.current?elements.indexOf(triggerRef.current):-1,elementAfterTrigger=elements&&elements[targetIndex+1];return(!popoverRef.current||!popoverRef.current.contains(elementAfterTrigger||null))&&elementAfterTrigger}function tabbedFromTriggerToPopover(){return!!triggerRef.current&&triggerRef.current===ownerDocument.activeElement}function focusFirstPopoverTabbable(event){const elements=popoverRef.current&&tabbable(popoverRef.current);elements&&elements[0]&&(event.preventDefault(),elements[0].focus())}function tabbedOutOfPopover(){if(!!popoverRef.current&&popoverRef.current.contains(ownerDocument.activeElement||null)){const elements=popoverRef.current&&tabbable(popoverRef.current);return Boolean(elements&&elements[elements.length-1]===ownerDocument.activeElement)}return!1}function focusTabbableAfterTrigger(event){const elementAfterTrigger=getElementAfterTrigger();elementAfterTrigger&&(event.preventDefault(),elementAfterTrigger.focus())}function shiftTabbedFromElementAfterTrigger(event){if(!event.shiftKey)return;const elementAfterTrigger=getElementAfterTrigger();return event.target===elementAfterTrigger}function focusLastTabbableInPopover(event){const elements=popoverRef.current&&tabbable(popoverRef.current),last=elements&&elements[elements.length-1];last&&(event.preventDefault(),last.focus())}function shiftTabbedOutOfPopover(event){const elements=popoverRef.current&&tabbable(popoverRef.current);return!!elements&&(0!==elements.length&&event.target===elements[0])}function focusTriggerRef(event){event.preventDefault(),triggerRef.current?.focus()}function tabbedToBrowserChrome(event){const elements=popoverRef.current?tabbable(ownerDocument).filter((element=>!popoverRef.current.contains(element))):null;return!!elements&&event.target===elements[elements.length-1]}function shiftTabbedToBrowserChrome(event){return event.target===tabbable(ownerDocument)[0]}react.useEffect((()=>(ownerDocument.addEventListener("keydown",handleKeyDown),()=>{ownerDocument.removeEventListener("keydown",handleKeyDown)})),[]);let restoreTabIndexTuplés=[];function disableTabbablesInPopover(){const elements=popoverRef.current&&tabbable(popoverRef.current);elements&&(elements.forEach((element=>{restoreTabIndexTuplés.push([element,element.tabIndex]),element.tabIndex=-1})),ownerDocument.addEventListener("focusin",enableTabbablesInPopover))}function enableTabbablesInPopover(){ownerDocument.removeEventListener("focusin",enableTabbablesInPopover),restoreTabIndexTuplés.forEach((([element,tabIndex])=>{element.tabIndex=tabIndex}))}}(targetRef,popoverRef),react.createElement(Comp,{"data-reach-popover":"",ref,...props,style:{position:"absolute",...getStyles(position,targetRect,popoverRect,...unstable_observableRefs),...props.style}})}));function getStyles(position,targetRect,popoverRect,...unstable_observableRefs){return popoverRect?position(targetRect,popoverRect,...unstable_observableRefs.map((ref=>ref.current))):{visibility:"hidden"}}function getTopPosition(targetRect,popoverRect,isDirectionUp){return{top:isDirectionUp?`${targetRect.top-popoverRect.height+window.pageYOffset}px`:`${targetRect.top+targetRect.height+window.pageYOffset}px`}}PopoverImpl.displayName="PopoverImpl";var positionDefault=(targetRect,popoverRect)=>{if(!targetRect||!popoverRect)return{};const{directionRight,directionUp}=getCollisions(targetRect,popoverRect);return{left:directionRight?`${targetRect.right-popoverRect.width+window.pageXOffset}px`:`${targetRect.left+window.pageXOffset}px`,...getTopPosition(targetRect,popoverRect,directionUp)}};function getCollisions(targetRect,popoverRect,offsetLeft=0,offsetBottom=0){const collisions={top:targetRect.top-popoverRect.height<0,right:window.innerWidth<targetRect.left+popoverRect.width-offsetLeft,bottom:window.innerHeight<targetRect.bottom+popoverRect.height-offsetBottom,left:targetRect.left+targetRect.width-popoverRect.width<0};return{directionRight:collisions.right&&!collisions.left,directionLeft:collisions.left&&!collisions.right,directionUp:collisions.bottom&&!collisions.top,directionDown:collisions.top&&!collisions.bottom}}var serverHandoffComplete=!1,id=0;function genId(){return++id}var maybeReactUseId=react_namespaceObject["useId".toString()];function DescendantProvider({context:Ctx,children,items,set}){let registerDescendant=react.useCallback((({element,index:explicitIndex,...rest})=>element?(set((items2=>{if(null!=explicitIndex&&-1!==explicitIndex)return insertAt(items2,{element,index:explicitIndex,...rest},explicitIndex);if(0===items2.length)return[{...rest,element,index:0}];if(items2.find((item=>item.element===element)))return console.warn("[reach-ui]: `useDescendant` was called with an element that was already registered.\n\nIf you are using the `@reach/descendants` package directly, make sure to only register descendants once. Registering a descendant more than once will lead to bugs in your app.\n\nIf you are using another `reach-ui` package, this is probably our bug!\n\nTo report a bug, open a new issue:\n\n  https://github.com/reach/reach-ui/issues/new?assignees=&labels=&template=Bug_report.md\n\nIMPORTANT: this check will only run in the development build, so if you see this warning please be aware that your app may crash when deployed."),function updateIndices(items){return items.sort(((a,b)=>a.element&&b.element?isElementPreceding(a.element,b.element)?-1:1:0)).map(((item,index)=>({...item,index})))}(items2);let newItems,index=function findDOMIndex(items,element){if(!element)return-1;if(!items.length)return-1;let length=items.length;for(;length--;){let currentElement=items[length].element;if(currentElement&&isElementPreceding(currentElement,element))return length+1}return-1}(items2,element);return newItems=-1===index?[...items2,{...rest,element,index:items2.length}]:insertAt(items2,{...rest,element,index},index),newItems})),()=>{element&&set((items2=>items2.filter((item=>element!==item.element))))}):noop),[]);return react.createElement(Ctx.Provider,{value:react.useMemo((()=>({descendants:items,registerDescendant})),[items,registerDescendant])},children)}function isElementPreceding(a,b){return Boolean(b.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_PRECEDING)}function insertAt(array,item,index){return null!=index&&index in array?[...array.slice(0,index),item,...array.slice(index)]:[...array,item]}var DropdownDescendantContext=function createDescendantContext(name,initialValue={}){let ctx=react.createContext({descendants:[],registerDescendant:()=>noop,...initialValue});return ctx.displayName=name,ctx}("DropdownDescendantContext"),[DropdownProvider,reach_dropdown_useDropdownContext]=function createContext2(rootComponentName,defaultContext){let Ctx=react.createContext(defaultContext);function Provider(props){let{children,...context}=props,value=react.useMemo((()=>context),Object.values(context));return react.createElement(Ctx.Provider,{value},children)}return Ctx.displayName=`${rootComponentName}Context`,Provider.displayName=`${rootComponentName}Provider`,[Provider,function useContext2(callerComponentName){let context=react.useContext(Ctx);if(context)return context;if(defaultContext)return defaultContext;throw Error(`${callerComponentName} must be rendered inside of a ${rootComponentName} component.`)}]}("Dropdown"),initialState={triggerId:null,isExpanded:!1,typeaheadQuery:"",selectionIndex:-1},DropdownProvider_=({id,children})=>{let triggerRef=react.useRef(null),dropdownRef=react.useRef(null),popoverRef=react.useRef(null),[descendants,setDescendants]=function useDescendantsInit(){return react.useState([])}(),_id=function useId(providedId){if(void 0!==maybeReactUseId){let generatedId=maybeReactUseId();return providedId??generatedId}let initialId=providedId??(serverHandoffComplete?genId():null),[id2,setId]=react.useState(initialId);return useIsomorphicLayoutEffect((()=>{null===id2&&setId(genId())}),[]),react.useEffect((()=>{!1===serverHandoffComplete&&(serverHandoffComplete=!0)}),[]),providedId??id2??void 0}(id),dropdownId=id||makeId("menu",_id),triggerId=makeId("menu-button",dropdownId),[state,dispatch]=react.useReducer(reducer,{...initialState,triggerId}),triggerClickedRef=react.useRef(!1),selectCallbacks=react.useRef([]),readyToSelect=react.useRef(!1),mouseDownStartPosRef=react.useRef({x:0,y:0});return react.useEffect((()=>{state.isExpanded?(window.__REACH_DISABLE_TOOLTIPS=!0,window.requestAnimationFrame((()=>{reach_dropdown_focus(dropdownRef.current)}))):window.__REACH_DISABLE_TOOLTIPS=!1}),[state.isExpanded]),react.createElement(DescendantProvider,{context:DropdownDescendantContext,items:descendants,set:setDescendants},react.createElement(DropdownProvider,{dispatch,dropdownId,dropdownRef,mouseDownStartPosRef,popoverRef,readyToSelect,selectCallbacks,state,triggerClickedRef,triggerRef},isFunction(children)?children({isExpanded:state.isExpanded,isOpen:state.isExpanded}):children))};function useDropdownTrigger({onKeyDown,onMouseDown,id,ref:forwardedRef,...props}){let{dispatch,dropdownId,mouseDownStartPosRef,triggerClickedRef,triggerRef,state:{triggerId,isExpanded}}=reach_dropdown_useDropdownContext("useDropdownTrigger"),ref=useComposedRefs(triggerRef,forwardedRef),items=useDropdownDescendants(),firstNonDisabledIndex=react.useMemo((()=>items.findIndex((item=>!item.disabled))),[items]);return react.useEffect((()=>{null!=id&&id!==triggerId&&dispatch({type:"SET_BUTTON_ID",payload:id})}),[triggerId,dispatch,id]),react.useEffect((()=>{null==id&&dispatch({type:"SET_BUTTON_ID",payload:makeId("menu-button",dropdownId)})}),[dropdownId,dispatch,id]),{data:{isExpanded,controls:dropdownId},props:{...props,ref,id:triggerId||void 0,onKeyDown:composeEventHandlers(onKeyDown,(function handleKeyDown(event){switch(event.key){case"ArrowDown":case"ArrowUp":event.preventDefault(),dispatch({type:"OPEN_MENU_AT_INDEX",payload:{index:firstNonDisabledIndex}});break;case"Enter":case" ":dispatch({type:"OPEN_MENU_AT_INDEX",payload:{index:firstNonDisabledIndex}})}})),onMouseDown:composeEventHandlers(onMouseDown,(function handleMouseDown(event){isRightClick(event.nativeEvent)||(mouseDownStartPosRef.current={x:event.clientX,y:event.clientY},isExpanded||(triggerClickedRef.current=!0),dispatch(isExpanded?{type:"CLOSE_MENU"}:{type:"OPEN_MENU_CLEARED"}))})),type:"button"}}}DropdownProvider_.displayName="DropdownProvider";var DropdownTrigger=react.forwardRef((({as:Comp="button",...rest},forwardedRef)=>{let{props}=useDropdownTrigger({...rest,ref:forwardedRef});return react.createElement(Comp,{"data-reach-dropdown-trigger":"",...props})}));function useDropdownItem({index:indexProp,isLink=!1,onClick,onDragStart,onMouseDown,onMouseEnter,onMouseLeave,onMouseMove,onMouseUp,onSelect,disabled,onFocus,valueText:valueTextProp,ref:forwardedRef,...props}){let{dispatch,dropdownRef,mouseDownStartPosRef,readyToSelect,selectCallbacks,triggerRef,state:{selectionIndex,isExpanded}}=reach_dropdown_useDropdownContext("useDropdownItem"),ownRef=react.useRef(null),[valueText,setValueText]=react.useState(valueTextProp||""),setValueTextFromDOM=react.useCallback((node=>{!valueTextProp&&node?.textContent&&setValueText(node.textContent)}),[valueTextProp]),mouseEventStarted=react.useRef(!1),[element,handleRefSet]=function useStatefulRefValue(ref,initialState){let[state,setState]=(0,react.useState)(initialState);return[state,(0,react.useCallback)((refValue=>{ref.current=refValue,setState(refValue)}),[])]}(ownRef,null),index=function useDescendant(descendant,context,indexProp){let forceUpdate=useForceUpdate(),{registerDescendant,descendants}=react.useContext(context),index=indexProp??descendants.findIndex((item=>item.element===descendant.element));return useIsomorphicLayoutEffect((()=>(descendant.element||forceUpdate(),registerDescendant({...descendant,index}))),[descendant,forceUpdate,index,registerDescendant,...Object.values(descendant)]),index}(react.useMemo((()=>({element,key:valueText,disabled,isLink})),[disabled,element,isLink,valueText]),DropdownDescendantContext,indexProp),isSelected=index===selectionIndex&&!disabled,ref=useComposedRefs(forwardedRef,handleRefSet,setValueTextFromDOM);function select(){reach_dropdown_focus(triggerRef.current),onSelect&&onSelect(),dispatch({type:"CLICK_MENU_ITEM"})}return selectCallbacks.current[index]=onSelect,react.useEffect((()=>{if(isExpanded){let id=window.setTimeout((()=>{readyToSelect.current=!0}),400);return()=>{window.clearTimeout(id)}}readyToSelect.current=!1}),[isExpanded,readyToSelect]),react.useEffect((()=>{let ownerDocument=getOwnerDocument(ownRef.current);return ownerDocument.addEventListener("mouseup",listener),()=>{ownerDocument.removeEventListener("mouseup",listener)};function listener(){mouseEventStarted.current=!1}}),[]),{data:{disabled},props:{id:useItemId(index),tabIndex:-1,...props,ref,"data-disabled":disabled?"":void 0,"data-selected":isSelected?"":void 0,"data-valuetext":valueText,onClick:composeEventHandlers(onClick,(function handleClick(event){isRightClick(event.nativeEvent)||isLink&&(disabled?event.preventDefault():select())})),onDragStart:composeEventHandlers(onDragStart,(function handleDragStart(event){isLink&&event.preventDefault()})),onMouseDown:composeEventHandlers(onMouseDown,(function handleMouseDown(event){isRightClick(event.nativeEvent)||(isLink?mouseEventStarted.current=!0:event.preventDefault())})),onMouseEnter:composeEventHandlers(onMouseEnter,(function handleMouseEnter(event){let doc=getOwnerDocument(dropdownRef.current);isSelected||null==index||disabled||(dropdownRef?.current&&dropdownRef.current!==doc.activeElement&&ownRef.current!==doc.activeElement&&dropdownRef.current.focus(),dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index}}))})),onMouseLeave:composeEventHandlers(onMouseLeave,(function handleMouseLeave(event){dispatch({type:"CLEAR_SELECTION_INDEX"})})),onMouseMove:composeEventHandlers(onMouseMove,(function handleMouseMove(event){if(!readyToSelect.current){let threshold=8,deltaX=Math.abs(event.clientX-mouseDownStartPosRef.current.x),deltaY=Math.abs(event.clientY-mouseDownStartPosRef.current.y);(deltaX>threshold||deltaY>threshold)&&(readyToSelect.current=!0)}isSelected||null==index||disabled||dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index,dropdownRef}})})),onFocus:composeEventHandlers(onFocus,(function handleFocus(){readyToSelect.current=!0,isSelected||null==index||disabled||dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index}})})),onMouseUp:composeEventHandlers(onMouseUp,(function handleMouseUp(event){isRightClick(event.nativeEvent)||(readyToSelect.current?isLink?mouseEventStarted.current?mouseEventStarted.current=!1:ownRef.current&&ownRef.current.click():disabled||select():readyToSelect.current=!0)}))}}}DropdownTrigger.displayName="DropdownTrigger";var DropdownItem=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{props}=useDropdownItem({...rest,ref:forwardedRef});return react.createElement(Comp,{"data-reach-dropdown-item":"",...props})}));function useDropdownItems({id,onKeyDown,ref:forwardedRef,...props}){let{dispatch,triggerRef,dropdownRef,selectCallbacks,dropdownId,state:{isExpanded,triggerId,selectionIndex,typeaheadQuery}}=reach_dropdown_useDropdownContext("useDropdownItems"),items=useDropdownDescendants(),ref=useComposedRefs(dropdownRef,forwardedRef);react.useEffect((()=>{let match=function findItemFromTypeahead(items,string=""){if(!string)return null;let found=items.find((item=>!item.disabled&&item.element?.dataset?.valuetext?.toLowerCase().startsWith(string)));return found?items.indexOf(found):null}(items,typeaheadQuery);typeaheadQuery&&null!=match&&dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index:match,dropdownRef}});let timeout=window.setTimeout((()=>typeaheadQuery&&dispatch({type:"SEARCH_FOR_ITEM",payload:""})),1e3);return()=>window.clearTimeout(timeout)}),[dispatch,items,typeaheadQuery,dropdownRef]);let prevItemsLength=usePrevious(items.length),prevSelected=usePrevious(items[selectionIndex]),prevSelectionIndex=usePrevious(selectionIndex);react.useEffect((()=>{selectionIndex>items.length-1?dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index:items.length-1,dropdownRef}}):prevItemsLength!==items.length&&selectionIndex>-1&&prevSelected&&prevSelectionIndex===selectionIndex&&items[selectionIndex]!==prevSelected&&dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index:items.findIndex((i=>i.key===prevSelected?.key)),dropdownRef}})}),[dropdownRef,dispatch,items,prevItemsLength,prevSelected,prevSelectionIndex,selectionIndex]);let handleKeyDown=composeEventHandlers((function handleKeyDown2(event){let{key}=event;if(isExpanded)switch(key){case"Enter":case" ":let selected=items.find((item=>item.index===selectionIndex));selected&&!selected.disabled&&(event.preventDefault(),selected.isLink&&selected.element?selected.element.click():(reach_dropdown_focus(triggerRef.current),selectCallbacks.current[selected.index]&&selectCallbacks.current[selected.index](),dispatch({type:"CLICK_MENU_ITEM"})));break;case"Escape":reach_dropdown_focus(triggerRef.current),dispatch({type:"CLOSE_MENU"});break;case"Tab":event.preventDefault();break;default:if(function isString(value){return"string"==typeof value}(key)&&1===key.length){let query=typeaheadQuery+key.toLowerCase();dispatch({type:"SEARCH_FOR_ITEM",payload:query})}}}),function useDescendantKeyDown(context,options){let{descendants}=react.useContext(context),{callback,currentIndex,filter,key="index",orientation="vertical",rotate=!0,rtl=!1}=options;return function handleKeyDown(event){if(!["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(event.key))return;let index=currentIndex??-1,selectableDescendants=filter?descendants.filter(filter):descendants;if(!selectableDescendants.length)return;let selectableIndex=selectableDescendants.findIndex((descendant=>descendant.index===currentIndex));function getNextOption(){return index===getLastOption().index?rotate?getFirstOption():selectableDescendants[selectableIndex]:selectableDescendants[(selectableIndex+1)%selectableDescendants.length]}function getPreviousOption(){return index===getFirstOption().index?rotate?getLastOption():selectableDescendants[selectableIndex]:selectableDescendants[(selectableIndex-1+selectableDescendants.length)%selectableDescendants.length]}function getFirstOption(){return selectableDescendants[0]}function getLastOption(){return selectableDescendants[selectableDescendants.length-1]}switch(event.key){case"ArrowDown":if("vertical"===orientation||"both"===orientation){event.preventDefault();let next=getNextOption();callback("option"===key?next:next[key])}break;case"ArrowUp":if("vertical"===orientation||"both"===orientation){event.preventDefault();let prev=getPreviousOption();callback("option"===key?prev:prev[key])}break;case"ArrowLeft":if("horizontal"===orientation||"both"===orientation){event.preventDefault();let nextOrPrev=(rtl?getNextOption:getPreviousOption)();callback("option"===key?nextOrPrev:nextOrPrev[key])}break;case"ArrowRight":if("horizontal"===orientation||"both"===orientation){event.preventDefault();let prevOrNext=(rtl?getPreviousOption:getNextOption)();callback("option"===key?prevOrNext:prevOrNext[key])}break;case"PageUp":event.preventDefault();let prevOrFirst=(event.ctrlKey?getPreviousOption:getFirstOption)();callback("option"===key?prevOrFirst:prevOrFirst[key]);break;case"Home":event.preventDefault();let first=getFirstOption();callback("option"===key?first:first[key]);break;case"PageDown":event.preventDefault();let nextOrLast=(event.ctrlKey?getNextOption:getLastOption)();callback("option"===key?nextOrLast:nextOrLast[key]);break;case"End":event.preventDefault();let last=getLastOption();callback("option"===key?last:last[key])}}}(DropdownDescendantContext,{currentIndex:selectionIndex,orientation:"vertical",rotate:!1,filter:item=>!item.disabled,callback:index=>{dispatch({type:"SELECT_ITEM_AT_INDEX",payload:{index,dropdownRef}})},key:"index"}));return{data:{activeDescendant:useItemId(selectionIndex)||void 0,triggerId},props:{tabIndex:-1,...props,ref,id:dropdownId,onKeyDown:composeEventHandlers(onKeyDown,handleKeyDown)}}}DropdownItem.displayName="DropdownItem";var DropdownItems=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{props}=useDropdownItems({...rest,ref:forwardedRef});return react.createElement(Comp,{"data-reach-dropdown-items":"",...props})}));function useDropdownPopover({onBlur,portal=!0,position,ref:forwardedRef,...props}){let{triggerRef,triggerClickedRef,dispatch,dropdownRef,popoverRef,state:{isExpanded}}=reach_dropdown_useDropdownContext("useDropdownPopover"),ref=useComposedRefs(popoverRef,forwardedRef);return react.useEffect((()=>{if(!isExpanded)return;let ownerDocument=getOwnerDocument(popoverRef.current);function listener(event){triggerClickedRef.current?triggerClickedRef.current=!1:function popoverContainsEventTarget(popover,target){return!(!popover||!popover.contains(target))}(popoverRef.current,event.target)||dispatch({type:"CLOSE_MENU"})}return ownerDocument.addEventListener("mousedown",listener),()=>{ownerDocument.removeEventListener("mousedown",listener)}}),[triggerClickedRef,triggerRef,dispatch,dropdownRef,popoverRef,isExpanded]),{data:{portal,position,targetRef:triggerRef,isExpanded},props:{ref,hidden:!isExpanded,onBlur:composeEventHandlers(onBlur,(event=>{event.currentTarget.contains(event.relatedTarget)||dispatch({type:"CLOSE_MENU"})})),...props}}}DropdownItems.displayName="DropdownItems";var DropdownPopover=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{data:{portal,targetRef,position},props}=useDropdownPopover({...rest,ref:forwardedRef}),sharedProps={"data-reach-dropdown-popover":""};return portal?react.createElement(Popover,{...props,...sharedProps,as:Comp,targetRef,position,unstable_skipInitialPortalRender:!0}):react.createElement(Comp,{...props,...sharedProps})}));function useItemId(index){let{dropdownId}=reach_dropdown_useDropdownContext("useItemId");return null!=index&&index>-1?makeId(`option-${index}`,dropdownId):void 0}function reach_dropdown_focus(element){element&&element.focus()}function reducer(state,action={}){switch(action.type){case"CLICK_MENU_ITEM":case"CLOSE_MENU":return{...state,isExpanded:!1,selectionIndex:-1};case"OPEN_MENU_AT_FIRST_ITEM":return{...state,isExpanded:!0,selectionIndex:0};case"OPEN_MENU_AT_INDEX":return{...state,isExpanded:!0,selectionIndex:action.payload.index};case"OPEN_MENU_CLEARED":return{...state,isExpanded:!0,selectionIndex:-1};case"SELECT_ITEM_AT_INDEX":{let{dropdownRef={current:null}}=action.payload;if(action.payload.index>=0&&action.payload.index!==state.selectionIndex){if(dropdownRef.current){let doc=getOwnerDocument(dropdownRef.current);dropdownRef.current!==doc?.activeElement&&dropdownRef.current.focus()}return{...state,selectionIndex:null!=action.payload.max?Math.min(Math.max(action.payload.index,0),action.payload.max):Math.max(action.payload.index,0)}}return state}case"CLEAR_SELECTION_INDEX":return{...state,selectionIndex:-1};case"SET_BUTTON_ID":return{...state,triggerId:action.payload};case"SEARCH_FOR_ITEM":return void 0!==action.payload?{...state,typeaheadQuery:action.payload}:state;default:return state}}function useDropdownDescendants(){return function useDescendants(ctx){return react.useContext(ctx).descendants}(DropdownDescendantContext)}DropdownPopover.displayName="DropdownPopover";var react_is=__webpack_require__("./node_modules/react-is/index.js"),Menu=react.forwardRef((({as:Comp=react.Fragment,id,children,...rest},forwardedRef)=>{let props=react.useMemo((()=>{try{return(0,react_is.isFragment)(react.createElement(Comp,null))}catch(err){return!1}}),[Comp])?{}:{ref:forwardedRef,id,"data-reach-menu":"",...rest};return react.createElement(Comp,{...props},react.createElement(DropdownProvider_,{id,children}))}));Menu.displayName="Menu";var MenuButton=react.forwardRef((({as:Comp="button",...rest},forwardedRef)=>{let{data:{isExpanded,controls},props}=useDropdownTrigger({...rest,ref:forwardedRef});return react.createElement(Comp,{"aria-expanded":!!isExpanded||void 0,"aria-haspopup":!0,"aria-controls":controls,...props,"data-reach-menu-button":""})}));MenuButton.displayName="MenuButton";var MenuItemImpl=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{data:{disabled},props}=useDropdownItem({...rest,ref:forwardedRef});return react.createElement(Comp,{role:"menuitem",...props,"aria-disabled":disabled||void 0,"data-reach-menu-item":""})}));MenuItemImpl.displayName="MenuItemImpl";var MenuItem=react.forwardRef((({as="div",...props},forwardedRef)=>react.createElement(MenuItemImpl,{...props,ref:forwardedRef,as})));MenuItem.displayName="MenuItem";var MenuItems=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{data:{activeDescendant,triggerId},props}=useDropdownItems({...rest,ref:forwardedRef});return react.createElement(Comp,{"aria-activedescendant":activeDescendant,"aria-labelledby":triggerId||void 0,role:"menu",...props,"data-reach-menu-items":""})}));MenuItems.displayName="MenuItems";var MenuLink=react.forwardRef((({as="a",component,onSelect,...props},forwardedRef)=>(react.useEffect((()=>{component&&console.warn("[@reach/menu-button]: Please use the `as` prop instead of `component`")}),[component]),react.createElement(MenuItemImpl,{...props,ref:forwardedRef,"data-reach-menu-link":"",as,isLink:!0,onSelect:onSelect||noop}))));MenuLink.displayName="MenuLink";var MenuList=react.forwardRef((({portal=!0,...props},forwardedRef)=>react.createElement(MenuPopover,{portal},react.createElement(MenuItems,{...props,ref:forwardedRef,"data-reach-menu-list":""}))));MenuList.displayName="MenuList";var MenuPopover=react.forwardRef((({as:Comp="div",...rest},forwardedRef)=>{let{data:{portal,targetRef,position},props}=useDropdownPopover({...rest,ref:forwardedRef}),sharedProps={"data-reach-menu-popover":""};return portal?react.createElement(Popover,{...props,...sharedProps,as:Comp,targetRef,position,unstable_skipInitialPortalRender:!0}):react.createElement(Comp,{...props,...sharedProps})}));MenuPopover.displayName="MenuPopover"}}]);