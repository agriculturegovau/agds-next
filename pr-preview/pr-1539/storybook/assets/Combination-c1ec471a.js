import{r as l,R as Ke}from"./index-42611d8b.js";function P(){return P=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},P.apply(this,arguments)}function Qe(e,n){if(e==null)return{};var r={},t=Object.keys(e),u,a;for(a=0;a<t.length;a++)u=t[a],!(n.indexOf(u)>=0)&&(r[u]=e[u]);return r}var U="data-focus-lock",fe="data-focus-lock-disabled",Ye="data-no-focus-lock",ze="data-autofocus-inside";function Je(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function Xe(e,n){var r=l.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(t){var u=r.value;u!==t&&(r.value=t,r.callback(t,u))}}}})[0];return r.callback=n,r.facade}function Ze(e,n){return Xe(n,function(r){return e.forEach(function(t){return Je(t,r)})})}var M={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var R=function(){return R=Object.assign||function(n){for(var r,t=1,u=arguments.length;t<u;t++){r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n},R.apply(this,arguments)};function se(e){return e}function de(e,n){n===void 0&&(n=se);var r=[],t=!1,u={read:function(){if(t)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=n(a,t);return r.push(o),function(){r=r.filter(function(i){return i!==o})}},assignSyncMedium:function(a){for(t=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(i){return a(i)},filter:function(){return r}}},assignMedium:function(a){t=!0;var o=[];if(r.length){var i=r;r=[],i.forEach(a),o=r}var d=function(){var c=o;o=[],c.forEach(a)},s=function(){return Promise.resolve().then(d)};s(),r={push:function(c){o.push(c),s()},filter:function(c){return o=o.filter(c),r}}}};return u}function $(e,n){return n===void 0&&(n=se),de(e,n)}function en(e){e===void 0&&(e={});var n=de(null);return n.options=R({async:!0,ssr:!1},e),n}var le=$({},function(e){var n=e.target,r=e.currentTarget;return{target:n,currentTarget:r}}),ve=$(),nn=$(),rn=en({async:!0}),tn=[],V=l.forwardRef(function(n,r){var t,u=l.useState(),a=u[0],o=u[1],i=l.useRef(),d=l.useRef(!1),s=l.useRef(null),c=n.children,f=n.disabled,m=n.noFocusGuards,v=n.persistentFocus,h=n.crossFrame,p=n.autoFocus;n.allowTextSelection;var b=n.group,O=n.className,T=n.whiteList,Ae=n.hasPositiveIndices,ee=n.shards,Ce=ee===void 0?tn:ee,ne=n.as,_e=ne===void 0?"div":ne,re=n.lockProps,De=re===void 0?{}:re,Me=n.sideCar,N=n.returnFocus,ke=n.focusOptions,C=n.onActivation,_=n.onDeactivation,Le=l.useState({}),Be=Le[0],Ue=l.useCallback(function(){s.current=s.current||document&&document.activeElement,i.current&&C&&C(i.current),d.current=!0},[C]),Re=l.useCallback(function(){d.current=!1,_&&_(i.current)},[_]);l.useEffect(function(){f||(s.current=null)},[]);var We=l.useCallback(function(y){var I=s.current;if(I&&I.focus){var D=typeof N=="function"?N(I):N;if(D){var ue=typeof D=="object"?D:void 0;s.current=null,y?Promise.resolve().then(function(){return I.focus(ue)}):I.focus(ue)}}},[N]),Ge=l.useCallback(function(y){d.current&&le.useMedium(y)},[]),He=ve.useMedium,qe=l.useCallback(function(y){i.current!==y&&(i.current=y,o(y))},[]),je=P((t={},t[fe]=f&&"disabled",t[U]=b,t),De),te=m!==!0,$e=te&&m!=="tail",Ve=Ze([r,qe]);return l.createElement(l.Fragment,null,te&&[l.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:M}),Ae?l.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:M}):null],!f&&l.createElement(Me,{id:Be,sideCar:rn,observed:a,disabled:f,persistentFocus:v,crossFrame:h,autoFocus:p,whiteList:T,shards:Ce,onActivation:Ue,onDeactivation:Re,returnFocus:We,focusOptions:ke}),l.createElement(_e,P({ref:Ve},je,{className:O,onBlur:He,onFocus:Ge}),c),$e&&l.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:M}))});V.propTypes={};V.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const me=V;function W(e,n){return W=Object.setPrototypeOf||function(t,u){return t.__proto__=u,t},W(e,n)}function un(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,W(e,n)}function an(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function on(e,n){function r(t){return t.displayName||t.name||"Component"}return function(u){var a=[],o;function i(){o=e(a.map(function(s){return s.props})),n(o)}var d=function(s){un(c,s);function c(){return s.apply(this,arguments)||this}c.peek=function(){return o};var f=c.prototype;return f.componentDidMount=function(){a.push(this),i()},f.componentDidUpdate=function(){i()},f.componentWillUnmount=function(){var v=a.indexOf(this);a.splice(v,1),i()},f.render=function(){return Ke.createElement(u,this.props)},c}(l.PureComponent);return an(d,"displayName","SideEffect("+r(u)+")"),d}}var g=function(e){for(var n=Array(e.length),r=0;r<e.length;++r)n[r]=e[r];return n},G=function(e){return Array.isArray(e)?e:[e]},cn=function(e){for(var n=new Set,r=e.length,t=0;t<r;t+=1)for(var u=t+1;u<r;u+=1){var a=e[t].compareDocumentPosition(e[u]);(a&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&n.add(u),(a&Node.DOCUMENT_POSITION_CONTAINS)>0&&n.add(t)}return e.filter(function(o,i){return!n.has(i)})},he=function(e){return e.parentNode?he(e.parentNode):e},K=function(e){var n=G(e);return n.filter(Boolean).reduce(function(r,t){var u=t.getAttribute(U);return r.push.apply(r,u?cn(g(he(t).querySelectorAll("[".concat(U,'="').concat(u,'"]:not([').concat(fe,'="disabled"])')))):[t]),r},[])},Q=function(){return document.activeElement?document.activeElement.shadowRoot?document.activeElement.shadowRoot.activeElement:document.activeElement:void 0},fn=function(e){return e===document.activeElement},sn=function(e){return!!g(e.querySelectorAll("iframe")).some(function(n){return fn(n)})},pe=function(e){var n=document&&Q();return!n||n.dataset&&n.dataset.focusGuard?!1:K(e).reduce(function(r,t){return r||t.contains(n)||sn(t)},!1)},dn=function(){var e=document&&Q();return e?g(document.querySelectorAll("[".concat(Ye,"]"))).some(function(n){return n.contains(e)}):!1},ln=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(e,null);return!n||!n.getPropertyValue?!1:n.getPropertyValue("display")==="none"||n.getPropertyValue("visibility")==="hidden"},vn=function(e,n){return!e||e===document||e&&e.nodeType===Node.DOCUMENT_NODE||!ln(e)&&n(e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode)},be=function(e,n){var r=e.get(n);if(r!==void 0)return r;var t=vn(n,be.bind(void 0,e));return e.set(n,t),t},ge=function(e){return e.dataset},mn=function(e){return e.tagName==="BUTTON"},ye=function(e){return e.tagName==="INPUT"},Oe=function(e){return ye(e)&&e.type==="radio"},hn=function(e){return!((ye(e)||mn(e))&&(e.type==="hidden"||e.disabled))&&!e.ariaDisabled},Y=function(e){var n;return!!(e&&(!((n=ge(e))===null||n===void 0)&&n.focusGuard))},w=function(e){return!Y(e)},pn=function(e){return!!e},bn=function(e,n){return n.filter(Oe).filter(function(r){return r.name===e.name}).filter(function(r){return r.checked})[0]||e},z=function(e,n){return Oe(e)&&e.name?bn(e,n):e},gn=function(e){var n=new Set;return e.forEach(function(r){return n.add(z(r,e))}),e.filter(function(r){return n.has(r)})},ae=function(e){return e[0]&&e.length>1?z(e[0],e):e[0]},oe=function(e,n){return e.length>1?e.indexOf(z(e[n],e)):n},Fe="NEW_FOCUS",yn=function(e,n,r,t){var u=e.length,a=e[0],o=e[u-1],i=Y(r);if(!(r&&e.indexOf(r)>=0)){var d=r!==void 0?n.indexOf(r):-1,s=t?n.indexOf(t):d,c=t?e.indexOf(t):-1,f=d-s,m=n.indexOf(a),v=n.indexOf(o),h=gn(n),p=r!==void 0?h.indexOf(r):-1,b=p-(t?h.indexOf(t):d),O=oe(e,0),T=oe(e,u-1);if(d===-1||c===-1)return Fe;if(!f&&c>=0)return c;if(d<=m&&i&&Math.abs(f)>1)return T;if(d>=v&&i&&Math.abs(f)>1)return O;if(f&&Math.abs(b)>1)return c;if(d<=m)return T;if(d>v)return O;if(f)return Math.abs(f)>1?c:(u+c+f)%u}},On=function(e,n){var r=e.tabIndex-n.tabIndex,t=e.index-n.index;if(r){if(!e.tabIndex)return 1;if(!n.tabIndex)return-1}return r||t},Ee=function(e,n,r){return g(e).map(function(t,u){return{node:t,index:u,tabIndex:r&&t.tabIndex===-1?(t.dataset||{}).focusGuard?0:-1:t.tabIndex}}).filter(function(t){return!n||t.tabIndex>=0}).sort(On)},Fn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],H=Fn.join(","),En="".concat(H,", [data-focus-guard]"),J=function(e,n){return e.reduce(function(r,t){return r.concat(g(t.querySelectorAll(n?En:H)),t.parentNode?g(t.parentNode.querySelectorAll(H)).filter(function(u){return u===t}):[])},[])},xn=function(e){var n=e.querySelectorAll("[".concat(ze,"]"));return g(n).map(function(r){return J([r])}).reduce(function(r,t){return r.concat(t)},[])},X=function(e,n){return g(e).filter(function(r){return be(n,r)}).filter(function(r){return hn(r)})},q=function(e,n,r){return Ee(X(J(e,r),n),!0,r)},ie=function(e,n){return Ee(X(J(e),n),!1)},In=function(e,n){return X(xn(e),n)},j=function(e,n){return n===void 0&&(n=[]),n.push(e),e.parentNode&&j(e.parentNode,n),n},k=function(e,n){for(var r=j(e),t=j(n),u=0;u<r.length;u+=1){var a=r[u];if(t.indexOf(a)>=0)return a}return!1},xe=function(e,n,r){var t=G(e),u=G(n),a=t[0],o=!1;return u.filter(Boolean).forEach(function(i){o=k(o||i,i)||o,r.filter(Boolean).forEach(function(d){var s=k(a,d);s&&(!o||s.contains(o)?o=s:o=k(s,o))})}),o},Pn=function(e,n){return e.reduce(function(r,t){return r.concat(In(t,n))},[])},Sn=function(e){return function(n){var r;return n.autofocus||!!(!((r=ge(n))===null||r===void 0)&&r.autofocus)||e.indexOf(n)>=0}},Tn=function(e,n){var r=new Map;return n.forEach(function(t){return r.set(t.node,t)}),e.map(function(t){return r.get(t)}).filter(pn)},Nn=function(e,n){var r=document&&Q(),t=K(e).filter(w),u=xe(r||e,e,t),a=new Map,o=ie(t,a),i=q(t,a).filter(function(v){var h=v.node;return w(h)});if(!(!i[0]&&(i=o,!i[0]))){var d=ie([u],a).map(function(v){var h=v.node;return h}),s=Tn(d,i),c=s.map(function(v){var h=v.node;return h}),f=yn(c,d,r,n);if(f===Fe){var m=o.map(function(v){var h=v.node;return h}).filter(Sn(Pn(t,a)));return{node:m&&m.length?ae(m):ae(c)}}return f===void 0?f:s[f]}},wn=function(e){var n=K(e).filter(w),r=xe(e,e,n),t=new Map,u=q([r],t,!0),a=q(n,t).filter(function(o){var i=o.node;return w(i)}).map(function(o){var i=o.node;return i});return u.map(function(o){var i=o.node,d=o.index;return{node:i,index:d,lockItem:a.indexOf(i)>=0,guard:Y(i)}})},An=function(e,n){"focus"in e&&e.focus(n),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},L=0,B=!1,Ie=function(e,n,r){r===void 0&&(r={});var t=Nn(e,n);if(!B&&t){if(L>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),B=!0,setTimeout(function(){B=!1},1);return}L++,An(t.node,r.focusOptions),L--}};function Pe(e){var n=window,r=n.setImmediate;typeof r<"u"?r(e):setTimeout(e,1)}var Cn=function(){return document&&document.activeElement===document.body},_n=function(){return Cn()||dn()},E=null,F=null,x=null,S=!1,Dn=function(){return!0},Mn=function(n){return(E.whiteList||Dn)(n)},kn=function(n,r){x={observerNode:n,portaledElement:r}},Ln=function(n){return x&&x.portaledElement===n};function ce(e,n,r,t){var u=null,a=e;do{var o=t[a];if(o.guard)o.node.dataset.focusAutoGuard&&(u=o);else if(o.lockItem){if(a!==e)return;u=null}else break}while((a+=r)!==n);u&&(u.node.tabIndex=0)}var Bn=function(n){return n&&"current"in n?n.current:n},Un=function(n){return n?!!S:S==="meanwhile"},Rn=function e(n,r,t){return r&&(r.host===n&&(!r.activeElement||t.contains(r.activeElement))||r.parentNode&&e(n,r.parentNode,t))},Wn=function(n,r){return r.some(function(t){return Rn(n,t,t)})},A=function(){var n=!1;if(E){var r=E,t=r.observed,u=r.persistentFocus,a=r.autoFocus,o=r.shards,i=r.crossFrame,d=r.focusOptions,s=t||x&&x.portaledElement,c=document&&document.activeElement;if(s){var f=[s].concat(o.map(Bn).filter(Boolean));if((!c||Mn(c))&&(u||Un(i)||!_n()||!F&&a)&&(s&&!(pe(f)||c&&Wn(c,f)||Ln(c))&&(document&&!F&&c&&!a?(c.blur&&c.blur(),document.body.focus()):(n=Ie(f,F,{focusOptions:d}),x={})),S=!1,F=document&&document.activeElement),document){var m=document&&document.activeElement,v=wn(f),h=v.map(function(p){var b=p.node;return b}).indexOf(m);h>-1&&(v.filter(function(p){var b=p.guard,O=p.node;return b&&O.dataset.focusAutoGuard}).forEach(function(p){var b=p.node;return b.removeAttribute("tabIndex")}),ce(h,v.length,1,v),ce(h,-1,-1,v))}}}return n},Se=function(n){A()&&n&&(n.stopPropagation(),n.preventDefault())},Z=function(){return Pe(A)},Gn=function(n){var r=n.target,t=n.currentTarget;t.contains(r)||kn(t,r)},Hn=function(){return null},Te=function(){S="just",setTimeout(function(){S="meanwhile"},0)},qn=function(){document.addEventListener("focusin",Se),document.addEventListener("focusout",Z),window.addEventListener("blur",Te)},jn=function(){document.removeEventListener("focusin",Se),document.removeEventListener("focusout",Z),window.removeEventListener("blur",Te)};function $n(e){return e.filter(function(n){var r=n.disabled;return!r})}function Vn(e){var n=e.slice(-1)[0];n&&!E&&qn();var r=E,t=r&&n&&n.id===r.id;E=n,r&&!t&&(r.onDeactivation(),e.filter(function(u){var a=u.id;return a===r.id}).length||r.returnFocus(!n)),n?(F=null,(!t||r.observed!==n.observed)&&n.onActivation(),A(),Pe(A)):(jn(),F=null)}le.assignSyncMedium(Gn);ve.assignMedium(Z);nn.assignMedium(function(e){return e({moveFocusInside:Ie,focusInside:pe})});const Kn=on($n,Vn)(Hn);var Ne=l.forwardRef(function(n,r){return l.createElement(me,P({sideCar:Kn,ref:r},n))}),we=me.propTypes||{};we.sideCar;Qe(we,["sideCar"]);Ne.propTypes={};const Yn=Ne;export{Yn as F};
