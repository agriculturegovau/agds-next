"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[681],{"./packages/react/src/modal/Modal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{u:()=>Modal});var react=__webpack_require__("./node_modules/react/index.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react_dom=__webpack_require__("./node_modules/react-dom/index.js"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js"),ModalCover=(0,react.forwardRef)((function ModalCover(_ref,ref){var children=_ref.children;return(0,emotion_react_jsx_runtime_browser_esm.tZ)("div",{ref,css:(0,emotion_react_browser_esm.iv)({position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:100,overflowY:"auto"},"",""),children})}));try{ModalCover.displayName="ModalCover",ModalCover.__docgenInfo={description:"",displayName:"ModalCover",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react/src/modal/ModalCover.tsx#ModalCover"]={docgenInfo:ModalCover.__docgenInfo,name:"ModalCover",path:"packages/react/src/modal/ModalCover.tsx#ModalCover"})}catch(__react_docgen_typescript_loader_error){}var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),es2015=__webpack_require__("./node_modules/react-focus-lock/dist/es2015/index.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),box=__webpack_require__("./packages/react/src/box/index.ts"),core=__webpack_require__("./packages/react/src/core/index.ts"),icon=__webpack_require__("./packages/react/src/icon/index.ts"),src_button=__webpack_require__("./packages/react/src/button/index.ts"),src_text=__webpack_require__("./packages/react/src/text/index.ts"),ModalTitle=function ModalTitle(_ref){var children=_ref.children,id=_ref.id;return(0,emotion_react_jsx_runtime_browser_esm.tZ)(src_text.Text,{as:"h2",fontSize:"lg",fontWeight:"bold",lineHeight:"heading",id,"data-autofocus":!0,focus:!0,tabIndex:-1,children})};try{ModalTitle.displayName="ModalTitle",ModalTitle.__docgenInfo={description:"",displayName:"ModalTitle",props:{id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react/src/modal/ModalTitle.tsx#ModalTitle"]={docgenInfo:ModalTitle.__docgenInfo,name:"ModalTitle",path:"packages/react/src/modal/ModalTitle.tsx#ModalTitle"})}catch(__react_docgen_typescript_loader_error){}var AnimatedStack=(0,react_spring_web_esm.animated)(box.Stack),_ref2={name:"xdvdnl",styles:"margin-top:auto"},ModalDialog=function ModalDialog(_ref){var actions=_ref.actions,children=_ref.children,title=_ref.title,onDismiss=_ref.onDismiss,titleId=function useModalId(){var id=(0,core.Me)();return{titleId:"modal-".concat(id,"-title")}}().titleId,prefersReducedMotion=(0,core.Tb)(),animationStyles=(0,react_spring_web_esm.useSpring)({from:{y:20,opacity:0},to:{y:0,opacity:1},immediate:prefersReducedMotion});return(0,emotion_react_jsx_runtime_browser_esm.tZ)(es2015.ZP,{returnFocus:!0,children:(0,emotion_react_jsx_runtime_browser_esm.BX)(AnimatedStack,{role:"dialog","aria-modal":"true",background:"body","aria-labelledby":titleId,rounded:!0,focus:!0,padding:1.5,paddingTop:4,gap:1,maxWidth:core.tokens.maxWidth.modalDialog,css:(0,emotion_react_browser_esm.iv)((0,defineProperty.Z)({position:"relative",margin:"0 auto",minHeight:"100vh"},core.tokens.mediaQuery.min.sm,{margin:"".concat((0,core.mapSpacing)(6)," auto ").concat((0,core.mapSpacing)(1)),minHeight:"auto"}),"",""),style:animationStyles,children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(ModalTitle,{id:titleId,children:title}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(box.Box,{children}),actions?(0,emotion_react_jsx_runtime_browser_esm.tZ)(box.Box,{paddingTop:1,css:_ref2,children:actions}):null,(0,emotion_react_jsx_runtime_browser_esm.tZ)(src_button.Button,{variant:"tertiary","aria-label":"Close modal",onClick:onDismiss,iconAfter:icon.Tw,css:(0,emotion_react_browser_esm.iv)({position:"absolute",top:(0,core.mapSpacing)(.5),right:(0,core.mapSpacing)(.5)},"",""),children:"Close"})]})})};try{ModalDialog.displayName="ModalDialog",ModalDialog.__docgenInfo={description:"",displayName:"ModalDialog",props:{actions:{defaultValue:null,description:"The actions to display at the bottom of the modal panel. Typically a `ButtonGroup`.",name:"actions",required:!1,type:{name:"ReactNode"}},onDismiss:{defaultValue:null,description:"Function to be called when the modal is closed.",name:"onDismiss",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"The title of the modal dialog. It can span lines but should not be too long.",name:"title",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react/src/modal/ModalDialog.tsx#ModalDialog"]={docgenInfo:ModalDialog.__docgenInfo,name:"ModalDialog",path:"packages/react/src/modal/ModalDialog.tsx#ModalDialog"})}catch(__react_docgen_typescript_loader_error){}var Modal=function Modal(_ref2){var actions=_ref2.actions,children=_ref2.children,_ref2$isOpen=_ref2.isOpen,isOpen=void 0!==_ref2$isOpen&&_ref2$isOpen,onDismiss=_ref2.onDismiss,title=_ref2.title,coverRef=(0,react.useRef)(null);return(0,react.useEffect)((function(){var handleKeyDown=function handleKeyDown(e){isOpen&&"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),onDismiss())};return window.addEventListener("keydown",handleKeyDown),function(){return window.removeEventListener("keydown",handleKeyDown)}}),[isOpen,onDismiss]),(0,react.useEffect)((function(){if(isOpen&&coverRef.current){var rootNodes=[],originalAttrs=[];return document.querySelectorAll("body > *").forEach((function(node){if(node!==coverRef.current){var attr=node.getAttribute("aria-hidden");null!==attr&&"false"!==attr||(rootNodes.push(node),originalAttrs.push(attr),node.setAttribute("aria-hidden","true"))}})),function(){rootNodes.forEach((function(node,index){var originalValue=originalAttrs[index];null===originalValue?node.removeAttribute("aria-hidden"):node.setAttribute("aria-hidden",originalValue)}))}}}),[isOpen]),isOpen?(0,react_dom.createPortal)((0,emotion_react_jsx_runtime_browser_esm.BX)(react.Fragment,{children:[(0,emotion_react_jsx_runtime_browser_esm.tZ)(LockScroll,{}),(0,emotion_react_jsx_runtime_browser_esm.tZ)(ModalCover,{ref:coverRef,children:(0,emotion_react_jsx_runtime_browser_esm.tZ)(ModalDialog,{onDismiss,title,actions,children})})]}),document.body):null},_ref={name:"1sy9iaq",styles:"body{overflow:hidden;}"},LockScroll=function LockScroll(){return(0,emotion_react_jsx_runtime_browser_esm.tZ)(emotion_react_browser_esm.xB,{styles:_ref})};try{Modal.displayName="Modal",Modal.__docgenInfo={description:"",displayName:"Modal",props:{actions:{defaultValue:null,description:"The actions to display at the bottom of the modal panel. Typically a `ButtonGroup`.",name:"actions",required:!1,type:{name:"ReactNode"}},onDismiss:{defaultValue:null,description:"Function to be called when the modal is closed.",name:"onDismiss",required:!0,type:{name:"() => void"}},title:{defaultValue:null,description:"The title of the modal dialog. It can span lines but should not be too long.",name:"title",required:!0,type:{name:"string"}},isOpen:{defaultValue:{value:"false"},description:"If true, the modal will be rendered.",name:"isOpen",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/react/src/modal/Modal.tsx#Modal"]={docgenInfo:Modal.__docgenInfo,name:"Modal",path:"packages/react/src/modal/Modal.tsx#Modal"})}catch(__react_docgen_typescript_loader_error){}}}]);