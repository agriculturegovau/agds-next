"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[7072],{"./packages/react/src/app-layout/AppLayoutContext.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{c:()=>useAppLayoutContext,p:()=>AppLayoutContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const AppLayoutContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);function useAppLayoutContext(){const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(AppLayoutContext);if(void 0===context)throw new Error("`AppLayoutContext` not found.");return context}},"./packages/react/src/app-layout/AppLayoutSidebar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{y:()=>AppLayoutSidebar});var defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),core=__webpack_require__("./packages/react/src/core/index.ts"),stack=__webpack_require__("./packages/react/src/stack/index.ts"),objectWithoutProperties=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/objectWithoutProperties.js"),box=__webpack_require__("./packages/react/src/box/index.ts"),src_button=__webpack_require__("./packages/react/src/button/index.ts"),icon=__webpack_require__("./packages/react/src/icon/index.ts"),AppLayoutContext=__webpack_require__("./packages/react/src/app-layout/AppLayoutContext.tsx"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _excluded=["endElement","icon","isActive","items","label","level"];function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const addIsActive=(activePath,level=0)=>item=>{const isActive="href"in item&&item.href===activePath||hasSubLevelActiveItem(item.items,activePath);return _objectSpread(_objectSpread({},item),{},{isActive,items:isActive||item.items?.length?item?.items?.map(addIsActive(activePath,level+1)):void 0,level:level+1})},AppLayoutSidebarNav=({activePath,background,items,subLevelVisible})=>(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.B,{"aria-label":"main",as:"nav",paddingBottom:1.5,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.B,{as:"ul",children:items.map(((group,index)=>{const isFirstItem=0===index,groupItems=(Array.isArray(group)?group:group.items).map(addIsActive(activePath)),disableGroupPadding=!Array.isArray(group)&&Boolean(group.options?.disableGroupPadding),prevGroup=items[index-1],prevGroupDisableGroupPadding=!!prevGroup&&(!Array.isArray(prevGroup)&&Boolean(prevGroup.options?.disableGroupPadding));return(0,emotion_react_jsx_runtime_browser_esm.FD)(react.Fragment,{children:[isFirstItem?null:(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNavDivider,{disablePaddingBottom:disableGroupPadding,disablePaddingTop:prevGroupDisableGroupPadding}),groupItems.map(((item,index)=>{const isActiveGroup=hasSubLevelActiveItem(item.items,activePath),isOpen="always"===subLevelVisible||isActiveGroup;return(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNavListItem,{activePath,background,isActiveGroup,isOpen,item,subLevelVisible},index)}))]},index)}))})});var _ref={name:"1ff36h2",styles:"flex-grow:1"};function AppLayoutSidebarNavListItem({activePath,background,isActiveGroup,isOpen,item,subLevelVisible}){const Link=(0,core.d5)(),{endElement,icon:Icon,isActive,items,label,level}=item,restItemProps=(0,objectWithoutProperties.A)(item,_excluded),{closeMobileMenu}=(0,AppLayoutContext.c)(),numberOfItems=items?.length||0,hasSubLevelItemsIndicator=numberOfItems>0&&"always"!==subLevelVisible;if("href"in item){const isCurrentPage=item.href===activePath;return(0,emotion_react_jsx_runtime_browser_esm.FD)(AppLayoutSidebarNavItemInner,{background,hasEndElement:Boolean(endElement),isActive:isActiveGroup,isCurrentPage,isOpen,level:item.level,onClick:closeMobileMenu,children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(Link,_objectSpread(_objectSpread({"aria-current":isCurrentPage?"page":void 0},restItemProps),{},{children:[Icon&&1===level&&(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,{color:"inherit"}),2===level&&(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{"aria-hidden":!0,children:"â€“"}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{css:_ref,children:label}),endElement,hasSubLevelItemsIndicator&&(isActive?(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.D3,{"aria-hidden":!1,"aria-label":`. Sub-level ${1===numberOfItems?"link":"links"} below.`,size:"md"}):(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.vK,{"aria-hidden":!1,"aria-label":`. Has ${numberOfItems} sub-level ${1===numberOfItems?"link":"links"}.`,size:"md"}))]})),Boolean(item.items?.length)&&(isOpen||isCurrentPage)&&(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.B,{as:"ul",children:item.items?.map?.((item=>(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNavListItem,{activePath,background,isActiveGroup:Boolean(isActive),isOpen,item,subLevelVisible},item.label?.toString())))})]})}return"onClick"in item?(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNavItemInner,{background,hasEndElement:Boolean(endElement),isActive:!1,isCurrentPage:!1,isOpen:!1,onClick:closeMobileMenu,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(src_button.SC,_objectSpread(_objectSpread({},restItemProps),{},{children:[Icon?(0,emotion_react_jsx_runtime_browser_esm.Y)(Icon,{color:"inherit"}):null,(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{children:label}),endElement]}))}):(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNavItemInner,{background,hasEndElement:!1,isActive:!1,isCurrentPage:!1,isOpen:!1,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.B,{as:"span",gap:.25,children:label})})}function AppLayoutSidebarNavItemInner({background,children,hasEndElement,isCurrentPage,isActive,isOpen,level,onClick}){return(0,emotion_react_jsx_runtime_browser_esm.Y)("li",{css:(0,emotion_react_browser_esm.AH)({"> a, > button, > span":{width:"100%",boxSizing:"border-box",wordBreak:"break-word",paddingTop:(0,core.QY)(1),paddingBottom:(0,core.QY)(1),paddingLeft:(0,core.QY)(2===level?3:1.5),paddingRight:(0,core.QY)(1),"& > svg":{flexShrink:0}},"> a, > button":_objectSpread(_objectSpread(_objectSpread(_objectSpread({position:"relative",display:"flex",alignItems:"center",gap:(0,core.QY)(.75),color:isActive&&2!==level||isCurrentPage?core.r5.foregroundText:core.r5.foregroundAction},(isActive||isCurrentPage||isOpen)&&{fontWeight:isCurrentPage?core.LU.fontWeight.bold:core.LU.fontWeight.normal,background:isCurrentPage?core.r5.selectedMuted:void 0,"&::before":_objectSpread(_objectSpread(_objectSpread({content:"''",position:"absolute",top:0,left:0,bottom:0,borderLeftStyle:"solid",borderLeftWidth:core.LU.borderWidth.xl},isCurrentPage&&{borderLeftColor:core.r5.selected}),!isCurrentPage&&isActive&&{borderLeftColor:core.r5.borderMuted}),!isCurrentPage&&!isActive&&isOpen&&{borderLeft:"none"})}),hasEndElement&&{"& > :last-child":{marginLeft:"auto"}}),{},{"&:hover":{background:core.r5["body"===background?"backgroundShade":"backgroundShadeAlt"],color:core.r5.foregroundText,[`& > span:nth-of-type(${level})`]:core.tm.underline}},box.T7),{},{":focus-visible":{zIndex:core.LU.zIndex.elevated,outlineOffset:`-${core.tm.outline.outlineWidth}`,"&::before":{zIndex:-1}}}),"> span":{color:core.r5.foregroundText},"> a":{textDecoration:"none"}},"",""),onClick,children})}function AppLayoutSidebarNavDivider({disablePaddingTop,disablePaddingBottom}){return(0,emotion_react_jsx_runtime_browser_esm.Y)(box.az,{"aria-hidden":!0,as:"li",paddingBottom:disablePaddingBottom?0:1,paddingTop:disablePaddingTop?0:1,children:(0,emotion_react_jsx_runtime_browser_esm.Y)("hr",{css:(0,emotion_react_browser_esm.AH)({boxSizing:"content-box",height:0,margin:0,overflow:"visible",border:"none",borderTopWidth:core.LU.borderWidth.sm,borderTopStyle:"solid",borderColor:core.r5.borderMuted,width:"100%"},"","")})})}function hasSubLevelActiveItem(items,bestMatch){return!(!items?.length||!bestMatch)&&items.some((item=>"href"in item&&item.href===bestMatch||"items"in item&&hasSubLevelActiveItem(item.items,bestMatch)))}var react_dom=__webpack_require__("./node_modules/next/dist/compiled/react-dom/index.js"),es2015=__webpack_require__("./node_modules/react-focus-lock/dist/es2015/index.js"),a11y=__webpack_require__("./packages/react/src/a11y/index.ts"),useIsMounted=__webpack_require__("./packages/react/src/core/utils/useIsMounted.ts"),flex=__webpack_require__("./packages/react/src/flex/index.ts"),Icon=__webpack_require__("./packages/react/src/icon/Icon.tsx"),utils=__webpack_require__("./packages/react/src/app-layout/utils.ts");var AppLayoutSidebarDialog_ref={name:"qvn77x",styles:"inset:0;overflow-y:auto;position:fixed"};function AppLayoutSidebarDialog({children,palette}){const{isMobileMenuOpen,closeMobileMenu}=(0,AppLayoutContext.c)(),prefersReducedMotion=(0,core.jt)(),{0:closeTransitionEnded,1:setCloseTransitionEnded}=(0,react.useState)(!0),isMounted=(0,useIsMounted.a)();(0,react.useEffect)((()=>{isMobileMenuOpen&&setCloseTransitionEnded(!1)}),[isMobileMenuOpen]),(0,react.useEffect)((()=>{const handleKeyDown=e=>{"Escape"===e.code&&(e.preventDefault(),e.stopPropagation(),closeMobileMenu())};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[closeMobileMenu]);const{modalContainerRef}=(0,core.X5)(!!isMounted&&isMobileMenuOpen);if(!isMounted||!(0,core.Sw)())return null;const showDrawer=!!isMobileMenuOpen||!closeTransitionEnded;return(0,react_dom.createPortal)((0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[isMobileMenuOpen&&(0,emotion_react_jsx_runtime_browser_esm.Y)(LockScroll,{}),(0,emotion_react_jsx_runtime_browser_esm.FD)("div",{ref:modalContainerRef,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:(0,emotion_react_browser_esm.AH)({pointerEvents:"none",position:"absolute",opacity:isMobileMenuOpen?1:0,transition:isMobileMenuOpen?"none":"opacity "+(prefersReducedMotion?"1ms":"150ms")},"",""),"data-app-layout-sidebar":"transitioner",onTransitionEnd:()=>{setCloseTransitionEnded(!0)}}),(0,emotion_react_jsx_runtime_browser_esm.Y)(Overlay,{isOpen:isMobileMenuOpen,onClick:closeMobileMenu,prefersReducedMotion}),(0,emotion_react_jsx_runtime_browser_esm.Y)(box.az,{css:(0,emotion_react_browser_esm.AH)({bottom:0,left:0,position:"fixed",top:0,transform:`translateX(${isMobileMenuOpen?"0":"-100%"})`,transition:`transform ${prefersReducedMotion?"1ms":"150ms"} ease`,zIndex:core.LU.zIndex.dialog},"",""),display:{[utils.g8]:"none"},width:utils.Jl,children:showDrawer&&(0,emotion_react_jsx_runtime_browser_esm.Y)(es2015.Ay,{returnFocus:!0,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(box.az,{"aria-label":"Menu","aria-modal":!0,background:"shade",css:AppLayoutSidebarDialog_ref,display:{[utils.g8]:"none"},palette,role:"dialog",children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(CloseMenuButton,{onClick:closeMobileMenu}),children]})})})]})]}),document.body)}function LockScroll(){return(0,emotion_react_jsx_runtime_browser_esm.Y)(emotion_react_browser_esm.mL,{styles:(0,emotion_react_browser_esm.AH)({body:{overflow:"hidden"},[core.LU.mediaQuery.min[utils.g8]]:{body:{overflow:"unset"}}},"","")})}function Overlay({isOpen,onClick,prefersReducedMotion}){return(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:(0,emotion_react_browser_esm.AH)({backgroundColor:core.r5.overlay,display:"block",inset:0,opacity:isOpen?1:0,pointerEvents:isOpen?"all":"none",position:"fixed",transition:`opacity ${prefersReducedMotion?"1ms":"150ms"} ease`,zIndex:core.LU.zIndex.overlay,[core.LU.mediaQuery.min[utils.g8]]:{display:"none"}},"",""),onClick})}function CloseMenuButton({onClick}){const scaleIconCSS=(0,Icon.FC)();return(0,emotion_react_jsx_runtime_browser_esm.Y)(flex.s,{alignItems:"center",borderBottom:!0,borderColor:"muted",flexShrink:0,paddingLeft:1,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(flex.s,{alignItems:"center",as:src_button.SC,color:"action",css:(0,emotion_react_browser_esm.AH)({svg:{transition:scaleIconCSS.transition},":focus":{outlineOffset:`-${core.tm.outline.outlineWidth}`},":hover svg":{transform:scaleIconCSS.transform}},"",""),flexDirection:"column",focusRingFor:"keyboard",fontSize:"xs",gap:.5,onClick,padding:1,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.US,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)("span",{"aria-hidden":!0,children:"Close"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Close menu"})]})})}function AppLayoutSidebar_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function AppLayoutSidebar_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?AppLayoutSidebar_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):AppLayoutSidebar_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function AppLayoutSidebar({activePath,background="bodyAlt",items,palette,subLevelVisible="whenActive"}){const{focusMode}=(0,AppLayoutContext.c)(),commonMobileAndDesktopNavProps={activePath:(0,utils.B4)(items,activePath),items,subLevelVisible};return(0,emotion_react_jsx_runtime_browser_esm.FD)(react.Fragment,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.B,{background,borderColor:"muted",borderRight:!0,css:(0,emotion_react_browser_esm.AH)({display:"none",width:utils.Jl,[core.LU.mediaQuery.min[utils.g8]]:{display:focusMode?"none":"flex"}},"",""),flexGrow:1,gap:1,palette,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNav,AppLayoutSidebar_objectSpread(AppLayoutSidebar_objectSpread({},commonMobileAndDesktopNavProps),{},{background}))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarDialog,{palette,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(AppLayoutSidebarNav,AppLayoutSidebar_objectSpread(AppLayoutSidebar_objectSpread({},commonMobileAndDesktopNavProps),{},{background:"bodyAlt"}))})]})}},"./packages/react/src/app-layout/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B4:()=>findBestMatch,Jl:()=>APP_LAYOUT_SIDEBAR_WIDTH,g8:()=>APP_LAYOUT_DESKTOP_BREAKPOINT});const APP_LAYOUT_DESKTOP_BREAKPOINT="xl",APP_LAYOUT_SIDEBAR_WIDTH="16rem",findBestMatch=(items,activePath)=>{if(!activePath)return"";const allHrefs=items.flatMap((item=>Array.isArray(item)?item:[item,...item.items])).flatMap((item=>"items"in item&&void 0!==item.items?[item,...item.items]:item)).map((item=>item&&"href"in item&&void 0!==item.href?item.href:""));let exactMatch,bestMatch="";for(const href of allHrefs){if(href===activePath){exactMatch=href;break}activePath?.startsWith(href)&&href.length>bestMatch.length&&(bestMatch=href)}return exactMatch||bestMatch}},"./packages/react/src/core/utils/useIsMounted.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>useIsMounted});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function useIsMounted(){const{0:isMounted,1:setIsMounted}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{setIsMounted(!0)}),[]),isMounted}}}]);