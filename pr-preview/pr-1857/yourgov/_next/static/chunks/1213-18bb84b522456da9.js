"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1213],{47123:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(64388),n()},47441:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(83846),n()},585:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(2836),n()},9242:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(16799),n()},83846:function(e,t,r){r.d(t,{ComboboxMulti:function(){return ei}});var n=r(27378),i=r(8447),o=r(53223);r(11725);var a=r(60954);function l(){return(0,n.useMemo)(function(){return CSS.supports("-webkit-appearance","-apple-pay-button")&&CSS.supports("-webkit-overflow-scrolling","auto")},[])}var s=r(90849),d=r(10043),u=r(81407),c=r(87800);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=(0,u.vY)("sm","default"),v={name:"ozd7xs",styles:"flex-shrink:0"},b={name:"327myh",styles:"align-items:stretch;display:flex;flex-direction:column"},h={name:"1iv1gu7",styles:"flex-shrink:0;margin-left:auto"};function g(e){var t=e.itemLabel,r=(e.inputValue,e.beforeElement),o=e.endElement,a=e.secondaryText,l=e.tertiaryText,s=(0,n.useMemo)(function(){return(0,c.tZ)("span",{"aria-label":t,css:(0,d.iv)(m({color:"inherit",fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},f),"",""),children:t.split("").map(function(e,t){return(0,c.tZ)("span",{"data-char":e,children:e},t)})})},[t]);return(0,c.BX)(n.Fragment,{children:[r?(0,c.tZ)("div",{css:v,children:r}):null,(0,c.BX)("span",{css:b,children:[s,a?(0,n.isValidElement)(a)?a:(0,c.tZ)("span",{css:(0,d.iv)(m({color:i._X.foregroundMuted,fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},f),"",""),children:a}):null,l?(0,n.isValidElement)(l)?l:(0,c.tZ)("span",{css:(0,d.iv)(m({color:i._X.foregroundMuted,fontFamily:i.tokens.font.body,fontWeight:i.tokens.fontWeight.normal},f),"",""),children:l}):null]}),o?(0,c.tZ)("div",{css:h,children:o}):null]})}var y=r(90089),S=["children","isActiveItem","isInteractive"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w={color:i._X.foregroundText,backgroundColor:i._X.backgroundShade,"> span":i.lB.underline},x=(0,n.forwardRef)(function(e,t){var r=e.children,n=e.isActiveItem,o=e.isInteractive,a=(0,y.Z)(e,S),s=l();return(0,c.tZ)("li",Z(Z({ref:t,css:(0,d.iv)(Z(Z(Z({alignItems:"center",borderBottomStyle:"solid",borderBottomWidth:i.tokens.borderWidth.sm,borderColor:i._X.borderMuted,display:"flex",gap:(0,i.mapSpacing)(.75),paddingBottom:(0,i.mapSpacing)(.75),paddingLeft:(0,i.mapSpacing)(1),paddingRight:(0,i.mapSpacing)(1),paddingTop:(0,i.mapSpacing)(.75)},void 0===o||o?{cursor:"pointer",color:i._X.foregroundAction,"&:hover":w}:void 0),n?w:void 0),{},{"&:last-of-type":{borderBottom:"none"}}),"",""),tabIndex:s?void 0:-1},a),{},{children:r}))}),P=r(84007),k=r(31369),j=r(89205);function B(){return(0,c.tZ)(x,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(P.Flex,{gap:1,alignItems:"center",children:[(0,c.tZ)(k.xg,{role:"status",size:"sm","aria-label":"Loading"}),(0,c.tZ)(j.Text,{children:"Loading"})]})})}var C=r(32084),T={name:"ozd7xs",styles:"flex-shrink:0"};function I(){return(0,c.tZ)(x,{isActiveItem:!1,isInteractive:!1,children:(0,c.BX)(P.Flex,{alignItems:"center",gap:.5,children:[(0,c.tZ)(C.AlertFilledIcon,{color:"error",css:T}),(0,c.tZ)(j.Text,{role:"status",children:"Something went wrong."})]})})}function E(e){var t=e.message;return(0,c.tZ)(x,{isActiveItem:!1,isInteractive:!1,children:(0,c.tZ)(j.Text,{children:t})})}var D=r(11475),A=r(84815),X=["isOpen"],N=["disabled","icon"];function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function R(e){var t=e.children;return(0,c.tZ)(P.Flex,{alignItems:"center",gap:.25,css:(0,d.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,i.mapSpacing)(.5)," + ").concat(i.tokens.borderWidth.lg,"px)"),transform:"translateY(-50%)"},"",""),children:t})}function q(){return(0,c.tZ)(A.Box,{"aria-hidden":!0,height:"1.5rem",borderLeft:!0,borderLeftWidth:"md",borderColor:"muted"})}var M=(0,n.forwardRef)(function(e,t){return(0,c.tZ)(W,L({ref:t,"aria-label":"Clear input",icon:C.Tw},e))}),z=(0,n.forwardRef)(function(e,t){var r=e.isOpen,n=(0,y.Z)(e,X);return(0,c.tZ)(W,L({ref:t,"aria-label":"Toggle menu",icon:r?C.g8:C.v4},n))}),W=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.icon,o=(0,y.Z)(e,N);return(0,c.tZ)(D.Yd,L(L({ref:t,disabled:r,css:(0,d.iv)(L(L({display:"flex",alignItems:"center",justifyContent:"center",width:"2rem",height:"2rem",color:i._X.foregroundAction},r&&{cursor:"not-allowed",opacity:.3}),{},{"&:hover":{color:i._X.foregroundText}},A.j4),"","")},o),{},{children:(0,c.tZ)(n,{color:"inherit",size:"md"})}))}),V=r(11246),H=["disabled","children","onRemove"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=(0,n.forwardRef)(function(e,t){var r=e.disabled,n=e.children,o=e.onRemove,a=(0,y.Z)(e,H);return(0,c.BX)(P.Flex,{as:"span",inline:!0,alignItems:"center",border:!0,rounded:!0,paddingLeft:.5,paddingRight:.25,gap:.25,fontSize:"sm",color:"text",css:(0,d.iv)(Y({cursor:"default"},r&&{cursor:"not-allowed",borderColor:i._X.borderMuted,color:i._X.foregroundMuted}),"",""),children:[n,(0,c.tZ)(P.Flex,{alignItems:"center",as:"button","aria-label":"Remove ".concat(n),css:(0,d.iv)(Y({background:"transparent",cursor:"pointer",svg:{display:"block",color:i._X.foregroundAction},"&:hover":{svg:{color:i._X.foregroundText}},"&&":{outlineOffset:0}},r&&{cursor:"not-allowed",opacity:.3}),"",""),focusRingFor:"all",height:(0,i.mapSpacing)(1.5),justifyContent:"center",onClick:function(e){r||(e.stopPropagation(),o())},onKeyDown:a.onKeyDown,ref:t,rounded:!0,type:"button",width:(0,i.mapSpacing)(1.5),children:(0,c.tZ)(C.Tw,{size:"sm"})})]})}),K=["label","hideOptionalLabel","required","hint","message","invalid","inputId","disabled","block","maxWidth","renderItem","emptyResultsMessage","loading","networkError","combobox","inputItems","selectedItems","setSelectedItems","multiSelection","inputRef","onBlur","onFocus"];function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(e){var t,r,s,d,u,p,m,f,v=e.label,b=e.hideOptionalLabel,h=e.required,S=e.hint,O=e.message,Z=e.invalid,w=void 0!==Z&&Z,k=e.inputId,j=e.disabled,C=void 0!==j&&j,T=e.block,D=e.maxWidth,A=void 0===D?"xl":D,X=e.renderItem,N=void 0===X?function(e){return(0,c.tZ)(g,{itemLabel:e.label})}:X,F=e.emptyResultsMessage,L=void 0===F?"No options found.":F,W=e.loading,H=e.networkError,_=e.combobox,Y=e.inputItems,G=e.selectedItems,Q=e.setSelectedItems,$=e.multiSelection,ee=e.inputRef,et=e.onBlur,er=e.onFocus,en=(0,y.Z)(e,K),ei=(0,n.useRef)(null),eo=l(),ea=(0,i.useTernaryState)(!1),el=(0,V.Z)(ea,3),es=el[0],ed=el[1],eu=el[2],ec=(0,o.S)({matchReferenceWidth:!0,maxHeight:295,minHeight:195,hiddenWithCSS:!0,isOpen:_.isOpen}),ep=(null==G?void 0:G.length)>0,em=(r=(t={block:T,disabled:C,inputValue:_.inputValue,invalid:w||!!en["aria-invalid"],isInputFocused:es,maxWidth:A,showClearButton:ep}).block,s=t.disabled,d=t.inputValue,u=t.invalid,p=t.isInputFocused,m=t.maxWidth,f=t.showClearButton,{fieldContainer:U(U({},function(e){var t={};if(!e)return t;var r=e.toLowerCase().split("");return r.forEach(function(e,n){var i=r.slice(0,n+1).map(function(e){return'[data-char="'.concat(e,'" i]')}).join(" + "),o=r.slice(n+1).map(function(e){return'+ [data-char="'.concat(e,'" i]')}).join(" ");t[o?"".concat(i,":has(").concat(o,")"):i]={fontWeight:"bold"}}),t}(d)),!r&&{maxWidth:i.tokens.maxWidth.field[m]}),container:U(U(U(U({position:"relative",cursor:"text",background:i._X.backgroundBody,borderWidth:i.tokens.borderWidth.lg,borderStyle:"solid",borderColor:i._X.border,borderRadius:i.tokens.borderRadius,color:i._X.foregroundText},i.lB.input.md),{},{height:"auto",minHeight:i.lB.input.md.height,margin:0,paddingTop:(0,i.mapSpacing)(.25),paddingBottom:(0,i.mapSpacing)(.25),paddingLeft:(0,i.mapSpacing)(.5),paddingRight:f?"5rem":"3rem"},s&&{cursor:"not-allowed",borderColor:i._X.borderMuted,backgroundColor:i._X.backgroundShade,color:i._X.foregroundMuted}),u&&{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError}),p&&i.lB.outline),inputContainer:{display:"flex",flex:"1 1 2rem"},input:U(U({appearance:"none",boxSizing:"border-box",borderWidth:0,width:"100%",background:i._X.backgroundBody,color:i._X.foregroundText,fontFamily:i.tokens.font.body},(0,i.vY)("sm","default")),{},{'&[aria-invalid="true"]':{backgroundColor:i._X.systemErrorMuted,borderColor:i._X.systemError},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed",color:i._X.foregroundMuted,backgroundColor:i._X.backgroundShade}})}),ef=(0,n.useRef)(null),ev=(0,n.useCallback)(function(e){var t;e.target===ef.current&&(null===(t=ei.current)||void 0===t||t.focus())},[ei]),eb=(0,n.useCallback)(function(){var e;Q([]),null===(e=ei.current)||void 0===e||e.focus()},[Q]),eh=ee?(0,i.lq)([ei,ee]):ei,eg=_.getLabelProps().id,ey=function(e){var t;eo&&!(null!==(t=e.nativeEvent)&&void 0!==t&&t.relatedTarget)&&(e.nativeEvent.preventDownshiftDefault=!0),null==et||et(e),eu()};return(0,c.tZ)(a.gN,{label:v,labelId:eg,hideOptionalLabel:b,required:!!h,hint:S,maxWidth:A,message:O,invalid:w,id:k,children:function(e){return(0,c.BX)("div",U(U({},ec.getReferenceProps()),{},{css:em.fieldContainer,onClick:ev,children:[(0,c.BX)(P.Flex,{ref:ef,gap:.5,flexWrap:"wrap",alignItems:"center",css:em.container,children:[G.map(function(e,t){return(0,c.tZ)(J,U(U({onRemove:function(){return $.removeSelectedItem(e)},disabled:C},$.getSelectedItemProps({selectedItem:e,index:t})),{},{children:e.label}),"selected-item-".concat(t))}),(0,c.tZ)("div",{css:em.inputContainer,children:(0,c.tZ)("input",U(U({disabled:C},_.getInputProps($.getDropdownProps(U(U(U({},e),{"aria-describedby":en["aria-describedby"]||e["aria-describedby"],"aria-invalid":en["aria-invalid"]||e["aria-invalid"]}),{},{ref:eh,type:"text",preventKeyAction:!1,onFocus:function(e){null==er||er(e),ed()},onBlur:ey})))),{},{css:em.input}))}),(0,c.BX)(R,{children:[ep&&(0,c.BX)(n.Fragment,{children:[(0,c.tZ)(M,{disabled:C,onClick:eb}),(0,c.tZ)(q,{})]}),(0,c.tZ)(z,U({},_.getToggleButtonProps({isOpen:_.isOpen,disabled:C})))]})]}),(0,c.tZ)(o.J,U(U({as:"ul"},_.getMenuProps(ec.getPopoverProps())),{},{visibility:_.isOpen?"visible":"hidden",children:_.isOpen?(0,c.tZ)(n.Fragment,{children:W?(0,c.tZ)(B,{}):H?(0,c.tZ)(I,{}):(0,c.tZ)(n.Fragment,{children:null!=Y&&Y.length?Y.map(function(e,t){return(0,c.tZ)(x,U(U({isActiveItem:_.highlightedIndex===t,isInteractive:!0},_.getItemProps({item:e,index:t})),{},{children:N(e)}),"".concat(e.value,"-").concat(t))}):(0,c.tZ)(E,{message:L})})}):null}))]}))}})}var $=r(44285),ee=r(37914),et=["block","id","value","onChange","options"];function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(e){var t,r=e.block,o=e.id,a=e.value,l=e.onChange,s=e.options,d=(0,y.Z)(e,et),u=(0,n.useState)(""),p=u[0],m=u[1],f=(t=(0,i.Me)(),o||"combobox-input-".concat(t)),v=(0,n.useState)([]),b=v[0],h=v[1],g=void 0===a?b:a,S=(0,n.useCallback)(function(e){h(e),null==l||l(e)},[l]),O=(0,n.useMemo)(function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,n=(null==t?void 0:t.toLowerCase())||"";return e.filter(function(e){var t=e.value.toLowerCase().includes(n)||e.label.toLowerCase().includes(n);return void 0===r?t:t&&!(null!=r&&r.some(function(t){return t.label===e.label&&t.value===e.value}))})}(s,p,g)},[s,p,g]),Z=(0,n.useRef)([]),w=(0,ee.M$)({selectedItems:g,getA11yStatusMessage:function(e){var t=e.selectedItems;if(t.length===Z.current.length)return Z.current=t,"";if(t.length>Z.current.length){var r=t.find(function(e){return 0>Z.current.findIndex(function(t){return t.value===e.value})});return Z.current=t,"".concat((null==r?void 0:r.label)||"An item"," has been added.")}if(0===t.length&&Z.current.length>0)return Z.current=t,"All items have been removed.";var n=Z.current.find(function(e){return 0>t.findIndex(function(t){return t.value===e.value})});return Z.current=t,"".concat((null==n?void 0:n.label)||"An item"," has been removed.")},onStateChange:function(e){var t=e.selectedItems;switch(e.type){case ee.M$.stateChangeTypes.SelectedItemKeyDownBackspace:case ee.M$.stateChangeTypes.SelectedItemKeyDownDelete:case ee.M$.stateChangeTypes.DropdownKeyDownBackspace:case ee.M$.stateChangeTypes.FunctionRemoveSelectedItem:S(null!=t?t:[])}}}),x=(0,ee.Kb)({inputValue:p,inputId:f,items:null!=O?O:[],itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},defaultHighlightedIndex:0,selectedItem:null,stateReducer:function(e,t){var r=t.changes;switch(t.type){case ee.Kb.stateChangeTypes.InputKeyDownEnter:case ee.Kb.stateChangeTypes.ItemClick:return en(en({},r),{},{isOpen:!0,highlightedIndex:0});default:return r}},onStateChange:function(e){var t=e.inputValue,r=e.type,n=e.selectedItem;switch(r){case ee.Kb.stateChangeTypes.InputKeyDownEnter:case ee.Kb.stateChangeTypes.ItemClick:n&&(S([].concat((0,$.Z)(g),[n])),m(""));break;case ee.Kb.stateChangeTypes.InputChange:m(void 0===t?"":t)}}});return(0,c.tZ)(Q,en({block:void 0===r||r,combobox:x,multiSelection:w,inputItems:O,inputId:f,selectedItems:g,setSelectedItems:S},d))}r(57135)},2836:function(e,t,r){r.d(t,{Fieldset:function(){return m}});var n=r(8447),i=r(84815),o=r(87800),a=function(e){var t=e["aria-describedby"],r=e.children,n=e.id;return(0,o.tZ)(i.Box,{as:"fieldset","aria-describedby":t,id:n,children:r})},l=r(27378),s=r(89205),d=function(e){var t=e.children;return(0,l.isValidElement)(t)?(0,o.tZ)("legend",{children:t}):(0,o.tZ)(s.Text,{as:"legend",fontWeight:"bold",fontSize:"lg",lineHeight:"heading",children:t})},u=r(10043),c=function(e){var t=e.children,r=e.id;return(0,l.isValidElement)(t)?(0,o.tZ)("div",{id:r,css:(0,u.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),children:t}):(0,o.tZ)(s.Text,{fontSize:"sm",color:"muted",display:"block",css:(0,u.iv)({marginTop:(0,n.mapSpacing)(.75)},"",""),id:r,children:t})},p=function(e){var t=e.children;return(0,o.tZ)("div",{css:(0,u.iv)({marginTop:(0,n.mapSpacing)(2)},"",""),children:t})},m=function(e){var t=e.children,r=e.hint,n=e.legend,i=f(e.id),l=i.fieldsetId,s=i.hintId;return(0,o.BX)(a,{id:l,"aria-describedby":r?s:void 0,children:[(0,o.tZ)(d,{children:n}),r?(0,o.tZ)(c,{id:s,children:r}):null,(0,o.tZ)(p,{children:t})]})},f=function(e){var t=(0,n.Me)(e);return{fieldsetId:e||"fieldset-".concat(t),hintId:"fieldset-".concat(t,"-hint")}}},16799:function(e,t,r){r.d(t,{GroupedFields:function(){return p}});var n=r(10043),i=r(64388),o=r(84815),a=r(8447),l=r(60954),s=r(84007),d=r(7226),u=r(87800),c=function(e){var t=e.hint,r=e.hintId,n=e.invalid,i=e.message,o=e.messageId,a=[n&&i?o:null,t?r:null].filter(Boolean).join(" ");return a.length>0?a:null};function p(e){var t,r=e.children,p=e.field1Invalid,m=void 0!==p&&p,f=e.field2Invalid,v=void 0!==f&&f,b=e.hideOptionalLabel,h=e.hint,g=e.id,y=e.legend,S=e.message,O=e.visuallyHideLegend,Z=void 0!==O&&O,w=(t=(0,a.Me)(g),{hintId:"grouped-fields-".concat(t,"-hint"),messageId:"grouped-fields-".concat(t,"-message")}),x=w.hintId,P=w.messageId,k=m||v,j={"aria-describedby":c({hint:h,hintId:x,invalid:m,message:S,messageId:P}),"aria-invalid":m},B={"aria-describedby":c({hint:h,hintId:x,invalid:v,message:S,messageId:P}),"aria-invalid":v};return(0,u.tZ)(l.i$,{invalid:k,children:(0,u.BX)(o.Box,{as:"fieldset",children:[(0,u.tZ)(l.Qy,{as:"legend",css:Z?i.visuallyHiddenStyles:void 0,hideOptionalLabel:void 0!==b&&b,required:!1,children:y}),(0,u.BX)(d.Stack,{css:(0,n.iv)({marginTop:Z?void 0:(0,a.mapSpacing)(.5)},"",""),gap:.5,children:[h?(0,u.tZ)(l.J1,{id:x,children:h}):null,S&&k?(0,u.tZ)(l.nd,{id:P,children:S}):null,(0,u.tZ)(s.Flex,{flexWrap:"wrap",gap:1,inline:!0,children:r({field1Props:j,field2Props:B})})]})]})})}},92622:function(e,t,r){r.d(t,{TimeInput:function(){return h}});var n=r(90849),i=r(90089),o=r(27378),a=r(60954),l=r(11725),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(!e)return"";var r=new Date,n=(null!==e.match(/\d+/)?3===e.replace(/\s/g,"").length?null!==(i=null===(o=e.match(/(\w)(\w{1,2})/))||void 0===o?void 0:o.slice(1))&&void 0!==i?i:[]:null!==(a=e.match(/\d{1,2}/gi))&&void 0!==a?a:[]:[]).map(function(e){return 0|Number(e)});if(0===n.length||n[0]>24||n.length>1&&n[1]>59)return e;if(n[0]<=12){var i,o,a,l,s,d,c,p=null!==(d=e.match(/[a-zA-Z]{1,2}/))&&void 0!==d?d:[];switch(p.length>0?null===(c=p[0])||void 0===c?void 0:c.toLowerCase():12===n[0]?"pm":"am"){case"pm":case"p":r.setHours(12===n[0]?12:n[0]+12);break;default:r.setHours(n[0]%12)}}else r.setHours(n[0]);r.setMinutes(null!==(l=n[1])&&void 0!==l?l:0),r.setSeconds(null!==(s=n[2])&&void 0!==s?s:0);var m=new Intl.DateTimeFormat("en-GB",u[t]).format(r);return"HH:mm"===t&&m.startsWith("24:")?"00:".concat(m.split(":")[1]):m};function d(e,t){return void 0===e?"":s(e,t)}var u={"h:mm aaa":{hour:"numeric",hourCycle:"h12",minute:"2-digit"},"hh:mm aaa":{hour:"2-digit",hourCycle:"h12",minute:"2-digit"},"HH:mm":{hour:"2-digit",hourCycle:"h24",minute:"2-digit"}},c=Object.keys(u),p=r(87800),m=["block","hideOptionalLabel","hint","id","invalid","label","maxWidth","message","onBlur","onChange","required","timeFormat","value"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b={formatted:"",value:""},h=(0,o.forwardRef)(function(e,t){var r=e.block,n=e.hideOptionalLabel,u=e.hint,f=e.id,h=e.invalid,g=e.label,y=e.maxWidth,S=void 0===y?"md":y,O=e.message,Z=e.onBlur,w=e.onChange,x=e.required,P=e.timeFormat,k=void 0===P?"h:mm aaa":P,j=e.value,B=void 0===j?b:j,C=(0,i.Z)(e,m),T=(0,o.useState)(d(null==B?void 0:B.value,k)),I=T[0],E=T[1];(0,o.useEffect)(function(){E(d(B.value,k))},[k,B]);var D=function(e){var t,r=null===(t=e.target)||void 0===t?void 0:t.value,n=s(r,"HH:mm");null==w||w({formatted:s(r,k),value:n}),null==Z||Z(e)},A=function(e){var t;E(null===(t=e.target)||void 0===t?void 0:t.value)},X=(0,o.useMemo)(function(){return"(e.g. "+s("21:30",c.includes(k)?k:"h:mm aaa")+")"},[k]),N=(0,l.c)({block:r,maxWidth:S});return(0,p.tZ)(a.gN,{hideOptionalLabel:n,hint:u,id:f,invalid:h,label:g,maxWidth:S,message:O,required:!!x,secondaryLabel:X,children:function(e){return(0,p.tZ)("input",v(v({},e),{},{css:N,onBlur:D,onChange:A,ref:t,type:"text",value:I},C))}})})},80502:function(e,t,r){var n=r(51502).___internalHook("/","../../../..","../..");e.exports=r(92622),n()},97532:function(e,t,r){r.d(t,{Y:function(){return s}});var n=r(27378),i=r(50456),o=r(4041),a=r(68713),l=r(87800);function s(e){var t=e.callToAction,r=e.children,s=e.hideRequiredFieldsMessage,d=e.introduction,u=e.shouldFocusTitle,c=void 0===u||u,p=e.title,m=(0,a.t)().formTitle,f=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(c){var e;null===(e=f.current)||void 0===e||e.focus()}},[c]),(0,l.BX)(i.Stack,{gap:3,width:"100%",children:[(0,l.tZ)(o.D,{titleRef:f,formTitle:m,stepTitle:p,introduction:d,callToAction:t,hideRequiredFieldsMessage:s}),r]})}},53069:function(e,t,r){r.d(t,{v:function(){return u}});var n=r(11246),i=r(37654),o=r(16096),a=r(38163),l=r(68944),s=r(79706),d=r(87800);function u(e){var t=e.errors,r=(0,i.useScrollToField)(),u=Object.entries(t).map(function(e){var t,r,i=(0,n.Z)(e,2),o=i[0],a=i[1];return"message"in a?{key:o,message:a.message}:"from"in a?{key:o,message:null===(t=a.from)||void 0===t?void 0:t.message}:"to"in a?{key:o,message:null===(r=a.to)||void 0===r?void 0:r.message}:void 0}).filter(function(e){return!!(null==e?void 0:e.message)});return(0,d.BX)(a.PageAlert,{focusOnMount:!0,title:"There is a problem",tone:"error",children:[(0,d.tZ)(l.Text,{as:"p",children:"Please correct the following fields and try again"}),(0,d.tZ)(o.UnorderedList,{children:u.map(function(e){var t=e.key,n=e.message;return(0,d.tZ)(o.ListItem,{children:(0,d.tZ)(s.TextLink,{href:"#".concat(t),onClick:r,children:n})},t)})})]})}},68713:function(e,t,r){r.d(t,{i:function(){return v},t:function(){return b}});var n=r(90849),i=r(90089),o=r(86677),a=r(27378),l=r(58140),s={steps:r(40582).P$},d=r(75807),u=r(87800),c=["hasSynced","formState","setFormState"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=(0,a.createContext)(void 0);function v(e){var t=e.children,r=(0,o.useRouter)(),n=(0,l.NU)("FormMobileFoodVendorPermit",s),p=n.hasSynced,v=n.formState,b=n.setFormState,h=(0,i.Z)(n,c),g="Apply for a ".concat(v.type," permit"),y=(0,a.useCallback)(function(){b(function(e){return m(m({},e),{},{id:(null==e?void 0:e.id)||Math.round(1e9*Math.random()).toString(),started:!0,steps:m({},e.steps)})})},[b]),S=(0,a.useState)(!1),O=S[0],Z=S[1],w=(0,a.useCallback)(function(){r.push(d.Hv)},[r]),x=(0,a.useState)(!1),P=x[0],k=x[1],j=(0,a.useCallback)(function(){k(!0),setTimeout(function(){k(!1),r.push(d.Hv)},1500)},[r]);if(!p)return null;var B=m(m({formTitle:g,managePermitsPage:d.Hv,startApplication:y,formState:v,setFormState:b},h),{},{isSubmittingStep:O,setIsSubmittingStep:Z,cancel:w,saveAndExit:j,isSavingBeforeExiting:P});return(0,u.tZ)(f.Provider,{value:B,children:t})}function b(){var e=(0,a.useContext)(f);if(!e)throw Error("Context provider not found");return e}},41213:function(e,t,r){r.d(t,{RV:function(){return T},lY:function(){return Q},C8:function(){return ts},yN:function(){return ei},AC:function(){return es},ru:function(){return ef},BC:function(){return eS},rP:function(){return eC},DS:function(){return eA},kg:function(){return eM},d9:function(){return eH},RJ:function(){return eK},Ln:function(){return te},Sf:function(){return Z},iP:function(){return n.i},wt:function(){return B},t7:function(){return n.t}});var n=r(68713),i=r(90849),o=r(86677),a=r(88039),l=r(84200),s=r(32324),d=r(53169),u=r(51036),c=r(92100),p=r(47586),m=r(41380),f=r(81715),v=r(50456),b=r(79706),h=r(87672),g=r(87800);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var O=l.z.object({businessType:(0,h.Jg)("Business type is required")});function Z(){var e,t,r=(0,o.useRouter)(),i=(0,a.cI)({resolver:(0,s.F)(O),mode:"onSubmit",reValidateMode:"onBlur"}),l=i.register,h=i.handleSubmit,y=i.formState.errors,Z=(0,n.t)(),w=Z.formState,x=Z.setFormState;return(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:h(function(e){x(S(S({},w),{},{lastUpdated:Date.now(),type:e.businessType})),r.push({pathname:"/app/licences-and-permits/apply/mobile-food-vendor-permit/steps/step-1"})}),children:[(0,g.tZ)(c.ControlGroup,{label:"What type of business do you operate?",invalid:!!(null===(e=y.businessType)||void 0===e?void 0:e.message),message:null===(t=y.businessType)||void 0===t?void 0:t.message,required:!0,block:!0,children:["Food truck","Market stall","Coffee van"].map(function(e){var t;return(0,g.tZ)(f.Radio,S(S({},l("businessType")),{},{value:e,invalid:!!(null===(t=y.businessType)||void 0===t?void 0:t.message),children:e}),e)})}),(0,g.tZ)(p.Divider,{}),(0,g.BX)(m.Prose,{children:[(0,g.tZ)("h2",{id:"what-you-will-need",children:"What you will need"}),(0,g.tZ)("p",{children:"To complete this application you will need to provide:"}),(0,g.BX)("ul",{children:[(0,g.tZ)("li",{children:"business owner details"}),(0,g.tZ)("li",{children:"business type"}),(0,g.tZ)("li",{children:"business address"}),(0,g.tZ)("li",{children:"vehicle registration details and vehicle plans"}),(0,g.tZ)("li",{children:"trading times"}),(0,g.tZ)("li",{children:"food served"}),(0,g.tZ)("li",{children:"details of any employees who will be handling food"}),(0,g.tZ)("li",{children:"food safety supervisor certificate"})]}),(0,g.tZ)("p",{children:"Once you have confirmed business and employee details, we will provide a checklist of required documents."}),(0,g.tZ)("h2",{id:"what-happens-next",children:"What happens next"}),(0,g.tZ)("p",{children:"It will take 10 business days for your application to be reviewed by a yourGov representative."}),(0,g.tZ)(d.Box,{paddingTop:3,children:(0,g.tZ)(u.Button,{type:"submit",children:"Apply for permit"})}),(0,g.tZ)("h2",{id:"more-information",children:"More information"}),(0,g.tZ)("h3",{children:"Links"}),(0,g.BX)("ul",{children:[(0,g.tZ)("li",{children:(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Understand food safety requirements"})}),(0,g.tZ)("li",{children:(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"New laws for food businesses"})}),(0,g.tZ)("li",{children:(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Restricted areas and exclusion zones"})}),(0,g.tZ)("li",{children:(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Hours of operation"})})]})]})]})}var w=r(55732),x=r(57135),P=r.n(x),k=r(27378),j=r(75807),B=[{formStateKey:"step1",label:"Owner details",href:j.aq+"/steps/step-1",items:[{label:"Change business owner details",href:j.aq+"/steps/step-1/change-details"}]},{formStateKey:"step2",label:"Business details",href:j.aq+"/steps/step-2"},{formStateKey:"step3",label:"Business address",href:j.aq+"/steps/step-3"},{formStateKey:"step4",label:"Vehicle registration",href:j.aq+"/steps/step-4"},{formStateKey:"step5",label:"Trading time",href:j.aq+"/steps/step-5"},{formStateKey:"step6",label:"Food served",href:j.aq+"/steps/step-6"},{formStateKey:"step7",label:"Employees",href:j.aq+"/steps/step-7",items:[{label:"Add employee",href:j.aq+"/steps/step-7/add-employee"}]},{formStateKey:"step8",label:"Food safety supervisor",href:j.aq+"/steps/step-8"},{formStateKey:"step9",label:"Upload documents",href:j.aq+"/steps/step-9"},{formStateKey:"step10",label:"Review and submit",href:j.aq+"/steps/step-10"}],C=(0,k.createContext)(void 0);function T(e){var t,r,i=e.children,a=(0,o.useRouter)(),l=a.pathname,s=a.push,d=(0,n.t)(),u=d.setIsSubmittingStep,c=d.formState,p=d.isSavingBeforeExiting,m=B.findIndex(function(e){return e.href===l}),f=(0,k.useCallback)((0,w.Z)(P().mark(function e(){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return u(!0),e.next=5,new Promise(function(e){return setTimeout(e,1500)});case 5:s((0,j.uY)({currentStepIndex:m,id:c.id,steps:B})),u(!1);case 8:case"end":return e.stop()}},e)})),[m,c,p,s,u]),v="".concat(null!==(t=null===(r=B[m-1])||void 0===r?void 0:r.href)&&void 0!==t?t:j.aq),b=(0,k.useMemo)(function(){var e,t,r,n,i,o,a,l,s;return null!==(e=c.steps)&&void 0!==e&&null!==(e=e.step1)&&void 0!==e&&!!e.completed&&null!==(t=c.steps)&&void 0!==t&&null!==(t=t.step2)&&void 0!==t&&!!t.completed&&null!==(r=c.steps)&&void 0!==r&&null!==(r=r.step3)&&void 0!==r&&!!r.completed&&null!==(n=c.steps)&&void 0!==n&&null!==(n=n.step4)&&void 0!==n&&!!n.completed&&null!==(i=c.steps)&&void 0!==i&&null!==(i=i.step5)&&void 0!==i&&!!i.completed&&null!==(o=c.steps)&&void 0!==o&&null!==(o=o.step6)&&void 0!==o&&!!o.completed&&null!==(a=c.steps)&&void 0!==a&&null!==(a=a.step7)&&void 0!==a&&!!a.completed&&null!==(l=c.steps)&&void 0!==l&&null!==(l=l.step8)&&void 0!==l&&!!l.completed&&null!==(s=c.steps)&&void 0!==s&&null!==(s=s.step9)&&void 0!==s&&!!s.completed},[c]);return(0,g.tZ)(C.Provider,{value:{backHref:v,submitStep:f,canConfirmAndSubmit:b},children:i})}function I(){var e=(0,k.useContext)(C);if(!e)throw Error("Context provider not found");return e}var E=r(20034),D=r(57449),A=r(94303),X=r(32379),N=r(20329),F=r(61444),L=r(11246),R=r(73469),q=r(68944),M=r(56273);function z(e){var t=e.submitText,r=(0,M.useTernaryState)(!1),i=(0,L.Z)(r,3),o=i[0],a=i[1],l=i[2],s=(0,n.t)(),d=s.isSubmittingStep,c=s.saveAndExit,m=s.isSavingBeforeExiting,f=s.cancel;return(0,g.BX)(k.Fragment,{children:[(0,g.BX)(v.Stack,{gap:3,children:[(0,g.tZ)(p.Divider,{}),(0,g.BX)(u.ButtonGroup,{children:[(0,g.tZ)(u.Button,{type:"submit",variant:"primary",loading:d,children:void 0===t?"Save and continue":t}),(0,g.tZ)(u.Button,{type:"submit",variant:"secondary",loading:m,onClick:c,children:"Save and exit"}),(0,g.tZ)(u.Button,{type:"button",variant:"tertiary",onClick:a,children:"Cancel"})]})]}),(0,g.tZ)(R.Modal,{isOpen:o,onClose:l,title:"Are you sure you want to cancel?",actions:(0,g.BX)(u.ButtonGroup,{children:[(0,g.tZ)(u.Button,{onClick:f,children:"Yes, cancel"}),(0,g.tZ)(u.Button,{variant:"secondary",onClick:l,children:"No, take me back"})]}),children:(0,g.tZ)(q.Text,{as:"p",children:"If you cancel, you will lose all information entered."})})]})}var W=r(40582),V=r(2951),H=r(74578),_=r(10957),Y=r(63846),J=r(97532);function K(e){var t=e.formTitle,r=e.formIntroduction,i=e.formCallToAction,a=e.children,l=e.hideRequiredFieldsMessage,s=e.shouldFocusTitle,d=(0,o.useRouter)().pathname,u=(0,n.t)(),c=u.formState,p=u.startApplication,m=I(),f=m.backHref,b=m.canConfirmAndSubmit;return(0,k.useEffect)(function(){p()},[p]),(0,g.BX)(V.Columns,{children:[(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,g.tZ)(H.ContentBleed,{visible:{md:!1},children:(0,g.tZ)(Y.ProgressIndicator,{activePath:d,items:B.map(function(e,t){var r,n,i;return{label:e.label,href:e.href,status:(n=B[t],i=null===(r=c.steps)||void 0===r?void 0:r[n.formStateKey],n.href===d?"started":null!=i&&i.completed?"done":null!=i&&i.started?"started":"step10"!==n.formStateKey||b?"todo":"blocked")}})})})}),(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,g.BX)(v.Stack,{gap:3,alignItems:"flex-start",children:[(0,g.tZ)(_.DirectionLink,{direction:"left",href:f,children:"Back"}),(0,g.tZ)(J.Y,{title:t,introduction:r,callToAction:i,hideRequiredFieldsMessage:l,shouldFocusTitle:void 0===s||s,children:a})]})})]})}function G(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?G(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Q(){var e=(0,(0,n.t)().step1GetState)(),t="true"===(0,o.useRouter)().query.success,r=(0,k.useState)(t),i=r[0],a=r[1];return(0,k.useEffect)(function(){a(t)},[t]),(0,g.tZ)(K,{formTitle:"Owner details",formIntroduction:"Confirm your name and contact details.",shouldFocusTitle:!i,children:(0,g.BX)(v.Stack,{gap:3,children:[(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(A.H2,{children:"Confirm business owner details"}),(0,g.tZ)(E.Details,{label:"How were my details prefilled?",iconBefore:!0,children:(0,g.BX)(m.Prose,{children:[(0,g.tZ)("p",{children:"We’re working hard to improve the way we do business with you. This includes making applications and registrations easier to use."}),(0,g.tZ)("p",{children:"If we already have some of the information you need to tell us, we’ll pre-fill it into your applications. This saves you entering all your details yourself."}),(0,g.tZ)("p",{children:"It’s important to check the pre-filled information in your report before you submit it."})]})}),i&&(0,g.tZ)(X.SectionAlert,{focusOnMount:!0,title:"Business owner details have been updated",tone:"success",onClose:function(){return a(!1)}}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.BX)(N.SummaryList,{children:[(0,g.BX)(N.SummaryListItem,{children:[(0,g.tZ)(N.SummaryListItemTerm,{children:"First name"}),(0,g.tZ)(N.SummaryListItemDescription,{children:null==e?void 0:e.firstName})]}),(0,g.BX)(N.SummaryListItem,{children:[(0,g.tZ)(N.SummaryListItemTerm,{children:"Last name"}),(0,g.tZ)(N.SummaryListItemDescription,{children:null==e?void 0:e.lastName})]}),(0,g.BX)(N.SummaryListItem,{children:[(0,g.tZ)(N.SummaryListItemTerm,{children:"Email address"}),(0,g.tZ)(N.SummaryListItemDescription,{children:null==e?void 0:e.email})]})]}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",href:B[0].items&&B[0].items[0].href,variant:"text",children:"Change business owner details"})]})]}),(0,g.tZ)($,{})]})})}function $(){var e,t,r,i=(0,n.t)(),o=i.step1GetState,l=i.step1SetState,d=i.isSavingBeforeExiting,u=I().submitStep,c=(0,a.cI)({defaultValues:{contactPhoneNumber:null===(t=o())||void 0===t?void 0:t.contactPhoneNumber},resolver:(0,s.F)(W.D5),mode:"onSubmit",reValidateMode:"onBlur"}),p=c.register,m=c.handleSubmit,f=c.formState.errors,b=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u();case 4:l(U(U({},t),{},{completed:!d,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:m(b),children:[(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(A.H2,{children:"Additional details"}),(0,g.tZ)(F.TextInput,U(U({autoComplete:"tel",label:"Contact phone number",hint:"Any Australian mobile or landline. For example, 0444111222 or 02 9988 7766",id:"contactPhoneNumber"},p("contactPhoneNumber")),{},{message:null===(r=f.contactPhoneNumber)||void 0===r?void 0:r.message,invalid:!!f.contactPhoneNumber}))]}),(0,g.tZ)(z,{})]})}var ee=r(39402),et=r(53069);function er(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?er(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):er(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ei(){var e,t,r,i,l,d,c,m=(0,o.useRouter)(),f=(0,n.t)(),b=f.formState,h=f.step1GetState,y=f.step1SetState,S=(0,a.cI)({defaultValues:h(),resolver:(0,s.F)(W.Mk),mode:"onSubmit",reValidateMode:"onBlur"}),O=S.register,Z=S.handleSubmit,w=S.formState.errors,x=(0,k.useState)(!1),P=x[0],C=x[1],T=B[0].href,E=(0,j.nT)(w),X=(0,k.useRef)(null);(0,k.useEffect)(function(){var e;null===(e=X.current)||void 0===e||e.focus()},[]);var N=(0,o.useRouter)().pathname,L=I().canConfirmAndSubmit;return(0,g.BX)(V.Columns,{children:[(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,g.tZ)(Y.ProgressIndicator,{activePath:"".concat(B[0].items&&(null===(e=B[0].items[0])||void 0===e?void 0:e.href)),items:B.map(function(e,t){var r,n,i=e.label,o=e.href,a=e.items;return{label:i,href:o,status:(n=B[t]).href===N.replace("/change-details","")?"started":null!==(r=b.steps)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step10"!==n.formStateKey||L?"todo":"blocked",items:0===t?a:void 0}})})}),(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,g.BX)(v.Stack,{gap:3,alignItems:"flex-start",children:[(0,g.tZ)(_.DirectionLink,{direction:"left",href:T,children:"Back"}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H1,{ref:X,tabIndex:-1,focusRingFor:"keyboard",children:"Change business owner details"}),(0,g.tZ)(q.Text,{as:"p",fontSize:"md",color:"muted",children:"Change your name and contact details."}),(0,g.tZ)(ee.z,{})]}),(0,g.tZ)(v.Stack,{gap:1.5,width:"100%",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:Z(function(e){C(!0),setTimeout(function(){C(!1),y(e),m.push("".concat(T,"?success=true"))},1500)}),noValidate:!0,children:[(0,g.BX)(D.FormStack,{children:[E&&(0,g.tZ)(et.v,{errors:w}),(0,g.tZ)(F.TextInput,en(en({label:"First name",autoComplete:"given-name"},O("firstName")),{},{id:"firstName",invalid:!!(null===(t=w.firstName)||void 0===t?void 0:t.message),message:null===(r=w.firstName)||void 0===r?void 0:r.message,maxWidth:"lg",required:!0})),(0,g.tZ)(F.TextInput,en(en({label:"Last name",autoComplete:"family-name"},O("lastName")),{},{id:"lastName",invalid:!!(null===(i=w.lastName)||void 0===i?void 0:i.message),message:null===(l=w.lastName)||void 0===l?void 0:l.message,maxWidth:"lg",required:!0})),(0,g.tZ)(F.TextInput,en(en({label:"Email address",type:"email",autoComplete:"email"},O("email")),{},{id:"email",invalid:!!(null===(d=w.email)||void 0===d?void 0:d.message),message:null===(c=w.email)||void 0===c?void 0:c.message,maxWidth:"xl",required:!0}))]}),(0,g.tZ)(p.Divider,{}),(0,g.BX)(u.ButtonGroup,{children:[(0,g.tZ)(u.Button,{type:"submit",loading:P,children:"Save changes"}),(0,g.tZ)(u.Button,{variant:"tertiary",onClick:function(){m.push(T)},children:"Cancel"})]})]})})]})})]})}var eo=r(11410);function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function el(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function es(){var e,t,r,i,o,l,d,u,p,m,b,h=(0,n.t)(),y=h.formState,S=h.step2SetState,O=h.isSavingBeforeExiting,Z=I().submitStep,x=(0,a.cI)({defaultValues:null===(t=y.steps)||void 0===t?void 0:t.step2,resolver:O?void 0:(0,s.F)(W.yS),mode:"onSubmit",reValidateMode:"onBlur"}),B=x.watch,C=x.register,T=x.handleSubmit,E=x.trigger,A=x.formState,X=A.errors,N=A.isSubmitted,L=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!O){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Z();case 4:S(el(el({},t),{},{completed:!O,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),R=(0,j.nT)(X),q="Business"===B("businessStructure"),M="Company"===B("businessStructure");return(0,k.useEffect)(function(){N&&E()},[N,E]),(0,g.tZ)(K,{formTitle:"Business details",formIntroduction:"Your business details must match your business registration.",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:T(L),noValidate:!0,children:[(0,g.BX)(D.FormStack,{children:[R&&(0,g.tZ)(et.v,{errors:X}),(0,g.tZ)(F.TextInput,el(el({autoComplete:"organization",id:"businessName",label:"Business or company name"},C("businessName")),{},{invalid:!!(null===(r=X.businessName)||void 0===r?void 0:r.message),message:null===(i=X.businessName)||void 0===i?void 0:i.message,required:!0,maxWidth:"xl"})),(0,g.tZ)(F.TextInput,el(el({autoComplete:"on",id:"tradingName",label:"Trading name"},C("tradingName")),{},{invalid:!!(null===(o=X.tradingName)||void 0===o?void 0:o.message),message:null===(l=X.tradingName)||void 0===l?void 0:l.message,maxWidth:"xl"})),(0,g.BX)(c.ControlGroup,{id:"businessStructure",label:"Business structure",invalid:!!X.businessStructure,message:null===(d=X.businessStructure)||void 0===d?void 0:d.message,required:!0,block:!0,children:[(0,g.tZ)(f.Radio,el(el({},C("businessStructure")),{},{value:"Business",children:"Business"})),q?(0,g.tZ)(eo.i,{children:(0,g.tZ)(F.TextInput,el(el({autoComplete:"on",id:"abn",label:"Australian Business Number (ABN)"},C("abn")),{},{invalid:!!(null===(u=X.abn)||void 0===u?void 0:u.message),message:null===(p=X.abn)||void 0===p?void 0:p.message,required:!0}))}):null,(0,g.tZ)(f.Radio,el(el({},C("businessStructure")),{},{value:"Company",children:"Company"})),M?(0,g.tZ)(eo.i,{children:(0,g.tZ)(F.TextInput,el(el({autoComplete:"on",id:"acn",label:"Australian Company Number (ACN)"},C("acn")),{},{invalid:!!(null===(m=X.acn)||void 0===m?void 0:m.message),message:null===(b=X.acn)||void 0===b?void 0:b.message,required:!0}))}):null,(0,g.tZ)(f.Radio,el(el({},C("businessStructure")),{},{value:"Sole trader",children:"Sole trader"}))]})]}),(0,g.tZ)(z,{})]})})}var ed=r(73403),eu=r(585),ec=r(74373);function ep(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function em(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ep(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ef(){var e,t,r,i,o,l,d,u,c,p,m,f,b,h,y,S,O,Z,x=(0,n.t)(),k=x.formState,B=x.step3SetState,C=x.isSavingBeforeExiting,T=I().submitStep,E=(0,a.cI)({defaultValues:null===(t=k.steps)||void 0===t?void 0:t.step3,resolver:C?void 0:(0,s.F)(W.L3),mode:"onSubmit",reValidateMode:"onBlur"}),X=E.watch,N=E.register,L=E.handleSubmit,R=E.formState.errors,q=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!C){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,T();case 4:B(em(em({},t),{},{completed:!C,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),M=(0,j.nT)(R),V=X("isPostalAddressSameAsBusinessAddress");return(0,g.tZ)(K,{formTitle:"Business address",formIntroduction:"Add your business address.",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:L(q),noValidate:!0,children:[M&&(0,g.tZ)(et.v,{errors:R}),(0,g.tZ)(D.FormStack,{children:(0,g.tZ)(eu.Fieldset,{legend:(0,g.tZ)(A.H2,{children:"Business address"}),children:(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Street address"},N("streetAddress")),{},{id:"streetAddress",invalid:!!(null===(r=R.streetAddress)||void 0===r?void 0:r.message),message:null===(i=R.streetAddress)||void 0===i?void 0:i.message,required:!0,maxWidth:"xl"})),(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Suburb, town or city"},N("suburbTownCity")),{},{id:"suburbTownCity",invalid:!!(null===(o=R.suburbTownCity)||void 0===o?void 0:o.message),message:null===(l=R.suburbTownCity)||void 0===l?void 0:l.message,required:!0,maxWidth:"lg"})),(0,g.tZ)(ec.Select,em(em({autoComplete:"on",label:"State or territory"},N("state")),{},{id:"state",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(d=R.state)||void 0===d?void 0:d.message),message:null===(u=R.state)||void 0===u?void 0:u.message,required:!0,maxWidth:"sm"})),(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Postcode"},N("postcode")),{},{id:"postcode",invalid:!!(null===(c=R.postcode)||void 0===c?void 0:c.message),message:null===(p=R.postcode)||void 0===p?void 0:p.message,maxWidth:"sm",inputMode:"numeric",pattern:"[0-9]*",required:!0}))]})})}),(0,g.tZ)(D.FormStack,{children:(0,g.tZ)(eu.Fieldset,{legend:(0,g.tZ)(A.H2,{children:"Postal address"}),children:(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(ed.Checkbox,em(em({},N("isPostalAddressSameAsBusinessAddress")),{},{id:"isPostalAddressSameAsBusinessAddress",children:"Same as business address"})),!V&&(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Postal address"},N("postalAddress")),{},{id:"postalAddress",invalid:!!(null===(m=R.postalAddress)||void 0===m?void 0:m.message),message:null===(f=R.postalAddress)||void 0===f?void 0:f.message,required:!0,maxWidth:"xl"})),(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Suburb, town or city"},N("postalSuburbTownCity")),{},{id:"postalSuburbTownCity",invalid:!!(null===(b=R.postalSuburbTownCity)||void 0===b?void 0:b.message),message:null===(h=R.postalSuburbTownCity)||void 0===h?void 0:h.message,required:!0,maxWidth:"lg"})),(0,g.tZ)(ec.Select,em(em({autoComplete:"on",label:"State or territory"},N("postalState")),{},{id:"postalState",placeholder:"Select",options:[{label:"NSW",value:"nsw"},{label:"QLD",value:"qld"},{label:"ACT",value:"act"},{label:"VIC",value:"vic"},{label:"TAS",value:"tas"},{label:"NT",value:"nt"},{label:"SA",value:"sa"},{label:"WA",value:"wa"}],invalid:!!(null===(y=R.postalState)||void 0===y?void 0:y.message),message:null===(S=R.postalState)||void 0===S?void 0:S.message,required:!0,maxWidth:"sm"})),(0,g.tZ)(F.TextInput,em(em({autoComplete:"on",label:"Postcode"},N("postalPostcode")),{},{id:"postalPostcode",invalid:!!(null===(O=R.postalPostcode)||void 0===O?void 0:O.message),message:null===(Z=R.postalPostcode)||void 0===Z?void 0:Z.message,maxWidth:"sm",required:!0,inputMode:"numeric",pattern:"[0-9]*"}))]})]})})}),(0,g.tZ)(z,{})]})})}var ev=r(90089),eb=r(24953),eh=["ref"];function eg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ey(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eg(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eS(){var e,t,r,i,o,l,d=(0,n.t)(),u=d.formState,c=d.step4SetState,p=d.isSavingBeforeExiting,m=I().submitStep,f=(0,a.cI)({defaultValues:(t=null==(e=null===(i=u.steps)||void 0===i?void 0:i.step4)?void 0:e.registrationExpiry,ey(ey({},e),{},{registrationExpiry:(0,j.LZ)(t)})),resolver:p?void 0:(0,s.F)(W.tU),mode:"onSubmit",reValidateMode:"onBlur"}),b=f.control,h=f.register,y=f.handleSubmit,S=f.formState.errors,O=(r=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!p){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,m();case 4:c(ey(ey({},t),{},{completed:!p,started:!0}));case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),Z=(0,j.nT)(S);return(0,g.tZ)(K,{formTitle:"Vehicle registration",formIntroduction:"Add your vehicle registration details.",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:y(O),noValidate:!0,children:[(0,g.BX)(D.FormStack,{children:[Z&&(0,g.tZ)(et.v,{errors:S}),(0,g.tZ)(F.TextInput,ey(ey({autoComplete:"on",label:"Vehicle registration number",hint:"Enter a plate number, maximum 6 characters. For example ABC123.",id:"registrationNumber"},h("registrationNumber")),{},{invalid:!!(null===(o=S.registrationNumber)||void 0===o?void 0:o.message),message:null===(l=S.registrationNumber)||void 0===l?void 0:l.message,required:!0})),(0,g.tZ)(a.Qr,{control:b,name:"registrationExpiry",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,ev.Z)(n,eh);return(0,g.tZ)(eb.DatePicker,ey(ey({inputRef:i,label:"Registration expiry date"},o),{},{id:"registrationExpiry",invalid:!!(null===(t=S.registrationExpiry)||void 0===t?void 0:t.message),message:null===(r=S.registrationExpiry)||void 0===r?void 0:r.message,required:!0}))}})]}),(0,g.tZ)(z,{})]})})}var eO=r(87913),eZ=r(9242),ew=r(80502),ex=["ref","value","onChange"],eP=["ref"],ek=["ref"];function ej(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ej(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ej(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eC(){var e,t,r,i,o,l,d,u,c,p,m,f=(0,n.t)(),b=f.formState,h=f.step5SetState,y=f.isSavingBeforeExiting,S=I().submitStep,O=(0,a.cI)({defaultValues:(i=null==(e=null===(d=b.steps)||void 0===d?void 0:d.step5)||null===(t=e.tradingPeriod)||void 0===t?void 0:t.from,o=null==e||null===(r=e.tradingPeriod)||void 0===r?void 0:r.to,eB(eB({},e),{},{tradingPeriod:{from:i,to:o}})),resolver:y?void 0:(0,s.F)(W.h9),mode:"onSubmit",reValidateMode:"onBlur"}),Z=O.control,x=O.handleSubmit,k=O.formState.errors,B=(l=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,S();case 4:h(eB(eB({},t),{},{completed:!y,started:!0}));case 5:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),C=(0,j.nT)(k);return(0,g.tZ)(K,{formTitle:"Trading time",formIntroduction:"What times would you like to operate?",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:x(B),noValidate:!0,children:[(0,g.BX)(D.FormStack,{children:[C&&(0,g.tZ)(et.v,{errors:k}),(0,g.tZ)(a.Qr,{control:Z,name:"tradingPeriod",render:function(e){var t,r,n,i,o=e.field,a=o.ref,l=o.value,s=o.onChange,d=(0,ev.Z)(o,ex);return(0,g.tZ)(eO.DateRangePicker,eB(eB({fromInputRef:a},d),{},{id:"tradingPeriod",legend:"Trading period",value:l,onChange:s,onFromInputChange:function(e){return s(eB(eB({},l),{},{from:e}))},onToInputChange:function(e){return s(eB(eB({},l),{},{to:e}))},fromInvalid:!!(null===(t=k.tradingPeriod)||void 0===t||null===(t=t.from)||void 0===t?void 0:t.message),toInvalid:!!(null===(r=k.tradingPeriod)||void 0===r||null===(r=r.to)||void 0===r?void 0:r.message),message:(null===(n=k.tradingPeriod)||void 0===n||null===(n=n.from)||void 0===n?void 0:n.message)||(null===(i=k.tradingPeriod)||void 0===i||null===(i=i.to)||void 0===i?void 0:i.message),required:!0}))}}),(0,g.tZ)(eZ.GroupedFields,{legend:"Hours of operation",hideOptionalLabel:!0,hint:"Provide the time you will open and close. For example, 3:00 pm - enter 12 am for midnight",field1Invalid:!!(null===(u=k.openingTime)||void 0===u?void 0:u.message),field2Invalid:!!(null===(c=k.closingTime)||void 0===c?void 0:c.message),message:(null===(p=k.openingTime)||void 0===p?void 0:p.message)||(null===(m=k.closingTime)||void 0===m?void 0:m.message),children:function(e){var t=e.field1Props,r=e.field2Props;return(0,g.BX)(g.HY,{children:[(0,g.tZ)(a.Qr,{control:Z,name:"openingTime",render:function(e){var r=e.field,n=(r.ref,(0,ev.Z)(r,eP));return(0,g.tZ)(ew.TimeInput,eB(eB(eB({autoComplete:"on",label:"Opening time",id:"openingTime"},n),t),{},{required:!0}))}}),(0,g.tZ)(a.Qr,{control:Z,name:"closingTime",render:function(e){var t=e.field,n=(t.ref,(0,ev.Z)(t,ek));return(0,g.tZ)(ew.TimeInput,eB(eB(eB({autoComplete:"on",label:"Closing time",id:"closingTime"},n),r),{},{required:!0}))}})]})}})]}),(0,g.tZ)(z,{})]})})}var eT=r(47441),eI=["ref"];function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eA(){var e,t,r=(0,n.t)(),i=r.formState,o=r.step6SetState,l=r.isSavingBeforeExiting,d=I().submitStep,u=(0,a.cI)({defaultValues:null===(t=i.steps)||void 0===t?void 0:t.step6,resolver:l?void 0:(0,s.F)(W.h_),mode:"onSubmit",reValidateMode:"onBlur"}),c=u.control,p=u.handleSubmit,m=u.formState.errors,f=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d();case 4:o(eD(eD({},t),{},{completed:!l,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,g.tZ)(K,{formTitle:"Food served",formIntroduction:"What type of food will you be serving?",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:p(f),noValidate:!0,children:[(0,g.tZ)(a.Qr,{control:c,name:"foodServed",render:function(e){var t,r,n=e.field,i=n.ref,o=(0,ev.Z)(n,eI);return(0,g.tZ)(eT.ComboboxMulti,eD(eD({label:"Select food types",hint:"Start typing to see results. You can add multiple selections.",inputRef:i,options:eX,required:!0},o),{},{id:"foodServed",invalid:!!(null===(t=m.foodServed)||void 0===t?void 0:t.message),message:null===(r=m.foodServed)||void 0===r?void 0:r.message,maxWidth:"xl",block:!1}))}}),(0,g.tZ)(z,{})]})})}var eX=[{value:"asian noodle bowls",label:"Asian Noodle Bowls"},{value:"banh mi sandwiches",label:"Banh Mi Sandwiches"},{value:"bbq ribs",label:"BBQ Ribs"},{value:"burgers",label:"Burgers"},{value:"cake",label:"Cake"},{value:"coffee",label:"Coffee"},{value:"cookies",label:"Cookies"},{value:"falafel pitas",label:"Falafel Pitas"},{value:"fish and chips",label:"Fish and Chips"},{value:"fried chicken",label:"Fried Chicken"},{value:"fries",label:"Fries"},{value:"grilled cheese sandwiches",label:"Grilled Cheese Sandwiches"},{value:"ice cream",label:"Ice Cream"},{value:"mexican",label:"Mexican"},{value:"pasta",label:"Pasta"},{value:"pulled pork",label:"Pulled Pork"},{value:"soft drinks",label:"Soft Drinks"},{value:"veggie wraps",label:"Veggie Wraps"}],eN=r(40631),eF=r(38163),eL=r(2924);function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eM(){var e,t=(0,n.t)(),r=t.step7GetState,i=t.step7SetState,a=t.step8GetState,l=t.step8SetState,s=t.isSavingBeforeExiting,d=I().submitStep,c=(0,o.useRouter)().query,p=r(),m=(0,k.useState)(),f=m[0],b=m[1],h=(0,k.useState)(""),y=h[0],S=h[1],O=(0,k.useState)(!1),Z=O[0],x=O[1],j=(0,k.useState)(!1),C=j[0],T=j[1],E=(0,k.useState)(!1),D=E[0],N=E[1],F=c.success?(null==p?void 0:p.employee)&&p.employee.find(function(e){return(null==e?void 0:e.id)===c.success}):void 0,L=(0,k.useState)(!!F),M=L[0],W=L[1];(0,k.useEffect)(function(){W(!!F)},[F]);var V=function(){W(!1),b(void 0)};(0,k.useEffect)(function(){x(!!f),T(!1)},[f]);var H=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!s){e.next=3;break}return e.abrupt("return");case 3:if(!(null!=p&&p.employee&&(null==p?void 0:p.employee.length)===0)){e.next=7;break}return T(!1),N(!0),e.abrupt("return");case 7:return e.next=9,d();case 9:i(eq(eq({},p),{},{completed:!s,started:!0}));case 10:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,g.BX)(K,{formIntroduction:"Add your employee details.",formTitle:"Employees",shouldFocusTitle:!M,children:[(0,g.BX)(v.Stack,{gap:2,children:[D&&(0,g.tZ)(eF.PageAlert,{focusOnMount:!0,title:"No employees added",tone:"error",children:(0,g.tZ)(q.Text,{as:"p",children:"You need to add some staff. You’re amazing, but you can’t do this alone. Life is better with friends and team mates."})}),(0,g.tZ)(A.H2,{id:"list-of-employees",children:"List of employees"}),M&&(0,g.tZ)(X.SectionAlert,{focusOnMount:!0,onClose:function(){return W(!1)},title:"".concat(null==F?void 0:F.firstName," ").concat(null==F?void 0:F.lastName," has been added as an\n							employee"),tone:"success"}),C&&(0,g.tZ)(X.SectionAlert,{focusOnMount:!0,onClose:function(){return T(!1)},title:"".concat(y," has been removed as an\n							employee"),tone:"success"}),null!=p&&p.employee&&p.employee.length>0?(0,g.tZ)(eL.TableWrapper,{children:(0,g.BX)(eL.Table,{"aria-labelledby":"list-of-employees",children:[(0,g.tZ)(eL.TableHead,{children:(0,g.BX)(eL.TableRow,{children:[(0,g.tZ)(eL.TableHeader,{children:"Employee name"}),(0,g.tZ)(eL.TableHeader,{children:"Email address"}),(0,g.tZ)(eL.TableHeader,{children:"Action"})]})}),(0,g.tZ)(eL.TableBody,{children:p.employee.map(function(e){return(null==e?void 0:e.id)&&(0,g.BX)(eL.TableRow,{children:[(0,g.BX)(eL.TableCell,{id:e.id,children:[e.firstName," ",e.lastName]}),(0,g.tZ)(eL.TableCell,{children:e.email}),(0,g.tZ)(eL.TableCell,{children:(0,g.tZ)(u.Button,{"aria-describedby":e.id,onClick:function(){b(e)},variant:"text",children:"Remove"})})]},e.id)})})]})}):(0,g.BX)(v.Stack,{gap:1,children:[(0,g.tZ)(eN.AvatarIcon,{color:"muted",size:"lg"}),(0,g.tZ)(A.H3,{children:"No employees added"}),(0,g.tZ)(q.Text,{as:"p",children:"You must add an employee to proceed."})]}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",href:B[6].items&&B[6].items[0].href,iconBefore:eN.PlusIcon,size:"sm",variant:"secondary",children:"Add employee"})]}),(0,g.tZ)("form",{onSubmit:H,noValidate:!0,children:(0,g.tZ)(z,{})}),(0,g.tZ)(R.Modal,{actions:(0,g.BX)(u.ButtonGroup,{children:[(0,g.tZ)(u.Button,{onClick:function(){i(eq(eq({},p),{},{completed:!1,employee:(null==p?void 0:p.employee)&&p.employee.filter(function(e){return(null==e?void 0:e.id)!==(null==f?void 0:f.id)})})),S("".concat(null==f?void 0:f.firstName," ").concat(null==f?void 0:f.lastName)),V(),setTimeout(function(){var e;T(!0),(null===(e=a())||void 0===e?void 0:e.supervisor)==="".concat(null==f?void 0:f.firstName," ").concat(null==f?void 0:f.lastName)&&l({})},0)},children:"Remove employee"}),(0,g.tZ)(u.Button,{onClick:V,variant:"secondary",children:"Cancel"})]}),isOpen:Z,onClose:V,title:"Are you sure you want to remove ".concat(null==f?void 0:f.firstName," ").concat(null==f?void 0:f.lastName," as an employee?")})]})}var ez=r(44285);function eW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eH(){var e,t,r,i,l,d,c,m=(0,o.useRouter)(),f=(0,n.t)(),b=f.formState,h=f.step7GetState,y=f.step7SetState,S=(0,k.useRef)(crypto.randomUUID()),O=(0,a.cI)({resolver:(0,s.F)(W.xt),mode:"onSubmit",reValidateMode:"onBlur"}),Z=O.register,w=O.handleSubmit,x=O.formState.errors,P=void 0===x?{}:x,C=(0,k.useState)(!1),T=C[0],E=C[1],X=B[6].href,N=(0,j.nT)(P),L=(0,k.useRef)(null);(0,k.useEffect)(function(){var e;null===(e=L.current)||void 0===e||e.focus()},[]);var R=(0,o.useRouter)().pathname,M=I().canConfirmAndSubmit;return(0,g.BX)(V.Columns,{children:[(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,g.tZ)(Y.ProgressIndicator,{activePath:"".concat(B[6].items&&(null===(e=B[6].items[0])||void 0===e?void 0:e.href)),items:B.map(function(e,t){var r,n,i=e.label,o=e.href,a=e.items;return{label:i,href:o,status:(n=B[t]).href===R.replace("/add-employee","")?"started":null!==(r=b.steps)&&void 0!==r&&null!==(r=r[n.formStateKey])&&void 0!==r&&r.completed?"done":"step10"!==n.formStateKey||M?"todo":"blocked",items:6===t?a:void 0}})})}),(0,g.tZ)(V.Column,{columnSpan:{xs:12,md:8},columnStart:{lg:5},children:(0,g.BX)(v.Stack,{alignItems:"flex-start",gap:3,children:[(0,g.tZ)(_.DirectionLink,{direction:"left",href:X,children:"Back"}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H1,{focusRingFor:"keyboard",ref:L,tabIndex:-1,children:"Add employee"}),(0,g.tZ)(q.Text,{as:"p",color:"muted",fontSize:"md",children:"Provide your employee’s name and email."}),(0,g.tZ)(ee.z,{})]}),(0,g.tZ)(v.Stack,{gap:1.5,width:"100%",children:(0,g.BX)(v.Stack,{as:"form",gap:3,noValidate:!0,onSubmit:w(function(e){E(!0),setTimeout(function(){var t;E(!1),y({employee:[].concat((0,ez.Z)((null===(t=h())||void 0===t?void 0:t.employee)||[]),[e.employee]).sort(function(e,t){return!(null!=e&&e.firstName)||!(null!=t&&t.firstName)||!(null!=e&&e.lastName)||!t.lastName||e.firstName.toLowerCase()<t.firstName.toLowerCase()?-1:e.firstName.toLowerCase()>t.firstName.toLowerCase()?1:e.lastName.toLowerCase()<t.lastName.toLowerCase()?-1:e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:0}),completed:!1}),m.push("".concat(X,"?success=").concat(S.current))},1500)}),children:[(0,g.BX)(D.FormStack,{children:[N&&(null==P?void 0:P.employee)&&(0,g.tZ)(et.v,{errors:null==P?void 0:P.employee}),(0,g.tZ)("input",eV(eV({},Z("employee.id")),{},{id:"employee.id",required:!0,type:"hidden",value:S.current})),(0,g.tZ)(F.TextInput,eV(eV({autoComplete:"given-name",label:"First name"},Z("employee.firstName")),{},{id:"employee.firstName",invalid:!!(null==P||null===(t=P.employee)||void 0===t||null===(t=t.firstName)||void 0===t?void 0:t.message),maxWidth:"lg",message:null==P||null===(r=P.employee)||void 0===r||null===(r=r.firstName)||void 0===r?void 0:r.message,required:!0})),(0,g.tZ)(F.TextInput,eV(eV({autoComplete:"family-name",label:"Last name"},Z("employee.lastName")),{},{id:"employee.lastName",invalid:!!(null==P||null===(i=P.employee)||void 0===i||null===(i=i.lastName)||void 0===i?void 0:i.message),maxWidth:"lg",message:null==P||null===(l=P.employee)||void 0===l||null===(l=l.lastName)||void 0===l?void 0:l.message,required:!0})),(0,g.tZ)(F.TextInput,eV(eV({autoComplete:"email",label:"Email address",type:"email"},Z("employee.email")),{},{id:"employee.email",invalid:!!(null==P||null===(d=P.employee)||void 0===d||null===(d=d.email)||void 0===d?void 0:d.message),maxWidth:"xl",message:null==P||null===(c=P.employee)||void 0===c||null===(c=c.email)||void 0===c?void 0:c.message,required:!0}))]}),(0,g.tZ)(p.Divider,{}),(0,g.BX)(u.ButtonGroup,{children:[(0,g.tZ)(u.Button,{loading:T,type:"submit",children:"Add employee"}),(0,g.tZ)(u.Button,{onClick:function(){m.push(X)},variant:"tertiary",children:"Cancel"})]})]})})]})})]})}var e_=r(10043);function eY(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eJ(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eY(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eY(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eK(){var e,t,r,i,o,l,d=(0,n.t)(),u=d.formState,p=d.step1GetState,m=d.step7GetState,b=d.step8SetState,h=d.isSavingBeforeExiting,y=I().submitStep,S=["".concat(null===(t=p())||void 0===t?void 0:t.firstName," ").concat(null===(r=p())||void 0===r?void 0:r.lastName," (Business owner)")].concat((0,ez.Z)((null===(i=m())||void 0===i||null===(i=i.employee)||void 0===i?void 0:i.map(function(e){return"".concat(null==e?void 0:e.firstName," ").concat(null==e?void 0:e.lastName)}))||[])),O=(0,a.cI)({defaultValues:null===(o=u.steps)||void 0===o?void 0:o.step8,resolver:h?void 0:(0,s.F)(W.id),mode:"onSubmit",reValidateMode:"onBlur"}),Z=O.register,x=O.handleSubmit,k=O.formState.errors,j=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!h){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,y();case 4:b(eJ(eJ({},t),{},{completed:!h,started:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)});return(0,g.tZ)(K,{formIntroduction:"Add your employee food safety supervisor.",formTitle:"Food safety supervisor",children:(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:x(j),noValidate:!0,children:[(0,g.tZ)(c.ControlGroup,{block:!0,invalid:!!k.supervisor,label:"Who is the appointed food safety supervisor for this business?",message:null===(l=k.supervisor)||void 0===l?void 0:l.message,required:!0,children:S.map(function(e){return(0,e_.az)(f.Radio,eJ(eJ({},Z("supervisor")),{},{key:e,value:e}),e)})}),(0,g.tZ)(z,{})]})})}var eG=r(11475),eU=r(8447),eQ=r(22874),e$=r(16096),e0=r(13635),e1=r(47123),e2=r(14724),e5=r(77498),e3=(0,k.forwardRef)(function(e,t){var r=e.ariaLabelledby,n=e.documents,i=e.openDrawer,o=e.removeFile,a=e.tableId;return(0,g.tZ)(v.Stack,{gap:.5,children:(0,g.tZ)(eL.TableWrapper,{children:(0,g.BX)(eL.Table,{"aria-labelledby":r,id:a,ref:t,tabIndex:-1,tableLayout:"fixed",children:[(0,g.tZ)(eL.TableHead,{children:(0,g.tZ)(eL.TableRow,{"aria-rowindex":1,children:e4.map(function(e){var t=e.label,r=e.width;return(0,g.tZ)(eL.TableHeader,{scope:"col",width:r,children:t},t)})})}),(0,g.tZ)(eL.TableBody,{children:n.map(function(e,t){var r=e.id,n=e.documentType,a=e.error,l=e.file,s=e.size;return(0,g.BX)(eL.TableRow,{"aria-rowindex":t+2,invalid:a,children:[(0,g.tZ)(eL.TableCell,{as:"th",id:"document-type-".concat(r),scope:"row",children:n}),(0,g.tZ)(eL.TableCell,{children:(0,g.tZ)(q.Text,{breakWords:!0,children:l})}),(0,g.tZ)(eL.TableCell,{children:a?(0,g.tZ)(e5.StatusBadge,{label:"File missing",appearance:"subtle",tone:"errorHigh"}):s}),(0,g.tZ)(eL.TableCell,{children:s?(0,g.tZ)(u.Button,{"aria-describedby":"document-type-".concat(r),focusRingFor:"all",iconBefore:eN.DeleteIcon,onClick:function(){return o(e)},variant:"text",children:"Remove"}):(0,g.tZ)(u.Button,{"aria-describedby":"document-type-".concat(r),focusRingFor:"all",iconBefore:eN.UploadIcon,id:r,onClick:function(){return i({id:r,documentType:n,error:a,file:l,size:s})},variant:"text",children:"Upload"})})]},n)})})]})})})}),e4=[{label:"Document type",width:"16rem"},{label:"File",width:{xs:"10rem",xl:"16rem"}},{label:"Size",width:"10rem"},{label:"Action",width:"8rem"}];function e8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e7(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?e8(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e8(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var e9="upload-documents-heading",e6=[{documentType:"RMS Vehicle registration",file:"",size:"",id:"rms-vehicle-registration",error:!1},{documentType:"Food Safety Supervisor Certificate for Charlie Walker",file:"",size:"",id:"food-safety-certificate",error:!1},{documentType:"Suggested menu or list of foods being sold",file:"",size:"",id:"suggested-menu-or-list-of-foods-being-sold",error:!1}];function te(){var e,t,r,i=(0,n.t)(),o=i.step9GetState,a=i.step9SetState,l=i.isSavingBeforeExiting,s=I().submitStep,u=(0,k.useRef)(null),c=(0,k.useRef)(null),p=(o()||{}).files,m=void 0===p?{}:p,f=(0,k.useState)(e6.map(function(e){var t,r;return e7(e7({},e),{},{file:(null==m||null===(t=m[e.id])||void 0===t?void 0:t.file)||"",size:(null==m||null===(r=m[e.id])||void 0===r?void 0:r.size)||""})})),h=f[0],y=f[1],S=(0,k.useState)(),O=S[0],Z=S[1],x=(0,k.useState)([]),j=x[0],B=x[1],C=(0,eU.useTernaryState)(!1),T=(0,L.Z)(C,3),E=T[0],D=T[1],N=T[2],F=(0,k.useState)([]),R=F[0],M=F[1],W=(0,k.useState)(!1),V=W[0],H=W[1],_=(0,k.useRef)(null),Y=function(){M([]),N(),H(!1)},J=function(){var e=h.map(function(e){return e.file?e:e7(e7({},e),{},{error:!0})}),t=e.reduce(function(e,t){return t.file?e:[].concat((0,ez.Z)(e),[{documentType:t.documentType,href:"#".concat(t.id),message:"".concat(t.documentType," is required"),name:"files"}])},[]);return Z(void 0),y(e),B(t),{hasErrors:e.some(function(e){return e.error})}},G=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t||t.preventDefault(),!l){e.next=3;break}return e.abrupt("return");case 3:if(!J().hasErrors){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,s();case 8:a({files:Object.fromEntries(h.map(function(e){var t=e.file;return[e.id,{file:t,size:e.size}]})),completed:!l});case 9:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),U=O&&!E;return(0,g.BX)(K,{formTitle:"Upload documents",formIntroduction:"Upload all documents listed in the table below.",children:[(0,g.BX)(v.Stack,{gap:2,children:[(0,g.BX)(v.Stack,{gap:1,children:[(0,g.tZ)(d.Box,{css:j.length?void 0:{display:"none"},children:(0,g.tZ)(X.SectionAlert,{focusOnUpdate:j,onClose:function(){return B([])},ref:u,tabIndex:-1,title:"You must provide all documents in the table below",tone:"error",children:(0,g.tZ)(v.Stack,{gap:.5,alignItems:"flex-start",children:(0,g.tZ)(e$.UnorderedList,{children:j.map(function(e){var t=e.href,r=e.message;return(0,g.tZ)(e$.ListItem,{children:(0,g.tZ)(b.TextLink,{href:t,children:r})},t)})})})})}),(0,g.tZ)(d.Box,{css:U?void 0:{display:"none"},children:(0,g.tZ)(X.SectionAlert,{focusOnUpdate:h,onClose:function(){return Z(void 0)},ref:c,tabIndex:-1,title:"".concat(null==O?void 0:O.documentType," updated"),tone:"success",children:(0,g.BX)(q.Text,{as:"p",breakWords:!0,children:[(null===(t=h.find(function(e){return e.id===(null==O?void 0:O.id)}))||void 0===t?void 0:t.file)||"Your file"," ","has been"," ",null!==(r=h.find(function(e){return e.id===(null==O?void 0:O.id)}))&&void 0!==r&&r.file?"added":"removed","."]})})}),(0,g.tZ)(A.H2,{css:e1.visuallyHiddenStyles,id:e9,children:"Upload documents"}),(0,g.tZ)(e3,{ariaLabelledby:e9,documents:h,openDrawer:function(e){B([]),D(),Z(e)},removeFile:function(e){B([]),y(function(t){return t.map(function(t){return(null==e?void 0:e.documentType)===t.documentType?e7(e7({},t),{},{file:"",size:""}):t})}),Z(e)},tableId:"upload-file-table"})]}),(0,g.tZ)(eQ.Drawer,{isOpen:E,onClose:function(){Z(void 0),Y()},title:"Upload documents",actions:(0,g.BX)(eG.ButtonGroup,{children:[(0,g.tZ)(eG.Button,{form:"upload-document-form",onClick:function(){if(!R.length){var e;H(!0),null===(e=_.current)||void 0===e||e.focus();return}y(h.map(function(e){var t;return(null==O?void 0:O.documentType)===e.documentType?e7(e7({},e),{},{file:(null===(t=R[0])||void 0===t?void 0:t.name)||"",size:R[0]?"".concat((0,e2.G)(R[0].size)):"",error:!1}):e})),Y()},children:"Upload file"}),(0,g.tZ)(eG.Button,{onClick:function(){Z(void 0),Y()},variant:"secondary",children:"Cancel"})]}),elementToFocusOnClose:j.length?u.current:U?c.current:void 0,children:(0,g.tZ)(v.Stack,{as:"form",id:"upload-document-form",children:(0,g.tZ)(e0.FileUpload,{accept:["image/jpeg","image/png"],buttonRef:_,hideOptionalLabel:!0,invalid:V,label:"Upload ".concat(null==O?void 0:O.documentType),maxSize:2e3,message:"File is required.",onChange:function(e){M(e),e.length&&H(!1)},required:!0,value:R})})})]}),(0,g.tZ)(v.Stack,{as:"form",gap:3,onSubmit:G,noValidate:!0,children:(0,g.tZ)(z,{})})]})}function tt(){return(0,g.tZ)(eF.PageAlert,{tone:"warning",title:(0,g.tZ)(eF.PageAlertTitle,{as:"h2",children:"This section of the form is not ready to be completed"}),children:(0,g.tZ)(q.Text,{as:"p",children:"Before starting this part of the form, you will need to go back and complete all of the previous sections."})})}var tr=r(39774),tn={name:"1d3w5wq",styles:"width:100%"};function ti(){return(0,g.tZ)("div",{css:tn,children:(0,g.tZ)(X.SectionAlert,{title:"Errors detected. Please edit your answers in this section.",tone:"error"})})}function to(){var e,t,r,i,o,a,l,s,d,c,p,m,f,b,h,y,S,O,Z,w,x,P,k,j,C,T,I,E,D,X,N,F,L,R,q,z,V,H,_,Y,J=(0,n.t)().formState,K={step1:W.Mk.safeParse(null===(e=J.steps)||void 0===e?void 0:e.step1),step2:W.yS.safeParse(null===(t=J.steps)||void 0===t?void 0:t.step2),step3:W.L3.safeParse(null===(r=J.steps)||void 0===r?void 0:r.step3),step4:W.tU.safeParse(null===(i=J.steps)||void 0===i?void 0:i.step4),step5:W.h9.safeParse(null===(o=J.steps)||void 0===o?void 0:o.step5),step6:W.h_.safeParse(null===(a=J.steps)||void 0===a?void 0:a.step6),step7:{success:null===(l=J.steps)||void 0===l||null===(l=l.step7)||void 0===l||null===(l=l.employee)||void 0===l?void 0:l.every(function(e){return W.xt.safeParse(e)})},step8:W.id.safeParse(null===(s=J.steps)||void 0===s?void 0:s.step8),step9:W.q0.safeParse(null===(d=J.steps)||void 0===d?void 0:d.step9)};return(0,g.BX)(v.Stack,{gap:3,children:[(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[0].label}),K.step1.success?(0,g.BX)(tr.xL,{children:[(0,g.tZ)(tr.VY,{label:"First name",value:null===(c=J.steps)||void 0===c||null===(c=c.step1)||void 0===c?void 0:c.firstName}),(0,g.tZ)(tr.VY,{label:"Last name",value:null===(p=J.steps)||void 0===p||null===(p=p.step1)||void 0===p?void 0:p.lastName}),(0,g.tZ)(tr.VY,{label:"Email address",value:null===(m=J.steps)||void 0===m||null===(m=m.step1)||void 0===m?void 0:m.email}),(0,g.tZ)(tr.VY,{label:"Contact phone number",value:null===(f=J.steps)||void 0===f||null===(f=f.step1)||void 0===f?void 0:f.contactPhoneNumber})]}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[0].href,children:"Change owner details"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[1].label}),K.step2.success?(0,g.BX)(tr.xL,{children:[(0,g.tZ)(tr.VY,{label:"Business name",value:null===(b=J.steps)||void 0===b||null===(b=b.step2)||void 0===b?void 0:b.businessName}),(0,g.tZ)(tr.VY,{label:"Trading name",value:null===(h=J.steps)||void 0===h||null===(h=h.step2)||void 0===h?void 0:h.tradingName}),(0,g.tZ)(tr.VY,{label:"Business structure",value:null===(y=J.steps)||void 0===y||null===(y=y.step2)||void 0===y?void 0:y.businessStructure}),(null===(S=J.steps)||void 0===S||null===(S=S.step2)||void 0===S?void 0:S.businessStructure)==="Business"?(0,g.tZ)(tr.VY,{label:"Australian Business Number (ABN)",value:null===(O=J.steps)||void 0===O||null===(O=O.step2)||void 0===O?void 0:O.abn}):(null===(Z=J.steps)||void 0===Z||null===(Z=Z.step2)||void 0===Z?void 0:Z.businessStructure)==="Company"?(0,g.tZ)(tr.VY,{label:"Australian Company Number (ACN)",value:null===(w=J.steps)||void 0===w||null===(w=w.step2)||void 0===w?void 0:w.acn}):null]}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[1].href,children:"Change business details"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[2].label}),K.step3.success?(0,g.BX)(tr.xL,{children:[(0,g.tZ)(tr.Zu,{label:"Street address",address:null===(x=J.steps)||void 0===x||null===(x=x.step3)||void 0===x?void 0:x.streetAddress,suburb:null===(P=J.steps)||void 0===P||null===(P=P.step3)||void 0===P?void 0:P.suburbTownCity,state:null===(k=J.steps)||void 0===k||null===(k=k.step3)||void 0===k?void 0:k.state,postcode:null===(j=J.steps)||void 0===j||null===(j=j.step3)||void 0===j?void 0:j.postcode}),null!==(C=J.steps)&&void 0!==C&&null!==(C=C.step3)&&void 0!==C&&C.isPostalAddressSameAsBusinessAddress?(0,g.tZ)(tr.VY,{label:"Postal address",value:"Same as street address"}):(0,g.tZ)(tr.Zu,{label:"Postal address",address:null===(T=J.steps)||void 0===T||null===(T=T.step3)||void 0===T?void 0:T.postalAddress,suburb:null===(I=J.steps)||void 0===I||null===(I=I.step3)||void 0===I?void 0:I.postalSuburbTownCity,state:null===(E=J.steps)||void 0===E||null===(E=E.step3)||void 0===E?void 0:E.postalState,postcode:null===(D=J.steps)||void 0===D||null===(D=D.step3)||void 0===D?void 0:D.postalPostcode})]}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[2].href,children:"Change business address"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[3].label}),K.step4.success?(0,g.BX)(tr.xL,{children:[(0,g.tZ)(tr.VY,{label:"Vehicle registration number",value:null===(X=J.steps)||void 0===X||null===(X=X.step4)||void 0===X?void 0:X.registrationNumber}),(0,g.tZ)(tr.ge,{label:"Registration expiry date",value:null===(N=J.steps)||void 0===N||null===(N=N.step4)||void 0===N?void 0:N.registrationExpiry})]}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[3].href,children:"Change vehicle registration"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[4].label}),K.step5.success?(0,g.BX)(tr.xL,{children:[(0,g.tZ)(tr._c,{fromLabel:"Start date",fromValue:null===(F=J.steps)||void 0===F||null===(F=F.step5)||void 0===F||null===(F=F.tradingPeriod)||void 0===F?void 0:F.from,toLabel:"End date",toValue:null===(L=J.steps)||void 0===L||null===(L=L.step5)||void 0===L||null===(L=L.tradingPeriod)||void 0===L?void 0:L.to}),(0,g.tZ)(tr.VY,{label:"Trading hours",value:"".concat(null===(R=J.steps)||void 0===R||null===(R=R.step5)||void 0===R||null===(R=R.openingTime)||void 0===R?void 0:R.formatted," - ").concat(null===(q=J.steps)||void 0===q||null===(q=q.step5)||void 0===q||null===(q=q.closingTime)||void 0===q?void 0:q.formatted)})]}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[4].href,children:"Change trading time"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[5].label}),K.step6.success?(0,g.tZ)(tr.xL,{children:(0,g.tZ)(tr.VY,{label:"Food served",value:null===(z=J.steps)||void 0===z||null===(z=z.step6)||void 0===z||null===(z=z.foodServed)||void 0===z?void 0:z.map(function(e){return null==e?void 0:e.label}).join(", ")})}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[5].href,children:"Change food served"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{id:"employees-heading",children:B[6].label}),K.step7.success?(0,g.tZ)(eL.TableWrapper,{children:(0,g.BX)(eL.Table,{"aria-labelledby":"employees-heading",children:[(0,g.tZ)(eL.TableHead,{children:(0,g.BX)(eL.TableRow,{children:[(0,g.tZ)(eL.TableHeader,{width:"33%",children:"Employee name"}),(0,g.tZ)(eL.TableHeader,{children:"Email address"})]})}),(0,g.tZ)(eL.TableBody,{children:null===(V=J.steps)||void 0===V||null===(V=V.step7)||void 0===V||null===(V=V.employee)||void 0===V?void 0:V.map(function(e){return(null==e?void 0:e.id)&&(0,g.BX)(eL.TableRow,{children:[(0,g.BX)(eL.TableCell,{children:[e.firstName," ",e.lastName]}),(0,g.tZ)(eL.TableCell,{children:e.email})]},e.id)})})]})}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[6].href,children:"Change employees"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[7].label}),K.step8.success?(0,g.tZ)(tr.xL,{children:(0,g.tZ)(tr.VY,{label:"Food safety supervisor",value:null===(H=J.steps)||void 0===H||null===(H=H.step8)||void 0===H?void 0:H.supervisor})}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[7].href,children:"Change food safety supervisor"})]}),(0,g.BX)(v.Stack,{gap:1.5,children:[(0,g.tZ)(A.H2,{children:B[8].label}),K.step9.success?(0,g.tZ)(tr.xL,{children:(0,g.tZ)(tr.VY,{label:"Documents",value:(0,g.tZ)("ul",{css:(0,e_.iv)({display:"flex",flexDirection:"column",gap:(0,M.mapSpacing)(.5),margin:0,paddingLeft:(0,M.mapSpacing)(1)},"",""),children:null===(_=Object.values((null===(Y=J.steps)||void 0===Y||null===(Y=Y.step9)||void 0===Y?void 0:Y.files)||{}))||void 0===_?void 0:_.map(function(e,t){return(0,g.tZ)("li",{children:"".concat((null==e?void 0:e.file)||""," (").concat(e.size,")")},t)})})})}):(0,g.tZ)(ti,{}),(0,g.tZ)(u.ButtonLink,{alignSelf:"start",variant:"text",href:B[8].href,children:"Change documents"})]})]})}function ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(r),!0).forEach(function(t){(0,i.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ta(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ts(){var e,t,r,i,o=(0,n.t)(),l=o.isSavingBeforeExiting,d=o.step10SetState,u=I(),p=u.submitStep,m=u.canConfirmAndSubmit,f=(0,a.cI)({resolver:(0,s.F)(W.uP),mode:"onSubmit",reValidateMode:"onBlur"}),h=f.register,y=f.handleSubmit,S=f.formState.errors,O=(e=(0,w.Z)(P().mark(function e(t){return P().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p();case 4:d(tl(tl({},t),{},{completed:!0}));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)}),Z=Object.keys(S).length>1;return(0,g.tZ)(K,{formTitle:"Review and submit",formIntroduction:"Check and confirm all details on this page.",hideRequiredFieldsMessage:!0,children:m?(0,g.BX)(k.Fragment,{children:[(0,g.tZ)(to,{}),(0,g.BX)(v.Stack,{as:"form",gap:3,onSubmit:y(O),noValidate:!0,children:[(0,g.BX)(D.FormStack,{children:[(0,g.tZ)(A.H2,{children:"Declaration"}),(0,g.BX)(q.Text,{as:"p",children:["You must agree to the"," ",(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Terms of Use"}),", the"," ",(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Privacy Policy"})," ","and the"," ",(0,g.tZ)(b.TextLinkExternal,{href:"/not-found",children:"Privacy Notice"})," ","to continue."]}),(0,g.BX)(c.ControlGroup,{id:"checkbox",invalid:Z||!!(S.declaration1||S.declaration2||S.declaration3),message:Z?"Accept all declarations to continue":(null===(t=S.declaration1)||void 0===t?void 0:t.message)||(null===(r=S.declaration2)||void 0===r?void 0:r.message)||(null===(i=S.declaration3)||void 0===i?void 0:i.message),required:!0,block:!0,children:[(0,g.tZ)(ed.Checkbox,tl(tl({},h("declaration1")),{},{children:"I have read, understood and agree to be bound by the Terms of Use, The Privacy Policy and the Privacy notice."})),(0,g.tZ)(ed.Checkbox,tl(tl({},h("declaration2")),{},{children:"I understand and agree that any information I provide to the Export Service may be used in relation to other Services in order to improve the Export Service experience."})),(0,g.tZ)(ed.Checkbox,tl(tl({},h("declaration3")),{},{children:"I understand and consent to the Department using the personal information, sensitive information, and/or relevant information (within the meaning of the Export Control Act 2020 (Cth) and the Privacy Act 1988 (Cth)) I provide for the purposes of facilitating my access to, and ability to perform export activities in, the Export Service."}))]})]}),(0,g.tZ)(z,{submitText:"Submit application"})]})]}):(0,g.tZ)(tt,{})})}},40582:function(e,t,r){r.d(t,{D5:function(){return a},L3:function(){return s},Mk:function(){return o},P$:function(){return h},Qu:function(){return g},h9:function(){return c},h_:function(){return p},id:function(){return f},pp:function(){return y},q0:function(){return v},tU:function(){return d},uP:function(){return b},xt:function(){return m},yS:function(){return l}});var n=r(84200),i=r(87672),o=n.z.object({firstName:(0,i.Jg)("Enter your first name"),lastName:(0,i.Jg)("Enter your last name"),email:(0,i.Jg)("Enter your email address").email("Enter a valid email address"),contactPhoneNumber:(0,i.jF)()}),a=n.z.object({contactPhoneNumber:(0,i.jF)()}),l=n.z.object({businessName:(0,i.Jg)("Business or company name is required"),tradingName:(0,i.ly)(),businessStructure:(0,i.Jg)("Business structure is required"),abn:(0,i.ly)(),acn:(0,i.ly)()}).refine(function(e){return"Business"!==e.businessStructure||!!e.abn},{path:["abn"],message:"ABN is required"}).refine(function(e){return"Company"!==e.businessStructure||!!e.acn},{path:["acn"],message:"ACN is required"}),s=n.z.object({streetAddress:(0,i.Jg)("Enter your street address"),suburbTownCity:(0,i.Jg)("Enter your suburb, town or city"),state:(0,i.Jg)("Enter your state"),postcode:(0,i.Jg)("Enter your postcode").length(4,{message:"An Australian postcode is 4 digits long"}),isPostalAddressSameAsBusinessAddress:n.z.boolean(),postalAddress:(0,i.ly)(),postalSuburbTownCity:(0,i.ly)(),postalState:(0,i.ly)(),postalPostcode:(0,i.ly)()}).superRefine(function(e,t){function r(e,r,i){t.addIssue({code:n.NL.invalid_string,message:i||"Enter your ".concat(r),validation:{includes:""},path:[e]})}e.isPostalAddressSameAsBusinessAddress||(e.postalAddress||r("postalAddress","postal address"),e.postalSuburbTownCity||r("postalSuburbTownCity","suburb, town or city"),e.postalState||r("postalState","state"),e.postalPostcode?4!==e.postalPostcode.length&&r("postalPostcode","postcode","An Australian postcode is 4 digits long"):r("postalPostcode","postcode"))}),d=n.z.object({registrationNumber:(0,i.Jg)("Vehicle registration number is required").max(6,"Registration number can not be longer than 6 characters"),registrationExpiry:(0,i.MG)("Registration expiry date is required")}),u="Trading start and end date is required",c=n.z.object({tradingPeriod:n.z.object({from:(0,i.MG)(u),to:(0,i.MG)(u)}),openingTime:(0,i.AY)({label:"Opening time"}),closingTime:(0,i.AY)({label:"Closing time"})}).refine(function(e){var t=e.tradingPeriod||{},r=t.from,n=t.to;return!r||!n||r<=n},{message:"Start date must be before the end date"}),p=n.z.object({foodServed:(0,i.b5)(n.z.object({label:(0,i.Jg)(),value:(0,i.Jg)()}),"Food types is required")}),m=n.z.object({employee:n.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("Enter employee’s first name"),lastName:(0,i.Jg)("Enter employee’s last name"),email:(0,i.Jg)("Enter employee’s email address").email("Enter a valid email address")})}),f=n.z.object({supervisor:(0,i.Jg)("Food safety supervisor is required")}),v=n.z.object({files:n.z.object({"rms-vehicle-registration":n.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()}),"food-safety-certificate":n.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()}),"suggested-menu-or-list-of-foods-being-sold":n.z.object({file:(0,i.Jg)(),size:(0,i.Jg)()})})}),b=n.z.object({declaration1:n.z.boolean().refine(function(e){return e},"Accept the first declaration to continue"),declaration2:n.z.boolean().refine(function(e){return e},"Accept the second declaration to continue"),declaration3:n.z.boolean().refine(function(e){return e},"Accept the third declaration to continue")}),h={step1:{firstName:"Charlie",lastName:"Walker",email:"c.walker@email.com",completed:!1},step3:{isPostalAddressSameAsBusinessAddress:!0,completed:!1},step7:{employee:[]},step9:{files:{"rms-vehicle-registration":{file:"",size:""},"food-safety-certificate":{file:"",size:""},"suggested-menu-or-list-of-foods-being-sold":{file:"",size:""}}}},g=n.z.object({id:(0,i.Jg)(),firstName:(0,i.Jg)("Enter employee’s first name"),lastName:(0,i.Jg)("Enter employee’s last name"),email:(0,i.Jg)("Enter employee’s email address").email("Enter a valid email address"),mobile:(0,i.Jg)("Enter employee’s mobile number"),role:n.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Please choose a role"}}}),trainingCompleted:n.z.array(n.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))}),y=n.z.object({role:n.z.enum(["Manager","Employee","Trainee","Work experience"],{errorMap:function(){return{message:"Please choose a role"}}}),trainingCompleted:n.z.array(n.z.enum(["Deliveries","Distribution","Ice cream making","Packaging"]))})},75807:function(e,t,r){r.d(t,{Hv:function(){return d},LZ:function(){return a},aq:function(){return s},nT:function(){return l},uY:function(){return u}});var n=r(68301),i=r(73809),o=r(44720);function a(e){if("string"==typeof e){var t=(0,i.Z)(e);return(0,o.Z)(t)?t:void 0}return e}function l(e){return Object.keys(e).length>1}n.hT().transform(function(e,t){return"string"==typeof t?t:e}).typeError("Enter a valid date"),n.Z_().transform(function(e){return e.replace(/\s/g,"")}).matches(/^\d+$/,{excludeEmptyString:!0,message:"Phone number must not include letters or symbols"}).matches(/^0\d+$/,{excludeEmptyString:!0,message:"Mobile numbers must begin with '04', landline numbers must begin with an area code"}).length(10,"Phone number must be 10 digits");var s="/app/licences-and-permits/apply/mobile-food-vendor-permit",d="/app/licences-and-permits";function u(e){var t,r=e.currentStepIndex,n=e.id;return(null===(t=e.steps[r+1])||void 0===t?void 0:t.href)||"/app/licences-and-permits/apply/mobile-food-vendor-permit/success?id=".concat(n)}}}]);