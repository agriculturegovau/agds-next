{"version":3,"file":"MainNav-6c18c1c9.js","sources":["../../../../packages/react/src/main-nav/utils.ts","../../../../packages/react/src/main-nav/MenuButtons.tsx","../../../../packages/react/src/main-nav/NavContainer.tsx","../../../../packages/react/src/main-nav/NavListItem.tsx","../../../../packages/react/src/main-nav/NavList.tsx","../../../../packages/react/src/main-nav/MainNav.tsx"],"sourcesContent":["import { NavListLink, NavListItem } from './NavList';\n\nexport const bottomBarPadding = 0.5;\n\nexport const hoverMap = {\n\tbody: 'shade',\n\tbodyAlt: 'shadeAlt',\n} as const;\n\nexport type MainNavBackground = keyof typeof hoverMap;\n\nexport const localPaletteVars = {\n\tlinkHoverBg: '--nav-linkHoverBg',\n\tlinkActiveBg: '--nav-linkActiveBg',\n\tbottomBar: '--nav-bottomBar',\n};\nexport const localPalette = {\n\tlinkHoverBg: `var(${localPaletteVars.linkHoverBg})`,\n\tlinkActiveBg: `var(${localPaletteVars.linkActiveBg})`,\n\tbottomBar: `var(${localPaletteVars.bottomBar})`,\n};\n\nexport function findBestMatch(items: NavListItem[], activePath?: string) {\n\tif (!activePath) return '';\n\n\tconst links = items.filter(\n\t\t(item) => 'href' in item && item.href\n\t) as (NavListLink & { href: string })[];\n\n\tlet bestMatch = '';\n\n\tfor (const link of links) {\n\t\tif (link.href === activePath) return link.href;\n\t\tif (\n\t\t\tactivePath?.startsWith(link.href) &&\n\t\t\tlink.href !== '/' &&\n\t\t\tlink.href.length > bestMatch.length\n\t\t) {\n\t\t\tbestMatch = link.href;\n\t\t}\n\t}\n\n\treturn bestMatch;\n}\n","import { MouseEventHandler, PropsWithChildren } from 'react';\nimport { BaseButton } from '../button';\nimport { Box, Flex } from '../box';\nimport { boxPalette } from '../core';\nimport { localPalette } from './utils';\n\nexport type MainNavButtonProps = PropsWithChildren<{\n\tonClick: MouseEventHandler<HTMLButtonElement>;\n}>;\n\nfunction MainNavButton({ onClick, children, ...props }: MainNavButtonProps) {\n\treturn (\n\t\t<Box paddingBottom={0.5} display={{ xs: 'block', lg: 'none' }}>\n\t\t\t<Flex\n\t\t\t\tas={BaseButton}\n\t\t\t\tflexDirection=\"column\"\n\t\t\t\tjustifyContent=\"center\"\n\t\t\t\talignItems=\"center\"\n\t\t\t\tfontSize=\"xs\"\n\t\t\t\tlineHeight=\"nospace\"\n\t\t\t\tgap={0.5}\n\t\t\t\tpadding={1}\n\t\t\t\theight=\"100%\"\n\t\t\t\tfocus\n\t\t\t\tcss={{\n\t\t\t\t\tcolor: boxPalette.foregroundAction,\n\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\tcolor: boxPalette.foregroundText,\n\t\t\t\t\t\tbackgroundColor: localPalette.linkHoverBg,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\tonClick={onClick}\n\t\t\t\t{...props}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</Flex>\n\t\t</Box>\n\t);\n}\n\nexport function OpenButton({ onClick }: MainNavButtonProps) {\n\treturn (\n\t\t<MainNavButton\n\t\t\tonClick={onClick}\n\t\t\taria-controls=\"main-nav-dialog\"\n\t\t\taria-expanded=\"false\"\n\t\t\taria-label=\"Open main menu\"\n\t\t>\n\t\t\t<svg\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"currentcolor\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tfocusable=\"false\"\n\t\t\t>\n\t\t\t\t<rect x=\"4\" y=\"16\" width=\"16\" height=\"2\" />\n\t\t\t\t<rect x=\"4\" y=\"11\" width=\"16\" height=\"2\" />\n\t\t\t\t<rect x=\"4\" y=\"6\" width=\"16\" height=\"2\" />\n\t\t\t</svg>\n\t\t\tMenu\n\t\t</MainNavButton>\n\t);\n}\n\nexport function CloseButton({ onClick }: MainNavButtonProps) {\n\treturn (\n\t\t<MainNavButton\n\t\t\tonClick={onClick}\n\t\t\taria-controls=\"main-nav-dialog\"\n\t\t\taria-expanded=\"true\"\n\t\t\taria-label=\"Close main menu\"\n\t\t>\n\t\t\t<svg\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"currentcolor\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t\tfocusable=\"false\"\n\t\t\t>\n\t\t\t\t<rect\n\t\t\t\t\tx=\"6\"\n\t\t\t\t\ty=\"17.3137\"\n\t\t\t\t\twidth=\"16\"\n\t\t\t\t\theight=\"2\"\n\t\t\t\t\ttransform=\"rotate(-45 6 17.3137)\"\n\t\t\t\t/>\n\t\t\t\t<rect\n\t\t\t\t\tx=\"7.41406\"\n\t\t\t\t\ty=\"6\"\n\t\t\t\t\twidth=\"16\"\n\t\t\t\t\theight=\"2\"\n\t\t\t\t\ttransform=\"rotate(45 7.41406 6)\"\n\t\t\t\t/>\n\t\t\t</svg>\n\t\t\tClose\n\t\t</MainNavButton>\n\t);\n}\n","import {\n\tPropsWithChildren,\n\tReactNode,\n\tMouseEventHandler,\n\tuseEffect,\n\tuseRef,\n} from 'react';\nimport { createPortal } from 'react-dom';\nimport FocusLock from 'react-focus-lock';\nimport { Global } from '@emotion/react';\nimport { Box, Flex, backgroundColorMap } from '../box';\nimport {\n\tboxPalette,\n\tuseTernaryState,\n\tmapSpacing,\n\ttokens,\n\tuseWindowSize,\n\tpacks,\n\tuseBoxPalette,\n\tBoxPalette,\n} from '../core';\nimport {\n\thoverMap,\n\tMainNavBackground,\n\tlocalPalette,\n\tlocalPaletteVars,\n\tbottomBarPadding,\n} from './utils';\nimport { CloseButton, OpenButton } from './MenuButtons';\n\nexport type NavContainerProps = PropsWithChildren<{\n\tbackground?: MainNavBackground;\n\thasItems?: boolean;\n\tid?: string;\n\trightContent?: ReactNode;\n}>;\n\nexport function NavContainer({\n\tid,\n\trightContent,\n\tchildren,\n\tbackground = 'body',\n\thasItems,\n}: NavContainerProps) {\n\tconst containerRef = useRef<HTMLDivElement>(null);\n\tconst hover = hoverMap[background];\n\n\tconst { windowWidth } = useWindowSize();\n\tconst [menuOpen, open, close] = useTernaryState(false);\n\n\tconst menuVisiblyOpen =\n\t\tmenuOpen && (windowWidth || 0) <= tokens.breakpoint.lg - 1;\n\n\t// As the main nav element sometimes renders in a portal for a11y reasons, we need to know about the current box palette\n\tconst palette = useBoxPalette(containerRef);\n\n\treturn (\n\t\t<Box\n\t\t\tid={id}\n\t\t\ttabIndex={-1}\n\t\t\tref={containerRef}\n\t\t\tbackground={background}\n\t\t\tcolor=\"text\"\n\t\t\tcss={{\n\t\t\t\tposition: 'relative',\n\t\t\t\t'&:focus': { outline: 'none' },\n\t\t\t\t[localPaletteVars.linkHoverBg]: backgroundColorMap[hover],\n\t\t\t\t[localPaletteVars.linkActiveBg]: backgroundColorMap[background],\n\t\t\t\t[localPaletteVars.bottomBar]: boxPalette.accent,\n\t\t\t\t...packs.print.hidden,\n\t\t\t}}\n\t\t>\n\t\t\t{menuVisiblyOpen ? <LockScroll /> : null}\n\t\t\t<BottomBar />\n\t\t\t<Flex justifyContent=\"center\" css={{ position: 'relative' }}>\n\t\t\t\t<Flex\n\t\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\tmaxWidth={tokens.maxWidth.container}\n\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\tpaddingX={{ xs: 0.75, lg: 2 }}\n\t\t\t\t>\n\t\t\t\t\t{hasItems ? <OpenButton onClick={open} /> : null}\n\t\t\t\t\t<NavContainerDialog\n\t\t\t\t\t\tpalette={palette}\n\t\t\t\t\t\tmenuVisiblyOpen={menuVisiblyOpen}\n\t\t\t\t\t\tclose={close}\n\t\t\t\t\t>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t</NavContainerDialog>\n\t\t\t\t\t{rightContent}\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t\t{menuVisiblyOpen ? <Overlay onClick={close} /> : null}\n\t\t</Box>\n\t);\n}\n\ntype NavContainerDialogProps = PropsWithChildren<{\n\tclose: () => void;\n\tmenuVisiblyOpen: boolean;\n\tpalette?: BoxPalette;\n}>;\n\nfunction NavContainerDialog({\n\tchildren,\n\tclose,\n\tmenuVisiblyOpen,\n\tpalette,\n}: NavContainerDialogProps) {\n\tconst dialogRef = useRef<HTMLDivElement>(null);\n\n\t// Close the component when the user presses the escape key\n\tuseEffect(() => {\n\t\tconst handleKeyDown = (e: KeyboardEvent) => {\n\t\t\tif (e.code === 'Escape') {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tclose();\n\t\t\t}\n\t\t};\n\t\twindow.addEventListener('keydown', handleKeyDown);\n\t\treturn () => window.removeEventListener('keydown', handleKeyDown);\n\t}, [close]);\n\n\t// The following `useEffect` will add `aria-hidden=\"true\"` to every direct child of the `body` element when the modal is opened.\n\t// This is because `aria-modal` is not yet supported by all browsers (https://a11ysupport.io/tech/aria/aria-modal_attribute).\n\t// This fixes a bug in certain devices where focus is not trapped correctly such as VoiceOver on iOS.\n\t// This has been inspired by Reach UI (https://github.com/reach/reach-ui/blob/main/packages/dialog/src/index.tsx)\n\tuseEffect(() => {\n\t\tif (!menuVisiblyOpen || !dialogRef.current) return;\n\n\t\tconst rootNodes: Element[] = [];\n\t\tconst originalAttrs: (string | null)[] = [];\n\n\t\tdocument.querySelectorAll('body > *').forEach(function (node) {\n\t\t\tif (node === dialogRef.current) return;\n\t\t\tconst attr = node.getAttribute('aria-hidden');\n\t\t\tconst alreadyHidden = attr !== null && attr !== 'false';\n\t\t\tif (alreadyHidden) return;\n\t\t\trootNodes.push(node);\n\t\t\toriginalAttrs.push(attr);\n\t\t\tnode.setAttribute('aria-hidden', 'true');\n\t\t});\n\n\t\treturn () => {\n\t\t\trootNodes.forEach((node, index) => {\n\t\t\t\tconst originalValue = originalAttrs[index];\n\t\t\t\tif (originalValue === null) {\n\t\t\t\t\tnode.removeAttribute('aria-hidden');\n\t\t\t\t} else {\n\t\t\t\t\tnode.setAttribute('aria-hidden', originalValue);\n\t\t\t\t}\n\t\t\t});\n\t\t};\n\t}, [menuVisiblyOpen]);\n\n\tconst element = (\n\t\t<Box\n\t\t\tpalette={palette}\n\t\t\tref={dialogRef}\n\t\t\t{...(menuVisiblyOpen\n\t\t\t\t? {\n\t\t\t\t\t\trole: 'dialog',\n\t\t\t\t\t\t'aria-label': 'Main navigation',\n\t\t\t\t\t\t'aria-modal': 'true',\n\t\t\t\t  }\n\t\t\t\t: null)}\n\t\t\tid=\"main-nav-dialog\"\n\t\t\tcss={{\n\t\t\t\t[tokens.mediaQuery.max.md]: {\n\t\t\t\t\tzIndex: 200,\n\t\t\t\t\tposition: 'fixed',\n\t\t\t\t\tdisplay: menuVisiblyOpen ? 'block' : 'none',\n\t\t\t\t\tbackground: boxPalette.backgroundBody,\n\t\t\t\t\ttop: 0,\n\t\t\t\t\tleft: 0,\n\t\t\t\t\tbottom: 0,\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\tmaxWidth: tokens.maxWidth.mobileMenu,\n\t\t\t\t\tpadding: mapSpacing(1),\n\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\toverflowY: 'auto',\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<FocusLock returnFocus disabled={!menuVisiblyOpen}>\n\t\t\t\t<CloseButton onClick={close} />\n\t\t\t\t{children}\n\t\t\t</FocusLock>\n\t\t</Box>\n\t);\n\n\tif (menuVisiblyOpen) {\n\t\treturn createPortal(element, document.body);\n\t}\n\n\treturn element;\n}\n\nfunction LockScroll() {\n\treturn <Global styles={{ body: { overflow: 'hidden' } }} />;\n}\n\nfunction Overlay({ onClick }: { onClick: MouseEventHandler<HTMLDivElement> }) {\n\treturn (\n\t\t<Box\n\t\t\tcss={{\n\t\t\t\tposition: 'fixed',\n\t\t\t\ttop: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbackgroundColor: `rgba(0, 0, 0, 0.8)`,\n\t\t\t\tzIndex: 100,\n\t\t\t}}\n\t\t\tonClick={onClick}\n\t\t/>\n\t);\n}\n\nfunction BottomBar() {\n\treturn (\n\t\t<Box\n\t\t\tpaddingTop={bottomBarPadding}\n\t\t\tcss={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\tbottom: 0,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\tbackgroundColor: localPalette.bottomBar,\n\t\t\t}}\n\t\t/>\n\t);\n}\n","import type { PropsWithChildren } from 'react';\nimport { boxPalette, mapSpacing, mq, mapResponsiveProp, packs } from '../core';\nimport { Flex } from '../box';\nimport { localPalette } from './utils';\n\ntype NavListType = 'primary' | 'secondary';\n\nexport type NavItemProps = PropsWithChildren<{\n\tactive: boolean;\n\thasEndElement: boolean;\n\ttype: NavListType;\n}>;\n\nexport function NavListItem({\n\tactive,\n\tchildren,\n\thasEndElement,\n\ttype,\n}: NavItemProps) {\n\treturn (\n\t\t<Flex\n\t\t\tas=\"li\"\n\t\t\theight=\"100%\"\n\t\t\tpaddingBottom={type === 'primary' ? { lg: 0.5 } : 0.5}\n\t\t\tfontSize={{ xs: 'xs', lg: 'sm' }}\n\t\t\tcss={[\n\t\t\t\tmq({\n\t\t\t\t\t' a, button': {\n\t\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tflexDirection:\n\t\t\t\t\t\t\ttype === 'primary'\n\t\t\t\t\t\t\t\t? 'row'\n\t\t\t\t\t\t\t\t: mapResponsiveProp({\n\t\t\t\t\t\t\t\t\t\txs: 'column-reverse',\n\t\t\t\t\t\t\t\t\t\tlg: 'row',\n\t\t\t\t\t\t\t\t  }),\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tjustifyContent:\n\t\t\t\t\t\t\ttype === 'primary'\n\t\t\t\t\t\t\t\t? 'space-between'\n\t\t\t\t\t\t\t\t: hasEndElement\n\t\t\t\t\t\t\t\t? 'space-between'\n\t\t\t\t\t\t\t\t: 'center',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\tgap: mapSpacing(0.5),\n\t\t\t\t\t\tcolor: boxPalette[active ? 'foregroundText' : 'foregroundAction'],\n\t\t\t\t\t\tpadding: mapSpacing(1),\n\t\t\t\t\t\ttextDecoration: 'none',\n\t\t\t\t\t\tfontWeight:\n\t\t\t\t\t\t\ttype === 'primary'\n\t\t\t\t\t\t\t\t? mapResponsiveProp({\n\t\t\t\t\t\t\t\t\t\txs: active ? 'bold' : undefined,\n\t\t\t\t\t\t\t\t\t\tlg: 'normal',\n\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t: 'normal',\n\n\t\t\t\t\t\t// Underline overlay for active menu item\n\t\t\t\t\t\t'&:after': {\n\t\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\ttype === 'primary'\n\t\t\t\t\t\t\t\t\t? mapResponsiveProp({ xs: undefined, lg: '\"\"' })\n\t\t\t\t\t\t\t\t\t: \"''\",\n\t\t\t\t\t\t\theight: mapSpacing(0.5),\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: '100%',\n\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\tbackgroundColor: active\n\t\t\t\t\t\t\t\t? localPalette.linkActiveBg\n\t\t\t\t\t\t\t\t: 'transparent',\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t// Focus styles\n\t\t\t\t\t\t'&:focus': {\n\t\t\t\t\t\t\toutline: 'none',\n\n\t\t\t\t\t\t\t'&:before': {\n\t\t\t\t\t\t\t\tcontent: '\"\"',\n\t\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t\tzIndex: 100,\n\t\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t...packs.outline,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t'&::-moz-focus-inner': {\n\t\t\t\t\t\t\t\tborder: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t'&:hover': {\n\t\t\t\t\t\t\tcolor: boxPalette.foregroundText,\n\t\t\t\t\t\t\tbackgroundColor: localPalette.linkHoverBg,\n\n\t\t\t\t\t\t\t'& > span:first-of-type': packs.underline,\n\n\t\t\t\t\t\t\t'&::after': {\n\t\t\t\t\t\t\t\tbackground: active ? localPalette.linkHoverBg : 'transparent',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t}),\n\t\t\t]}\n\t\t>\n\t\t\t{children}\n\t\t</Flex>\n\t);\n}\n","import type { PropsWithChildren, ReactNode } from 'react';\nimport { Flex } from '../box';\nimport { boxPalette, tokens, useLinkComponent, LinkProps } from '../core';\nimport { BaseButton, BaseButtonProps } from '../button';\nimport { NavListItem } from './NavListItem';\n\ntype NavListType = 'primary' | 'secondary';\n\nexport type NavListLink = Omit<LinkProps, 'children'>;\n\nexport type NavListButton = Omit<BaseButtonProps, 'children'>;\n\nexport type NavListItem = (NavListLink | NavListButton) & {\n\tlabel: ReactNode;\n\tendElement?: ReactNode;\n};\n\nexport type NavListProps = {\n\t'aria-label': string;\n\tactivePath: string;\n\titems?: NavListItem[];\n\ttype: 'primary' | 'secondary';\n};\n\nexport function NavList({\n\t'aria-label': ariaLabel,\n\tactivePath,\n\titems,\n\ttype,\n}: NavListProps) {\n\tconst Link = useLinkComponent();\n\treturn (\n\t\t<NavListContainer aria-label={ariaLabel} type={type}>\n\t\t\t{items?.map(({ label, endElement, ...item }, index) => {\n\t\t\t\tif ('href' in item) {\n\t\t\t\t\tconst active = item.href === activePath;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<NavListItem\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tactive={active}\n\t\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\t\thasEndElement={Boolean(endElement)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Link aria-current={active ? 'page' : undefined} {...item}>\n\t\t\t\t\t\t\t\t<span>{label}</span>\n\t\t\t\t\t\t\t\t{endElement}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</NavListItem>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn (\n\t\t\t\t\t<NavListItem\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tactive={false}\n\t\t\t\t\t\ttype={type}\n\t\t\t\t\t\thasEndElement={Boolean(endElement)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<BaseButton {...item}>\n\t\t\t\t\t\t\t<span>{label}</span>\n\t\t\t\t\t\t\t{endElement}\n\t\t\t\t\t\t</BaseButton>\n\t\t\t\t\t</NavListItem>\n\t\t\t\t);\n\t\t\t})}\n\t\t</NavListContainer>\n\t);\n}\n\ntype NavListContainerProps = PropsWithChildren<{\n\t'aria-label': string;\n\ttype: NavListType;\n}>;\n\nfunction NavListContainer({\n\t'aria-label': ariaLabel,\n\tchildren,\n\ttype,\n}: NavListContainerProps) {\n\tif (type === 'primary') {\n\t\treturn (\n\t\t\t<Flex\n\t\t\t\tas=\"nav\"\n\t\t\t\tjustifyContent=\"space-between\"\n\t\t\t\twidth=\"100%\"\n\t\t\t\tflexDirection={{ xs: 'column', lg: 'row' }}\n\t\t\t\taria-label={ariaLabel}\n\t\t\t>\n\t\t\t\t<Flex\n\t\t\t\t\tas=\"ul\"\n\t\t\t\t\tflexDirection={{ xs: 'column', lg: 'row' }}\n\t\t\t\t\tflexWrap=\"wrap\"\n\t\t\t\t\talignItems=\"stretch\"\n\t\t\t\t\tcss={{\n\t\t\t\t\t\t[tokens.mediaQuery.max.md]: {\n\t\t\t\t\t\t\t'& > li': {\n\t\t\t\t\t\t\t\tborderTopWidth: tokens.borderWidth.sm,\n\t\t\t\t\t\t\t\tborderTopStyle: 'solid',\n\t\t\t\t\t\t\t\tborderTopColor: boxPalette.border,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</Flex>\n\t\t\t</Flex>\n\t\t);\n\t}\n\treturn (\n\t\t<Flex as=\"nav\" height=\"100%\" aria-label={ariaLabel}>\n\t\t\t<Flex as=\"ul\" height=\"100%\">\n\t\t\t\t{children}\n\t\t\t</Flex>\n\t\t</Flex>\n\t);\n}\n","import { PropsWithChildren } from 'react';\nimport { NavContainer } from './NavContainer';\nimport { NavList, NavListItem } from './NavList';\nimport { findBestMatch, MainNavBackground } from './utils';\n\nexport type MainNavProps = PropsWithChildren<{\n\tactivePath?: string;\n\tbackground?: MainNavBackground;\n\tid?: string;\n\titems?: NavListItem[];\n\tsecondaryItems?: NavListItem[];\n}>;\n\nexport function MainNav({\n\tbackground = 'body',\n\tactivePath,\n\titems,\n\tsecondaryItems,\n\tid,\n}: MainNavProps) {\n\tconst bestMatch = findBestMatch(\n\t\t[...(items || []), ...(secondaryItems || [])],\n\t\tactivePath\n\t);\n\treturn (\n\t\t<NavContainer\n\t\t\tbackground={background}\n\t\t\tid={id}\n\t\t\thasItems={items && items.length > 0}\n\t\t\trightContent={\n\t\t\t\t<NavList\n\t\t\t\t\taria-label=\"secondary\"\n\t\t\t\t\titems={secondaryItems}\n\t\t\t\t\tactivePath={bestMatch}\n\t\t\t\t\ttype=\"secondary\"\n\t\t\t\t/>\n\t\t\t}\n\t\t>\n\t\t\t<NavList\n\t\t\t\taria-label=\"main\"\n\t\t\t\titems={items}\n\t\t\t\tactivePath={bestMatch}\n\t\t\t\ttype=\"primary\"\n\t\t\t/>\n\t\t</NavContainer>\n\t);\n}\n"],"names":["bottomBarPadding","hoverMap","localPaletteVars","localPalette","findBestMatch","items","activePath","links","item","bestMatch","link","MainNavButton","onClick","children","props","jsx","Box","Flex","BaseButton","boxPalette","OpenButton","jsxs","CloseButton","NavContainer","id","rightContent","background","hasItems","containerRef","useRef","hover","windowWidth","useWindowSize","menuOpen","open","close","useTernaryState","menuVisiblyOpen","tokens","palette","useBoxPalette","backgroundColorMap","packs","LockScroll","BottomBar","NavContainerDialog","Overlay","dialogRef","useEffect","handleKeyDown","e","rootNodes","originalAttrs","node","attr","index","originalValue","element","mapSpacing","FocusLock","createPortal","Global","NavListItem","active","hasEndElement","type","mq","mapResponsiveProp","NavList","ariaLabel","Link","useLinkComponent","NavListContainer","label","endElement","MainNav","secondaryItems"],"mappings":"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"}