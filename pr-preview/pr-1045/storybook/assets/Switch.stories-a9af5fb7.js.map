{"version":3,"file":"Switch.stories-a9af5fb7.js","sources":["../../../../packages/react/src/switch/utils.tsx","../../../../packages/react/src/switch/SwitchTrack.tsx","../../../../packages/react/src/switch/Switch.tsx"],"sourcesContent":["import { packs } from '../core';\n\nexport const switchTrackStyles = {\n\tsm: {\n\t\tborderWidth: packs.control.sm.borderWidth,\n\t\theight: packs.control.sm.height,\n\t\tthumbCheckedPos: '1.25rem',\n\t\twidth: '2.75rem',\n\t},\n\tmd: {\n\t\tborderWidth: packs.control.md.borderWidth,\n\t\theight: packs.control.md.height,\n\t\tthumbCheckedPos: '1.5rem',\n\t\twidth: '3.5rem',\n\t},\n} as const;\n","import { PropsWithChildren } from 'react';\nimport { useSpring, animated } from '@react-spring/web';\nimport { boxPalette, usePrefersReducedMotion } from '../core';\nimport { Box, Flex } from '../box';\nimport { switchTrackStyles } from './utils';\n\nexport type SwitchSize = 'sm' | 'md';\n\ntype SwitchContainerProps = PropsWithChildren<{\n\tsize: SwitchSize;\n}>;\n\nexport const SwitchContainer = ({ children, size }: SwitchContainerProps) => {\n\tconst { width, height } = switchTrackStyles[size];\n\treturn (\n\t\t<Box\n\t\t\tas=\"span\"\n\t\t\twidth={width}\n\t\t\theight={height}\n\t\t\tcss={{ position: 'relative', flexShrink: 0 }}\n\t\t>\n\t\t\t{children}\n\t\t</Box>\n\t);\n};\n\nexport type SwitchTrackProps = SwitchThumbProps;\n\nexport const SwitchTrack = ({ checked, size }: SwitchTrackProps) => {\n\tconst { borderWidth, height } = switchTrackStyles[size];\n\treturn (\n\t\t<Box\n\t\t\tas=\"span\"\n\t\t\tcss={{\n\t\t\t\tborderWidth,\n\t\t\t\tborderStyle: 'solid',\n\t\t\t\tborderRadius: height,\n\t\t\t\tposition: 'absolute',\n\t\t\t\tinset: 0,\n\t\t\t\t...(checked\n\t\t\t\t\t? {\n\t\t\t\t\t\t\tbackgroundColor: boxPalette.foregroundAction,\n\t\t\t\t\t\t\tborderColor: boxPalette.foregroundAction,\n\t\t\t\t\t  }\n\t\t\t\t\t: {\n\t\t\t\t\t\t\tborderColor: boxPalette.border,\n\t\t\t\t\t\t\tbackgroundColor: boxPalette.backgroundShade,\n\t\t\t\t\t  }),\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nconst AnimatedFlex = animated(Flex);\n\ntype SwitchThumbProps = {\n\tchecked: boolean;\n\tsize: SwitchSize;\n};\n\nexport const SwitchThumb = ({ checked, size }: SwitchThumbProps) => {\n\tconst {\n\t\tthumbCheckedPos,\n\t\tborderWidth,\n\t\theight: thumbSize,\n\t} = switchTrackStyles[size];\n\n\tconst prefersReducedMotion = usePrefersReducedMotion();\n\tconst animationStyles = useSpring({\n\t\tfrom: { left: '0rem' },\n\t\tto: { left: checked ? thumbCheckedPos : '0rem' },\n\t\timmediate: prefersReducedMotion,\n\t});\n\n\treturn (\n\t\t<AnimatedFlex\n\t\t\tas=\"span\"\n\t\t\talignItems=\"center\"\n\t\t\tjustifyContent=\"center\"\n\t\t\tstyle={animationStyles}\n\t\t\theight={thumbSize}\n\t\t\twidth={thumbSize}\n\t\t\tbackground=\"body\"\n\t\t\tcss={{\n\t\t\t\tborderRadius: thumbSize,\n\t\t\t\tborderWidth,\n\t\t\t\tborderStyle: 'solid',\n\t\t\t\tborderColor: boxPalette.foregroundAction,\n\t\t\t\tposition: 'absolute',\n\t\t\t}}\n\t\t>\n\t\t\t{checked && <SwitchThumbIcon size={size} />}\n\t\t</AnimatedFlex>\n\t);\n};\n\nconst switchThumbIconSizeMap = {\n\tmd: {\n\t\twidth: 18,\n\t\theight: 14,\n\t\tstroke: 3,\n\t},\n\tsm: {\n\t\twidth: 10,\n\t\theight: 7,\n\t\tstroke: 4,\n\t},\n};\nconst SwitchThumbIcon = ({ size }: { size: SwitchSize }) => {\n\tconst { height, width, stroke } = switchThumbIconSizeMap[size];\n\treturn (\n\t\t<svg\n\t\t\twidth=\"18\"\n\t\t\theight=\"14\"\n\t\t\tviewBox=\"0 0 18 14\"\n\t\t\tfill=\"none\"\n\t\t\tcss={{ width, height }}\n\t\t\tstroke={boxPalette.foregroundAction}\n\t\t\tstrokeWidth={stroke}\n\t\t\tstrokeLinecap=\"round\"\n\t\t\tstrokeLinejoin=\"round\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t>\n\t\t\t<path d=\"M2 7.71429L6.15385 12L15.8462 2\" />\n\t\t</svg>\n\t);\n};\n","import { visuallyHiddenStyles } from '../a11y';\nimport { Text } from '../text';\nimport { Flex } from '../box';\nimport { boxPalette, packs } from '../core';\nimport {\n\tSwitchContainer,\n\tSwitchThumb,\n\tSwitchTrack,\n\tSwitchSize,\n} from './SwitchTrack';\n\nexport type SwitchProps = {\n\t/** The current checked state. */\n\tchecked: boolean;\n\t/** Handle change events. */\n\tonChange: (newValue: boolean) => void;\n\t/** The size of the switch. */\n\tsize?: SwitchSize;\n\t/** The associated label for the switch. */\n\tlabel: string;\n};\n\nexport const Switch = ({\n\tsize = 'md',\n\tlabel,\n\tonChange,\n\tchecked,\n}: SwitchProps) => {\n\treturn (\n\t\t<Flex\n\t\t\tas=\"label\"\n\t\t\tgap={0.75}\n\t\t\talignItems=\"center\"\n\t\t\tcss={{\n\t\t\t\tcursor: 'pointer',\n\t\t\t\t'&:hover': {\n\t\t\t\t\t// Hover state for SwitchTrack\n\t\t\t\t\t'& input:not(:focus) ~ span:first-of-type': {\n\t\t\t\t\t\tborderColor: boxPalette.foregroundText,\n\t\t\t\t\t\tbackgroundColor: checked\n\t\t\t\t\t\t\t? boxPalette.foregroundText\n\t\t\t\t\t\t\t: boxPalette.backgroundShadeAlt,\n\t\t\t\t\t},\n\t\t\t\t\t// Hover state for SwitchThumb\n\t\t\t\t\t'& input:not(:focus) ~ span:last-of-type': {\n\t\t\t\t\t\tborderColor: boxPalette.foregroundText,\n\t\t\t\t\t\t'& svg': {\n\t\t\t\t\t\t\tstroke: checked ? boxPalette.foregroundText : undefined,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t}}\n\t\t>\n\t\t\t<SwitchContainer size={size}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\trole=\"switch\"\n\t\t\t\t\tchecked={checked}\n\t\t\t\t\tonChange={() => onChange(!checked)}\n\t\t\t\t\tcss={{\n\t\t\t\t\t\t...visuallyHiddenStyles,\n\t\t\t\t\t\t// When this component is focused, outline the track\n\t\t\t\t\t\t'&:focus ~ span:first-of-type': packs.outline,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<SwitchTrack size={size} checked={checked} />\n\t\t\t\t<SwitchThumb size={size} checked={checked} />\n\t\t\t</SwitchContainer>\n\t\t\t<Text>{label}</Text>\n\t\t</Flex>\n\t);\n};\n"],"names":["switchTrackStyles","packs","SwitchContainer","children","size","width","height","jsx","Box","SwitchTrack","checked","borderWidth","boxPalette","AnimatedFlex","animated","Flex","SwitchThumb","thumbCheckedPos","thumbSize","prefersReducedMotion","usePrefersReducedMotion","animationStyles","useSpring","SwitchThumbIcon","switchThumbIconSizeMap","stroke","Switch","label","onChange","jsxs","visuallyHiddenStyles","Text"],"mappings":"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"}