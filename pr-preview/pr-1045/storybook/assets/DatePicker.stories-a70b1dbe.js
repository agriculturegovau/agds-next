import{a as x,j as n,B as w}from"./Box-e652c7f2.js";import{r as a}from"./index-42611d8b.js";import{S as we}from"./Stack-4546232d.js";import{a as P}from"./Button-ffb9a9d6.js";import{B as Be}from"./ButtonGroup-75f04ad3.js";import{u as Ie}from"./usePopper-f1eff677.js";import{u as Me}from"./useTernaryState-6ea40a94.js";import{f as Pe,t as R,u as Re,D as _e,p as Te,c as Oe}from"./DatePickerInput-fa25363d.js";import{C as Fe,s as He,a as Le}from"./Calendar-0e78322b.js";import"./_commonjsHelpers-042e6b4d.js";import"./LoadingBlanket-2ea81d60.js";import"./Content-e54e3b95.js";import"./BaseContent-1f85429f.js";import"./PageContent-3fd36d19.js";import"./SectionContent-a2643fbb.js";import"./ContentBleed-5b1d8d06.js";import"./Text-51e6146a.js";import"./react-spring-web.esm-92c11c75.js";import"./index-7a46b491.js";import"./VisuallyHidden-315ab967.js";import"./mergeRefs-868b543a.js";import"./WebsiteIcon-f0b253fc.js";import"./CalendarIcon-16f5268f.js";import"./TextInput-af5477b0.js";import"./Field-795f8947.js";import"./useId-9773510a.js";import"./Combination-c1ec471a.js";const D=({value:e,onChange:r,onInputChange:i,minDate:u,maxDate:d,initialMonth:ce,yearRange:pe,inputRef:me,invalid:B=!1,maxWidth:fe="md",...ge})=>{const[c,he,o]=Me(!1),ve=a.useRef(null),[be,ye]=a.useState(null),[S,Ve]=a.useState(null),{styles:De,attributes:ke}=Ie(be,S,{placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[0,8]}}]}),xe=a.useCallback((s,t,q)=>{q.disabled||(C(Pe(t)),r(t),o())},[r,o]),[Se,C]=a.useState(R(e)),Ce=s=>{const t=s.target.value;C(t);const q=Te(t),E=Oe(q,u,d);if(!t||E){r(E);return}r(E),i==null||i(t)};a.useEffect(()=>{C(R(e))},[e]);const I=a.useRef(S);I.current=S;const qe=a.useCallback(()=>{c&&o()},[c,o]);Re(I,qe),a.useEffect(()=>{const s=t=>{c&&t.code==="Escape"&&(t.preventDefault(),t.stopPropagation(),o())};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[c,o]);const Ee=a.useMemo(()=>{if(u||d)return[u?{before:u}:void 0,d?{after:d}:void 0].filter(s=>!!s)},[u,d]),M=typeof e=="string"?void 0:e;return x("div",{ref:ye,children:[n(_e,{...ge,maxWidth:fe,invalid:{field:B,input:B},ref:me,value:Se,onChange:Ce,buttonRef:ve,buttonOnClick:he}),c?n("div",{ref:Ve,style:De.popper,...ke.popper,css:{zIndex:1},children:n(Fe,{initialFocus:!0,selected:M,onSelect:xe,defaultMonth:M||ce,yearRange:pe,numberOfMonths:1,disabled:Ee})}):null]})};try{D.displayName="DatePicker",D.__docgenInfo={description:"",displayName:"DatePicker",props:{autoComplete:{defaultValue:null,description:"",name:"autoComplete",required:!1,type:{name:"string"}},autoFocus:{defaultValue:null,description:"",name:"autoFocus",required:!1,type:{name:"boolean"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},name:{defaultValue:null,description:"",name:"name",required:!1,type:{name:"string"}},onBlur:{defaultValue:null,description:"",name:"onBlur",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},onFocus:{defaultValue:null,description:"",name:"onFocus",required:!1,type:{name:"FocusEventHandler<HTMLInputElement>"}},label:{defaultValue:null,description:"Describes the purpose of the field.",name:"label",required:!0,type:{name:"string"}},hideOptionalLabel:{defaultValue:null,description:'If true, "(optional)" will never be appended to the label.',name:"hideOptionalLabel",required:!1,type:{name:"boolean"}},required:{defaultValue:null,description:'If false, "(optional)" will be appended to the label.',name:"required",required:!1,type:{name:"boolean"}},hint:{defaultValue:null,description:"Provides extra information about the field.",name:"hint",required:!1,type:{name:"string"}},message:{defaultValue:null,description:"Message to show when the field is invalid.",name:"message",required:!1,type:{name:"string"}},invalid:{defaultValue:{value:"false"},description:"If true, the invalid state will be rendered.",name:"invalid",required:!1,type:{name:"boolean"}},block:{defaultValue:null,description:"If true, the field will stretch to the fill the width of its container.",name:"block",required:!1,type:{name:"boolean"}},maxWidth:{defaultValue:{value:"md"},description:"The maximum width of the field.",name:"maxWidth",required:!1,type:{name:"enum",value:[{value:'"md"'},{value:'"lg"'},{value:'"xl"'}]}},minDate:{defaultValue:null,description:"If set, any days before this date will not be selectable.",name:"minDate",required:!1,type:{name:"Date"}},maxDate:{defaultValue:null,description:"If set, any days after this date will not be selectable.",name:"maxDate",required:!1,type:{name:"Date"}},initialMonth:{defaultValue:null,description:"The calendar month to initially show if no value is set.",name:"initialMonth",required:!1,type:{name:"Date"}},yearRange:{defaultValue:null,description:"The range of options to display in calendar year select.",name:"yearRange",required:!1,type:{name:"{ from: number; to: number; }"}},value:{defaultValue:null,description:"The value of the field.",name:"value",required:!0,type:{name:"string | Date | undefined"}},onChange:{defaultValue:null,description:"Function to be fired following a change event.",name:"onChange",required:!0,type:{name:"(day: Date | undefined) => void"}},onInputChange:{defaultValue:null,description:"Function to be fired when the input value is updated.",name:"onInputChange",required:!1,type:{name:"((inputValue: string) => void)"}},inputRef:{defaultValue:null,description:"Ref to the input element.",name:"inputRef",required:!1,type:{name:"Ref<HTMLInputElement>"}}}}}catch{}const ga={title:"forms/DatePicker/DatePicker",component:D},l=e=>{const[r,i]=a.useState();return n(D,{...e,value:r,onChange:i})},p=l.bind({});p.args={label:"Example"};const m=l.bind({});m.args={label:"Example",disabled:!0};const de=new Date,We=He(de,7),je=Le(de,7),f=l.bind({});f.args={label:"Example",minDate:We,maxDate:je};const g=l.bind({});g.args={label:"Example",initialMonth:new Date(1999,11,1)};const h=l.bind({});h.args={required:!0,label:"Example"};const v=l.bind({});v.args={label:"Example",message:"Enter a valid date",invalid:!0};const b=l.bind({});b.args={label:"Example",hint:"We will only use this to respond to your question"};const y=l.bind({});y.args={block:!0,label:"Block"};const V=e=>x(w,{children:[n(w,{height:"1000px"}),n(l,{...e}),n(w,{height:"1000px"})]});V.args={label:"Example"};const k=()=>{const[e,r]=a.useState();return x(we,{gap:4,alignItems:"flex-start",children:[n(D,{label:"Controlled",value:e,onChange:r}),x(Be,{children:[n(P,{onClick:()=>r(new Date(1999,11,25)),children:"Set pre-defined date"}),n(P,{variant:"secondary",onClick:()=>r(void 0),children:"Clear"})]})]})};var _,T,O;p.parameters={...p.parameters,docs:{...(_=p.parameters)==null?void 0:_.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(O=(T=p.parameters)==null?void 0:T.docs)==null?void 0:O.source}}};var F,H,L;m.parameters={...m.parameters,docs:{...(F=m.parameters)==null?void 0:F.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(L=(H=m.parameters)==null?void 0:H.docs)==null?void 0:L.source}}};var W,j,G;f.parameters={...f.parameters,docs:{...(W=f.parameters)==null?void 0:W.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(G=(j=f.parameters)==null?void 0:j.docs)==null?void 0:G.source}}};var N,z,A;g.parameters={...g.parameters,docs:{...(N=g.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(A=(z=g.parameters)==null?void 0:z.docs)==null?void 0:A.source}}};var K,U,J;h.parameters={...h.parameters,docs:{...(K=h.parameters)==null?void 0:K.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(J=(U=h.parameters)==null?void 0:U.docs)==null?void 0:J.source}}};var Q,X,Y;v.parameters={...v.parameters,docs:{...(Q=v.parameters)==null?void 0:Q.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(Y=(X=v.parameters)==null?void 0:X.docs)==null?void 0:Y.source}}};var Z,$,ee;b.parameters={...b.parameters,docs:{...(Z=b.parameters)==null?void 0:Z.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(ee=($=b.parameters)==null?void 0:$.docs)==null?void 0:ee.source}}};var ae,te,re;y.parameters={...y.parameters,docs:{...(ae=y.parameters)==null?void 0:ae.docs,source:{originalSource:`args => {
  const [value, setValue] = useState<Date>();
  return <DatePicker {...args} value={value} onChange={setValue} />;
}`,...(re=(te=y.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};var ne,le,se;V.parameters={...V.parameters,docs:{...(ne=V.parameters)==null?void 0:ne.docs,source:{originalSource:`args => <Box>
        <Box height="1000px"></Box>
        <Template {...args} />
        <Box height="1000px"></Box>
    </Box>`,...(se=(le=V.parameters)==null?void 0:le.docs)==null?void 0:se.source}}};var oe,ie,ue;k.parameters={...k.parameters,docs:{...(oe=k.parameters)==null?void 0:oe.docs,source:{originalSource:`() => {
  const [value, setValue] = useState<Date>();
  return <Stack gap={4} alignItems="flex-start">
            <DatePicker label="Controlled" value={value} onChange={setValue} />
            <ButtonGroup>
                <Button onClick={() => setValue(new Date(1999, 11, 25))}>
                    Set pre-defined date
                </Button>
                <Button variant="secondary" onClick={() => setValue(undefined)}>
                    Clear
                </Button>
            </ButtonGroup>
        </Stack>;
}`,...(ue=(ie=k.parameters)==null?void 0:ie.docs)==null?void 0:ue.source}}};const ha=["Basic","Disabled","MinMaxDates","InitialMonth","Required","Invalid","Hint","Block","ScrollExample","ControlledExample"];export{p as Basic,y as Block,k as ControlledExample,m as Disabled,b as Hint,g as InitialMonth,v as Invalid,f as MinMaxDates,h as Required,V as ScrollExample,ha as __namedExportsOrder,ga as default};
//# sourceMappingURL=DatePicker.stories-a70b1dbe.js.map
