{"version":3,"file":"ControlGroup.stories-1a24325a.js","sources":["../../../../packages/react/src/control-input/ControlGroup.tsx"],"sourcesContent":["import { PropsWithChildren } from 'react';\nimport { Flex, Stack } from '../box';\nimport { mapSpacing, useId } from '../core';\nimport { FieldContainer, FieldHint, FieldLabel, FieldMessage } from '../field';\nimport { ControlGroupProvider } from './ControlGroupProvider';\n\nexport type ControlGroupProps = PropsWithChildren<{\n\t/** If true, children will be stacked vertically. */\n\tblock?: boolean;\n\t/** Provides extra information about the field. */\n\thint?: string;\n\t/** Defines an identifier (ID) which must be unique. */\n\tid?: string;\n\t/** If true, the invalid state will be rendered. */\n\tinvalid?: boolean;\n\t/** Describes the purpose of the field. */\n\tlabel?: string;\n\t/** If true, \"(optional)\" will never be appended to the label. */\n\thideOptionalLabel?: boolean;\n\t/** Message to show when the field is invalid. */\n\tmessage?: string;\n\t/** If false, \"(optional)\" will be appended to the label. */\n\trequired?: boolean;\n}>;\n\nexport const ControlGroup = ({\n\tblock = false,\n\tchildren,\n\thint,\n\tid,\n\tinvalid = false,\n\tlabel,\n\thideOptionalLabel,\n\tmessage,\n\trequired = false,\n}: ControlGroupProps) => {\n\tconst { groupId, hintId, messageId } = useControlGroupIds(id);\n\tconst describedByIds = [\n\t\tinvalid && message ? messageId : null,\n\t\thint ? hintId : null,\n\t].filter(Boolean);\n\tconst describedBy = describedByIds.length\n\t\t? describedByIds.join(' ')\n\t\t: undefined;\n\treturn (\n\t\t<ControlGroupProvider\n\t\t\tmessageId={invalid && message ? messageId : undefined}\n\t\t\tinvalid={invalid}\n\t\t>\n\t\t\t<FieldContainer invalid={invalid} id={groupId}>\n\t\t\t\t<fieldset\n\t\t\t\t\taria-describedby={describedBy}\n\t\t\t\t\tcss={{ padding: 0, margin: 0, border: 'none' }}\n\t\t\t\t>\n\t\t\t\t\t{label ? (\n\t\t\t\t\t\t<FieldLabel\n\t\t\t\t\t\t\tas=\"legend\"\n\t\t\t\t\t\t\trequired={required}\n\t\t\t\t\t\t\thideOptionalLabel={hideOptionalLabel}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</FieldLabel>\n\t\t\t\t\t) : null}\n\t\t\t\t\t<Stack\n\t\t\t\t\t\tgap={0.5}\n\t\t\t\t\t\tcss={{ marginTop: label ? mapSpacing(0.5) : undefined }}\n\t\t\t\t\t>\n\t\t\t\t\t\t{hint ? <FieldHint id={hintId}>{hint}</FieldHint> : null}\n\t\t\t\t\t\t{message && invalid ? (\n\t\t\t\t\t\t\t<FieldMessage id={messageId}>{message}</FieldMessage>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t<Flex\n\t\t\t\t\t\t\tgap={1}\n\t\t\t\t\t\t\tflexDirection={block ? 'column' : 'row'}\n\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\tpaddingTop={0.5}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</Stack>\n\t\t\t\t</fieldset>\n\t\t\t</FieldContainer>\n\t\t</ControlGroupProvider>\n\t);\n};\n\nexport const useControlGroupIds = (idProp?: string) => {\n\tconst autoId = useId(idProp);\n\tconst groupId = idProp ? idProp : `control-group-${autoId}`;\n\tconst hintId = `control-group-${autoId}-hint`;\n\tconst messageId = `control-group-${autoId}-message`;\n\treturn { groupId, hintId, messageId };\n};\n"],"names":["ControlGroup","block","children","hint","id","invalid","label","hideOptionalLabel","message","required","groupId","hintId","messageId","useControlGroupIds","describedByIds","describedBy","jsx","ControlGroupProvider","FieldContainer","jsxs","FieldLabel","Stack","mapSpacing","FieldHint","FieldMessage","Flex","idProp","autoId","useId"],"mappings":"glBAyBO,MAAAA,EAAA,CAAA,CAAsB,MAAAC,EAAA,GACpB,SAAAC,EACR,KAAAC,EACA,GAAAC,EACA,QAAAC,EAAA,GACU,MAAAC,EACV,kBAAAC,GACA,QAAAC,EACA,SAAAC,GAAA,EAED,IAAA,CACC,KAAA,CAAA,QAAAC,GAAA,OAAAC,EAAA,UAAAC,CAAA,EAAAC,EAAAT,CAAA,EACAU,EAAA,CAAuBT,GAAAG,EAAAI,EAAA,KACWT,EAAAQ,EAAA,IACjB,EAAA,OAAA,OAAA,EAEjBI,GAAAD,EAAA,OAAAA,EAAA,KAAA,GAAA,EAAA,OAGA,OAAAE,EACCC,GAAC,CAAA,UAAAZ,GAAAG,EAAAI,EAAA,OAC4C,QAAAP,EAC5C,SAAAW,EAAAE,GAAA,CAAA,QAAAb,EAAA,GAAAK,GAAA,SAAAS,EAGC,WAAC,CAAA,mBAAAJ,GACkB,IAAA,CAAA,QAAA,EAAA,OAAA,EAAA,OAAA,MAAA,EAC2B,SAAA,CAE5CT,EAAAU,EACAI,GAAC,CAAA,GAAA,SACG,SAAAX,GACH,kBAAAF,GACA,SAAAD,CAEC,CAAA,EAAA,KAECa,EACJE,GAAC,CAAA,IAAA,GACK,IAAA,CAAA,UAAAf,EAAAgB,GAAA,EAAA,EAAA,MAAA,EACiD,SAAA,CAErDnB,EAAAa,EAAAO,GAAA,CAAA,GAAAZ,EAAA,SAAAR,CAAA,CAAA,EAAA,KAAmDK,GAAAH,EAAAW,EAAAQ,GAAA,CAAA,GAAAZ,EAAA,SAAAJ,CAAA,CAAA,EAAA,KAGhDQ,EACJS,GAAC,CAAA,IAAA,EACK,cAAAxB,EAAA,SAAA,MAC6B,MAAA,OAC5B,WAAA,GACM,SAAAC,CAEX,CAAA,CACF,CAAA,CAAA,CACD,CAAA,CAAA,EAAA,CAEF,CAAA,CAGH,EAEOW,EAAAa,GAAA,CACN,MAAAC,EAAAC,GAAAF,CAAA,EACAhB,EAAAgB,GAAA,iBAAAC,IACAhB,EAAA,iBAAAgB,SACAf,EAAA,iBAAAe,YACA,MAAA,CAAA,QAAAjB,EAAA,OAAAC,EAAA,UAAAC,EACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}