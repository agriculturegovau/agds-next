import{a as u,t as p,j as o,b,q as ae,p as j,B as P}from"./Box-3d8e40b9.js";import{S as F,F as A}from"./Stack-88a94cf9.js";import{r as U}from"./index-42611d8b.js";import{a as G,u as Q,b as E}from"./react-spring-web.esm-92c11c75.js";import{u as ne}from"./useId-9773510a.js";import{u as se}from"./useToggleState-9d17fadd.js";import{u as ie}from"./useWindowSize-fbc787ee.js";import{T as h}from"./Text-76115ace.js";import{C as de,w as le,x as ce,y as ue,B as pe}from"./WebsiteIcon-80d17c8d.js";import"./CalendarIcon-ece56b40.js";import{B as Y}from"./Button-5675b78b.js";import"./ButtonGroup-d4eeb7ce.js";import{T as me}from"./TextLink-b71de530.js";import"./TextLinkExternal-22a891fa.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-7a46b491.js";import"./LoadingBlanket-4dd64634.js";import"./Content-29d7ac08.js";import"./BaseContent-ae52486a.js";import"./PageContent-3c0ee326.js";import"./SectionContent-ef29e939.js";import"./ContentBleed-5d827cf1.js";import"./VisuallyHidden-9a073e6e.js";import"./mergeRefs-868b543a.js";const I=({heading:e,subHeading:t})=>u(F,{gap:.5,paddingBottom:1.5,css:{display:"none",[p.mediaQuery.min.md]:{display:"flex"}},children:[o(h,{as:"h2",fontSize:"md",fontWeight:"bold",lineHeight:"heading",children:e}),o(h,{color:"muted",fontSize:"xs",children:t})]});try{I.displayName="ProgressIndicatorHeading",I.__docgenInfo={description:"",displayName:"ProgressIndicatorHeading",props:{heading:{defaultValue:null,description:"",name:"heading",required:!0,type:{name:"string"}},subHeading:{defaultValue:null,description:"",name:"subHeading",required:!0,type:{name:"string"}}}}}catch{}const w={body:b.backgroundShade,bodyAlt:b.backgroundShadeAlt},ge=G(de),v=({ariaControls:e,background:t="body",id:n,isOpen:a,label:i,onClick:r})=>{const g=Q(),d=E({from:{transform:"rotate(0deg)"},to:{transform:`rotate(${a?180:0}deg)`},immediate:g});return u(A,{as:Y,"aria-controls":e,"aria-expanded":a,onClick:r,id:n,color:"action",fontSize:"md",lineHeight:"heading",background:t,fontWeight:"bold",padding:1,justifyContent:"space-between",alignItems:"center",width:"100%",link:!0,focus:!0,css:{"&:hover":{background:w[t]},[p.mediaQuery.min.md]:{display:"none"}},children:[i,o(ge,{size:"sm",weight:"bold",style:d})]})};try{v.displayName="ProgressIndicatorCollapseButton",v.__docgenInfo={description:"",displayName:"ProgressIndicatorCollapseButton",props:{ariaControls:{defaultValue:null,description:"",name:"ariaControls",required:!0,type:{name:"string"}},background:{defaultValue:{value:"body"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const _=({children:e,...t})=>o(J,{as:me,...t,children:e}),k=({children:e,...t})=>o(J,{as:Y,...t,children:e}),J=({as:e,background:t="body",children:n,status:a,...i})=>{const r=a==="doing",{label:g}=K[a],d="> span:last-of-type > span:first-of-type";return o(P,{as:"li",background:t,css:{"&:first-of-type":{[`[${x}]:first-of-type`]:{opacity:0}},"&:last-of-type":{[`[${x}]:last-of-type`]:{opacity:0},[`[${T}]`]:{borderBottomWidth:0}}},children:u(A,{as:e,gap:1,css:{width:"100%",textDecoration:"none",[`[${B}]:before`]:{backgroundColor:ae[t]},[d]:{fontWeight:r?"bold":"normal"},"&:hover":{backgroundColor:w[t],[`[${B}]:before`]:{backgroundColor:w[t]},[d]:j.underline}},focus:!0,...i,children:[o(fe,{status:a}),u(F,{[T]:"",as:"span",flexDirection:"column-reverse",flexGrow:1,gap:0,justifyContent:"center",paddingY:.75,fontFamily:"body",fontWeight:r?"bold":"normal",borderBottom:!0,borderColor:"muted",children:[o(h,{[ye]:"",children:n}),o(h,{color:"muted",fontSize:"xs",lineHeight:"nospace",css:{textDecoration:"none"},children:g})]})]})})},L=()=>o("span",{[x]:"",css:{width:p.borderWidth.md,backgroundColor:b.border,flex:1}}),fe=({status:e})=>{const{icon:t,iconColor:n}=K[e],a=p.borderWidth.md,r=a+3;return u(A,{as:"span",flexDirection:"column",alignItems:"center",children:[o(L,{}),o("span",{[B]:"",css:{position:"relative",paddingLeft:r,paddingRight:r,...e==="doing"&&{":before":{position:"absolute",top:-r,bottom:-r,left:0,right:0,borderRadius:"100%",content:'""',border:`${a}px solid ${b.foregroundAction}`}}},children:o(t,{size:"md",color:n,css:{position:"relative",display:"block",margin:-1}})}),o(L,{})]})},x="data-agds-progress-indicator-item-timeline-action",B="data-agds-progress-indicator-item-ring",T="data-agds-progress-indicator-item-text-container",ye="data-agds-progress-indicator-item-text",K={blocked:{label:"Cannot start yet",icon:le,iconColor:"border"},doing:{label:"In progress",icon:ce,iconColor:"action"},todo:{label:"Not started",icon:ue,iconColor:"border"},done:{label:"Completed",icon:pe,iconColor:"success"}};try{_.displayName="ProgressIndicatorItemLink",_.__docgenInfo={description:"",displayName:"ProgressIndicatorItemLink",props:{"aria-label":{defaultValue:null,description:"Describes the anchor element to assistive technologies.",name:"aria-label",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS class name, typically generated from the `css` prop.",name:"className",required:!1,type:{name:"string"}},download:{defaultValue:null,description:"Causes the browser to treat the linked URL as a download.",name:"download",required:!1,type:{name:"any"}},href:{defaultValue:null,description:"The URL that the hyperlink points to.",name:"href",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"The ID of the hyperlink.",name:"id",required:!1,type:{name:"string"}},referrerPolicy:{defaultValue:null,description:"How much of the referrer to send when following the link.",name:"referrerPolicy",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"no-referrer"'},{value:'"no-referrer-when-downgrade"'},{value:'"origin"'},{value:'"origin-when-cross-origin"'},{value:'"same-origin"'},{value:'"strict-origin"'},{value:'"strict-origin-when-cross-origin"'},{value:'"unsafe-url"'}]}},rel:{defaultValue:null,description:"The relationship of the linked URL as space-separated link types.",name:"rel",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"Where to display the linked URL, as the name for a browsing context (a tab, window, or <iframe>).",name:"target",required:!1,type:{name:"HTMLAttributeAnchorTarget"}},background:{defaultValue:{value:"body"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"done"'},{value:'"blocked"'},{value:'"doing"'},{value:'"todo"'}]}}}}}catch{}try{k.displayName="ProgressIndicatorItemButton",k.__docgenInfo={description:"",displayName:"ProgressIndicatorItemButton",props:{background:{defaultValue:{value:"body"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"done"'},{value:'"blocked"'},{value:'"doing"'},{value:'"todo"'}]}}}}}catch{}const C=U.forwardRef(function({children:t},n){return o(P,{ref:n,as:"ul",borderTop:!0,children:t})});try{C.displayName="ProgressIndicatorList",C.__docgenInfo={description:"",displayName:"ProgressIndicatorList",props:{}}}catch{}const m=({background:e,items:t})=>{const{buttonId:n,bodyId:a}=be(),i=U.useRef(null),[r,g]=se(!1,!0),d=Q(),Z=E({from:{display:"none",height:0},to:async s=>{var l;r&&await s({display:"block",overflow:"hidden"}),await s({overflow:"hidden",height:r?(l=i.current)==null?void 0:l.offsetHeight:0,immediate:d}),await s(r?{height:"auto",overflow:"initial"}:{display:"none",overflow:"initial"})}}),{windowWidth:ee}=ie(),oe=(ee||0)<=p.breakpoint.lg-1,te=t.filter(s=>s.status==="done").length,re=t.length,V=`${te} of ${re} steps completed`;return u(P,{as:"section",borderBottom:!0,children:[o(I,{heading:"Progress",subHeading:V}),o(v,{background:e,isOpen:r,onClick:g,ariaControls:a,id:n,label:V}),o(G.div,{id:a,...oe&&{role:"region","aria-labelledby":n},style:Z,css:{[p.mediaQuery.min.md]:{overflow:"unset",display:"block !important",height:"auto !important"},...j.print.visible},children:o(C,{ref:i,children:t.map(({label:s,...l},S)=>q(l)?o(_,{background:e,...l,children:s},S):o(k,{background:e,...l,children:s},S))})})]})},be=()=>{const e=ne();return{buttonId:`progress-indicator-${e}-button`,bodyId:`progress-indicator-${e}-body`}},q=e=>"href"in e;try{m.displayName="ProgressIndicator",m.__docgenInfo={description:"",displayName:"ProgressIndicator",props:{background:{defaultValue:null,description:`If the ProgressIndicator is placed on a page with 'bodyAlt' background, please set this to "bodyAlt".`,name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"ProgressIndicatorItem[]"}}}}}catch{}try{q.displayName="isItemLink",q.__docgenInfo={description:"",displayName:"isItemLink",props:{background:{defaultValue:null,description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},status:{defaultValue:null,description:"",name:"status",required:!0,type:{name:"enum",value:[{value:'"done"'},{value:'"blocked"'},{value:'"doing"'},{value:'"todo"'}]}}}}}catch{}const je={title:"forms/ProgressIndicator",component:m,subcomponents:{ProgressIndicatorCollapseButton:v,ProgressIndicatorHeading:I,ProgressIndicatorItemButton:k,ProgressIndicatorItemLink:_,ProgressIndicatorList:C}},X=[{href:"#",label:"Introduction",status:"done"},{href:"#",label:"Business Contacts",status:"doing"},{href:"#",label:"Case Studies",status:"todo"},{href:"#",label:"Attachments",status:"blocked"}],he=[{onClick:console.log,label:"Introduction",status:"done"},{onClick:console.log,label:"Business Contacts",status:"doing"},{onClick:console.log,label:"Case Studies",status:"todo"}],f=e=>o(m,{...e});f.args={items:X};const c=e=>o(P,{background:"bodyAlt",padding:1.5,children:o(m,{...e})});c.storyName="On bodyAlt background";c.args={background:"bodyAlt",items:X};const y=e=>o(m,{...e});y.args={items:he};var N,H,D;f.parameters={...f.parameters,docs:{...(N=f.parameters)==null?void 0:N.docs,source:{originalSource:"args => <ProgressIndicator {...args} />",...(D=(H=f.parameters)==null?void 0:H.docs)==null?void 0:D.source}}};var R,$,W;c.parameters={...c.parameters,docs:{...(R=c.parameters)==null?void 0:R.docs,source:{originalSource:`args => <Box background="bodyAlt" padding={1.5}>
        <ProgressIndicator {...args} />
    </Box>`,...(W=($=c.parameters)==null?void 0:$.docs)==null?void 0:W.source}}};var M,z,O;y.parameters={...y.parameters,docs:{...(M=y.parameters)==null?void 0:M.docs,source:{originalSource:"args => <ProgressIndicator {...args} />",...(O=(z=y.parameters)==null?void 0:z.docs)==null?void 0:O.source}}};const Fe=["Basic","OnBodyAlt","Button"];export{f as Basic,y as Button,c as OnBodyAlt,Fe as __namedExportsOrder,je as default};
//# sourceMappingURL=ProgressIndicator.stories-c89024a8.js.map
