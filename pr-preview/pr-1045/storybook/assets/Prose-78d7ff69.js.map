{"version":3,"file":"Prose-78d7ff69.js","sources":["../../../../packages/react/src/prose/Prose.tsx"],"sourcesContent":["import { css } from '@emotion/react';\nimport {\n\tforwardRefWithAs,\n\ttokens,\n\tboxPalette,\n\tmapSpacing,\n\tfontGrid,\n\tpacks,\n} from '../core';\nimport { Box, BoxProps, linkStyles, focusStyles } from '../box';\n\nexport const Prose = forwardRefWithAs<'div', BoxProps>(function Prose(\n\tprops,\n\tref\n) {\n\treturn <Box ref={ref} css={proseClass} {...props} />;\n});\n\n// Allow consumers to unset prose styles from being inherited on specific elements\nexport const unsetProseStylesClassname = 'unset-agds-prose-styles';\n\n// Allow consumers to keep vertical rhythm on specific elements\nexport const proseBlockClassname = 'agds-prose-block';\n\n// Exclude tags which contain a className (generated from the CSS prop) or are a child of the unset class\nconst notSelector = `:not([class]):not(.${unsetProseStylesClassname} *)`;\n\nexport const proseClass = css({\n\t/**\n\t * Styles applied to the `Box` container\n\t */\n\t[`&:not(.${unsetProseStylesClassname} *)`]: {\n\t\tmargin: 0,\n\t\ttextSizeAdjust: '100%',\n\t\tcolor: boxPalette.foregroundText,\n\t\t// Font grid\n\t\tfontFamily: tokens.font.body,\n\t\t...fontGrid('sm', 'default'),\n\t},\n\n\t/** Hide the container when there is no content. */\n\t[`&:empty:not(.${unsetProseStylesClassname})`]: {\n\t\tdisplay: 'none',\n\t},\n\n\t/**\n\t * Prose block\n\t */\n\t[`* + .${proseBlockClassname}:not(.${unsetProseStylesClassname} *)`]: {\n\t\tmarginTop: mapSpacing(2),\n\t},\n\n\t/**\n\t * Link styles\n\t */\n\t[`a${notSelector}`]: [linkStyles, focusStyles],\n\n\t/**\n\t * Highlighting in-page sections that are in focus\n\t */\n\t'[tabindex=\"0\"]:focus, :target': packs.outline,\n\n\t/**\n\t * `mark` styling.\n\t */\n\t[`mark${notSelector}`]: {\n\t\tcolor: boxPalette.backgroundBody,\n\t\tbackgroundColor: boxPalette.foregroundAction,\n\t},\n\n\t/**\n\t * Text selection styling\n\t */\n\t'& ::selection': {\n\t\tcolor: boxPalette.backgroundBody,\n\t\tbackgroundColor: boxPalette.foregroundAction,\n\t},\n\n\t[`img${notSelector}`]: {\n\t\tmaxWidth: '100%',\n\t},\n\n\t/**\n\t * Vertical spacing of common text elements.\n\t */\n\t[`p${notSelector}`]: {\n\t\tmaxWidth: tokens.maxWidth.bodyText,\n\t\tmargin: 0,\n\t},\n\n\t[`* + p${notSelector}`]: {\n\t\tmarginTop: mapSpacing(1.5),\n\t},\n\n\t[`ul${notSelector},ol${notSelector},dl${notSelector},pre`]: {\n\t\tmargin: 0, //reset defaults\n\t},\n\n\t[`* + ul${notSelector}, * + ol${notSelector}, * + dl${notSelector}, * + pre`]:\n\t\t{\n\t\t\tmarginTop: mapSpacing(1.5),\n\t\t},\n\n\t[`ul${notSelector}, ol${notSelector}`]: {\n\t\t'> li': {\n\t\t\tmarginTop: mapSpacing(0.5),\n\n\t\t\t[`> ul${notSelector}, > ol${notSelector}`]: {\n\t\t\t\tmarginTop: mapSpacing(0.5),\n\t\t\t},\n\t\t},\n\n\t\t[`> ul${notSelector}`]: {\n\t\t\tlistStyleType: 'disc',\n\t\t},\n\t},\n\n\t[`dl${notSelector}`]: {\n\t\t'> dd': {\n\t\t\tmarginTop: mapSpacing(0.5),\n\t\t\tpaddingLeft: mapSpacing(0.5),\n\t\t\tmarginLeft: 0,\n\t\t\tborderLeftWidth: tokens.borderWidth.sm,\n\t\t\tborderLeftStyle: 'solid',\n\t\t\tborderLeftColor: boxPalette.border,\n\t\t},\n\n\t\t'> dt': {\n\t\t\tmarginTop: mapSpacing(1.5),\n\t\t\tfontWeight: 'bold',\n\n\t\t\t'&:first-of-type': {\n\t\t\t\tmarginTop: 0,\n\t\t\t},\n\t\t},\n\t},\n\n\t[`* + table:not(.${unsetProseStylesClassname} *)`]: {\n\t\tmarginTop: mapSpacing(1.5),\n\t\t' + table': { marginTop: mapSpacing(3) },\n\t},\n\n\t[`h1${notSelector}`]: {\n\t\t...fontGrid('xxl', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\t[`h2${notSelector}`]: {\n\t\t...fontGrid('xl', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\t[`h3${notSelector}`]: {\n\t\t...fontGrid('lg', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\t[`h4${notSelector}`]: {\n\t\t...fontGrid('md', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\t[`h5${notSelector}`]: {\n\t\t...fontGrid('sm', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\t[`h6${notSelector}`]: {\n\t\t...fontGrid('xs', 'heading'),\n\t\tmarginTop: 0,\n\t\tmarginBottom: 0,\n\t},\n\n\t[`* + h1${notSelector}`]: { marginTop: mapSpacing(3) },\n\t[`* + h2${notSelector}`]: { marginTop: mapSpacing(3) },\n\t[`* + h3${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\t[`* + h4${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\t[`* + h5${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\t[`* + h6${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\n\t// Override for sequential headings\n\t[`h1 + h2${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\t[`h2 + h3${notSelector}`]: { marginTop: mapSpacing(1.5) },\n\n\t/**\n\t * Emphasis and alt. voice/mood/diff. from prose text.\n\t */\n\t[`em${notSelector}, i${notSelector}`]: {\n\t\tfontStyle: 'italic',\n\t},\n\n\t/**\n\t * Stong emphasis.\n\t */\n\t[`strong${notSelector}, b${notSelector}`]: {\n\t\tfontWeight: 'bold',\n\t},\n\n\t/**\n\t * `small`: for less important information (not stylistic purposes).\n\t */\n\t[`small:${notSelector}`]: {\n\t\t...fontGrid('xs', 'default'),\n\t},\n\n\t/**\n\t * `s`: represents contents no longer accurate/relevant.\n\t * del` & `ins`: editorial markup.\n\t */\n\t[`s${notSelector}, del${notSelector}`]: {\n\t\ttextDecoration: 'line-through',\n\t},\n\n\t[`ins${notSelector}`]: {\n\t\ttextDecorationLine: 'underline',\n\t\ttextDecorationStyle: 'dashed', //Waiting on Chrome.\n\t\ttextDecorationSkipInk: 'auto',\n\t},\n\n\t/**\n\t * Defining definition of a term.\n\t *\n\t * The paragraph, description list group, or section that is the nearest\n\t * ancestor of the `dfn` element must also contain the definition(s) for the term\n\t * given by the `dfn` element.\n\t *\n\t * Note: `abbr` can be nested inside `dfn`.\n\t */\n\t[`dfn${notSelector}`]: {\n\t\tfontStyle: 'normal',\n\t},\n\n\t/**\n\t * Abbreviations/acronyms.\n\t */\n\t[`abbr,abbr[title]${notSelector}`]: {\n\t\tborderBottom: 'none',\n\t\ttextDecoration: 'underline dotted',\n\t},\n\n\t[`abbr[title]${notSelector}`]: {\n\t\tcursor: 'help',\n\t},\n\n\t[`a abbr${notSelector}`]: {\n\t\tpaddingBottom: 1,\n\t},\n\n\t/**\n\t * Variables, eg. as used in mathematical expressions.\n\t *\n\t * We also provide semantic support for nested vars, and things like indices.\n\t */\n\t[`var${notSelector}`]: {\n\t\tpadding: '0 1px',\n\t\tfontStyle: 'italic',\n\t\tfontFamily: 'serif', // We want mathematical notation to use serif vars per convention.\n\n\t\t'sup,sub': {\n\t\t\tfontFamily: tokens.font.body,\n\t\t\tfontStyle: 'normal',\n\t\t\tpadding: '0 1px',\n\t\t},\n\t},\n\n\t/**\n\t * Prevent `sub` and `sup` elements from affecting the line height in\n\t * all browsers.\n\t * https://github.com/necolas/normalize.css/blob/master/normalize.css#L174\n\t */\n\t[`sub${notSelector}, sup${notSelector}`]: {\n\t\t...fontGrid('xs', 'nospace'),\n\t\tposition: 'relative',\n\t\tverticalAlign: 'baseline',\n\t},\n\n\t[`sub${notSelector}`]: {\n\t\tbottom: '-0.25em',\n\t},\n\n\t[`sup${notSelector}`]: {\n\t\ttop: '-0.5em',\n\t},\n\n\t/**\n\t * Figures\n\t */\n\n\t[`figure${notSelector}`]: {\n\t\tmargin: 0,\n\t},\n\n\t[`* + figure${notSelector}`]: {\n\t\tmarginTop: mapSpacing(1.5),\n\t},\n\n\t[`figcaption${notSelector}`]: {\n\t\tmarginTop: mapSpacing(1),\n\t},\n\n\t/**\n\t * Blockquotes\n\t */\n\n\t[`blockquote${notSelector}`]: {\n\t\tmargin: 0,\n\t\tpadding: mapSpacing(2),\n\t\tborderLeftWidth: tokens.borderWidth.xl,\n\t\tborderLeftStyle: 'solid',\n\t\tborderColor: boxPalette.border,\n\t\tbackground: boxPalette.backgroundShade,\n\t},\n\n\t[`* + blockquote${notSelector}`]: {\n\t\tmarginTop: mapSpacing(1.5),\n\t},\n\n\t/**\n\t * Keyboard strokes.\n\t * Code snippets and code blocks.\n\t */\n\n\t[`pre code${notSelector}`]: {\n\t\tdisplay: 'block',\n\t\ttabSize: 4,\n\t\tpadding: mapSpacing(1),\n\t},\n\n\t[`kbd${notSelector}, code${notSelector}, samp${notSelector}`]: {\n\t\t...fontGrid('xs', 'default'),\n\t\tpadding: mapSpacing(0.25),\n\t\tfontFamily: tokens.font.monospace,\n\t\tdisplay: 'inline-block',\n\t\tborderRadius: tokens.borderRadius,\n\t\tbackgroundColor: boxPalette.backgroundShade,\n\t\tcolor: boxPalette.foregroundText,\n\t},\n\n\t[`pre${notSelector}`]: {\n\t\tfontFamily: tokens.font.monospace,\n\t\tborderRadius: tokens.borderRadius,\n\t\tbackgroundColor: boxPalette.backgroundShade,\n\t\tcolor: boxPalette.foregroundText,\n\t\toverflowX: 'auto',\n\t},\n\n\t/**\n\t * Horizontal rule, used for paragraph-level thematic breaks.\n\t */\n\t[`hr${notSelector}`]: {\n\t\tboxSizing: 'content-box',\n\t\theight: 0,\n\t\toverflow: 'visible',\n\t\tborder: 'none',\n\t\tborderTopWidth: tokens.borderWidth.sm,\n\t\tborderTopStyle: 'solid',\n\t\tborderColor: boxPalette.borderMuted,\n\t\tmarginBottom: mapSpacing(1.5),\n\t},\n\n\t[`* + hr${notSelector}`]: {\n\t\tmarginTop: mapSpacing(1.5),\n\t},\n\n\t/**\n\t * Print styles\n\t */\n\t'@media print': {\n\t\t// Display link URLs\n\t\t'a[href]:after': {\n\t\t\tcontent: '\" (\" attr(href) \")\" !important',\n\t\t},\n\t\t// Expand abbreviations\n\t\t'abbr[title]:after': {\n\t\t\tcontent: '\" (\" attr(title) \")\"',\n\t\t},\n\t\t// Page breaks\n\t\t'pre, blockquote, tr, img': {\n\t\t\tpageBreakInside: 'avoid',\n\t\t},\n\t\t'h2, h3 ': {\n\t\t\tpageBreakAfter: 'avoid',\n\t\t},\n\t},\n});\n"],"names":["Prose","forwardRefWithAs","props","ref","jsx","Box","proseClass","unsetProseStylesClassname","proseBlockClassname","notSelector","css","boxPalette","tokens","fontGrid","mapSpacing","linkStyles","focusStyles","packs"],"mappings":"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"}