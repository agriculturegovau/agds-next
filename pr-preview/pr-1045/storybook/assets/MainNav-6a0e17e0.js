import{a as c,j as t,b as m,B as v,o as H,q as A,p as C,t as g,m as b,G as W,g as S,e as w,u as T}from"./Box-3d8e40b9.js";import{r as x}from"./index-42611d8b.js";import{r as z}from"./index-7a46b491.js";import{F as D}from"./Combination-c1ec471a.js";import{F as p}from"./Stack-88a94cf9.js";import{u as j}from"./useTernaryState-6ea40a94.js";import{u as P}from"./useWindowSize-fbc787ee.js";import{B as L}from"./Button-5675b78b.js";import"./ButtonGroup-d4eeb7ce.js";const R=.5,F={body:"shade",bodyAlt:"shadeAlt"},h={linkHoverBg:"--nav-linkHoverBg",linkActiveBg:"--nav-linkActiveBg",bottomBar:"--nav-bottomBar"},y={linkHoverBg:`var(${h.linkHoverBg})`,linkActiveBg:`var(${h.linkActiveBg})`,bottomBar:`var(${h.bottomBar})`};function $(e,n){if(!n)return"";const r=e.filter(o=>"href"in o&&o.href);let a="";for(const o of r){if(o.href===n)return o.href;n!=null&&n.startsWith(o.href)&&o.href!=="/"&&o.href.length>a.length&&(a=o.href)}return a}function M({onClick:e,children:n,...r}){return t(v,{paddingBottom:.5,display:{xs:"block",lg:"none"},children:t(p,{as:L,flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:"xs",lineHeight:"nospace",gap:.5,padding:1,height:"100%",focus:!0,css:{color:m.foregroundAction,"&:hover":{color:m.foregroundText,backgroundColor:y.linkHoverBg}},onClick:e,...r,children:n})})}function N({onClick:e}){return c(M,{onClick:e,"aria-controls":"main-nav-dialog","aria-expanded":"false","aria-label":"Open main menu",children:[c("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[t("rect",{x:"4",y:"16",width:"16",height:"2"}),t("rect",{x:"4",y:"11",width:"16",height:"2"}),t("rect",{x:"4",y:"6",width:"16",height:"2"})]}),"Menu"]})}function I({onClick:e}){return c(M,{onClick:e,"aria-controls":"main-nav-dialog","aria-expanded":"true","aria-label":"Close main menu",children:[c("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:[t("rect",{x:"6",y:"17.3137",width:"16",height:"2",transform:"rotate(-45 6 17.3137)"}),t("rect",{x:"7.41406",y:"6",width:"16",height:"2",transform:"rotate(45 7.41406 6)"})]}),"Close"]})}try{N.displayName="OpenButton",N.__docgenInfo={description:"",displayName:"OpenButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}try{I.displayName="CloseButton",I.__docgenInfo={description:"",displayName:"CloseButton",props:{onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"MouseEventHandler<HTMLButtonElement>"}}}}}catch{}function q({id:e,rightContent:n,children:r,background:a="body",hasItems:o}){const d=x.useRef(null),l=F[a],{windowWidth:i}=P(),[s,u,f]=j(!1),k=s&&(i||0)<=g.breakpoint.lg-1,V=H(d);return c(v,{id:e,tabIndex:-1,ref:d,background:a,color:"text",css:{position:"relative","&:focus":{outline:"none"},[h.linkHoverBg]:A[l],[h.linkActiveBg]:A[a],[h.bottomBar]:m.accent,...C.print.hidden},children:[k?t(O,{}):null,t(K,{}),t(p,{justifyContent:"center",css:{position:"relative"},children:c(p,{justifyContent:"space-between",alignItems:"center",maxWidth:g.maxWidth.container,width:"100%",paddingX:{xs:.75,lg:2},children:[o?t(N,{onClick:u}):null,t(G,{palette:V,menuVisiblyOpen:k,close:f,children:r}),n]})}),k?t(Q,{onClick:f}):null]})}function G({children:e,close:n,menuVisiblyOpen:r,palette:a}){const o=x.useRef(null);x.useEffect(()=>{const l=i=>{i.code==="Escape"&&(i.preventDefault(),i.stopPropagation(),n())};return window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)},[n]),x.useEffect(()=>{if(!r||!o.current)return;const l=[],i=[];return document.querySelectorAll("body > *").forEach(function(s){if(s===o.current)return;const u=s.getAttribute("aria-hidden");u!==null&&u!=="false"||(l.push(s),i.push(u),s.setAttribute("aria-hidden","true"))}),()=>{l.forEach((s,u)=>{const f=i[u];f===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",f)})}},[r]);const d=t(v,{palette:a,ref:o,...r?{role:"dialog","aria-label":"Main navigation","aria-modal":"true"}:null,id:"main-nav-dialog",css:{[g.mediaQuery.max.md]:{zIndex:200,position:"fixed",display:r?"block":"none",background:m.backgroundBody,top:0,left:0,bottom:0,width:"100%",maxWidth:g.maxWidth.mobileMenu,padding:b(1),boxSizing:"border-box",overflowY:"auto"}},children:c(D,{returnFocus:!0,disabled:!r,children:[t(I,{onClick:n}),e]})});return r?z.createPortal(d,document.body):d}function O(){return t(W,{styles:{body:{overflow:"hidden"}}})}function Q({onClick:e}){return t(v,{css:{position:"fixed",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.8)",zIndex:100},onClick:e})}function K(){return t(v,{paddingTop:R,css:{position:"absolute",bottom:0,left:0,right:0,backgroundColor:y.bottomBar}})}try{q.displayName="NavContainer",q.__docgenInfo={description:"",displayName:"NavContainer",props:{background:{defaultValue:{value:"body"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},hasItems:{defaultValue:null,description:"",name:"hasItems",required:!1,type:{name:"boolean"}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},rightContent:{defaultValue:null,description:"",name:"rightContent",required:!1,type:{name:"ReactNode"}}}}}catch{}function _({active:e,children:n,hasEndElement:r,type:a}){return t(p,{as:"li",height:"100%",paddingBottom:a==="primary"?{lg:.5}:.5,fontSize:{xs:"xs",lg:"sm"},css:[S({" a, button":{boxSizing:"border-box",position:"relative",display:"flex",flexDirection:a==="primary"?"row":w({xs:"column-reverse",lg:"row"}),alignItems:"center",justifyContent:a==="primary"||r?"space-between":"center",height:"100%",width:"100%",gap:b(.5),color:m[e?"foregroundText":"foregroundAction"],padding:b(1),textDecoration:"none",fontWeight:a==="primary"?w({xs:e?"bold":void 0,lg:"normal"}):"normal","&:after":{content:a==="primary"?w({xs:void 0,lg:'""'}):"''",height:b(.5),position:"absolute",top:"100%",left:0,right:0,backgroundColor:e?y.linkActiveBg:"transparent"},"&:focus":{outline:"none","&:before":{content:'""',position:"absolute",zIndex:100,top:0,left:0,height:"100%",width:"100%",...C.outline},"&::-moz-focus-inner":{border:0}},"&:hover":{color:m.foregroundText,backgroundColor:y.linkHoverBg,"& > span:first-of-type":C.underline,"&::after":{background:e?y.linkHoverBg:"transparent"}}}})],children:n})}try{_.displayName="NavListItem",_.__docgenInfo={description:"",displayName:"NavListItem",props:{active:{defaultValue:null,description:"",name:"active",required:!0,type:{name:"boolean"}},hasEndElement:{defaultValue:null,description:"",name:"hasEndElement",required:!0,type:{name:"boolean"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}function B({"aria-label":e,activePath:n,items:r,type:a}){const o=T();return t(X,{"aria-label":e,type:a,children:r==null?void 0:r.map(({label:d,endElement:l,...i},s)=>{if("href"in i){const u=i.href===n;return t(_,{active:u,type:a,hasEndElement:!!l,children:c(o,{"aria-current":u?"page":void 0,...i,children:[t("span",{children:d}),l]})},s)}return t(_,{active:!1,type:a,hasEndElement:!!l,children:c(L,{...i,children:[t("span",{children:d}),l]})},s)})})}function X({"aria-label":e,children:n,type:r}){return r==="primary"?t(p,{as:"nav",justifyContent:"space-between",width:"100%",flexDirection:{xs:"column",lg:"row"},"aria-label":e,children:t(p,{as:"ul",flexDirection:{xs:"column",lg:"row"},flexWrap:"wrap",alignItems:"stretch",css:{[g.mediaQuery.max.md]:{"& > li":{borderTopWidth:g.borderWidth.sm,borderTopStyle:"solid",borderTopColor:m.border}}},children:n})}):t(p,{as:"nav",height:"100%","aria-label":e,children:t(p,{as:"ul",height:"100%",children:n})})}try{B.displayName="NavList",B.__docgenInfo={description:"",displayName:"NavList",props:{"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!0,type:{name:"string"}},activePath:{defaultValue:null,description:"",name:"activePath",required:!0,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"NavListItem[]"}},type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'}]}}}}}catch{}function E({background:e="body",activePath:n,items:r,secondaryItems:a,id:o}){const d=$([...r||[],...a||[]],n);return t(q,{background:e,id:o,hasItems:r&&r.length>0,rightContent:t(B,{"aria-label":"secondary",items:a,activePath:d,type:"secondary"}),children:t(B,{"aria-label":"main",items:r,activePath:d,type:"primary"})})}try{E.displayName="MainNav",E.__docgenInfo={description:"",displayName:"MainNav",props:{activePath:{defaultValue:null,description:"",name:"activePath",required:!1,type:{name:"string"}},background:{defaultValue:{value:"body"},description:"",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},id:{defaultValue:null,description:"",name:"id",required:!1,type:{name:"string"}},items:{defaultValue:null,description:"",name:"items",required:!1,type:{name:"NavListItem[]"}},secondaryItems:{defaultValue:null,description:"",name:"secondaryItems",required:!1,type:{name:"NavListItem[]"}}}}}catch{}export{E as M,R as b};
//# sourceMappingURL=MainNav-6a0e17e0.js.map
