import{j as i,g as fe,p as q,e as he,q as ge,B as l,u as Y,a as g,t as u,b}from"./Box-e652c7f2.js";import{F as J}from"./Stack-4546232d.js";import{r as k}from"./index-42611d8b.js";import{a as X,u as Z,b as ee}from"./react-spring-web.esm-92c11c75.js";import{u as ye}from"./useToggleState-9d17fadd.js";import{u as ve}from"./useWindowSize-fbc787ee.js";import{u as be}from"./useId-9773510a.js";import{B as _e}from"./Button-ffb9a9d6.js";import"./ButtonGroup-75f04ad3.js";import{C as ke}from"./WebsiteIcon-f0b253fc.js";import"./CalendarIcon-16f5268f.js";import"./_commonjsHelpers-042e6b4d.js";import"./index-7a46b491.js";import"./LoadingBlanket-2ea81d60.js";import"./Content-e54e3b95.js";import"./BaseContent-1f85429f.js";import"./PageContent-3fd36d19.js";import"./SectionContent-a2643fbb.js";import"./ContentBleed-5b1d8d06.js";import"./Text-51e6146a.js";import"./VisuallyHidden-315ab967.js";import"./mergeRefs-868b543a.js";function Ne(e,t){if(!t)return"";let r="";const a=te(e);for(const o of a){if(!o.href||o.href===t)return o.href;t!=null&&t.startsWith(o.href)&&o.href.length>r.length&&(r=o.href)}return r}function te(e){const t=[];for(const r of e){const{items:a,...o}=r;t.push(o),a!=null&&a.length&&t.push(...te(a))}return t}function re(e,t){return e!=null&&e.length&&t?e.some(r=>{var a;if(r.href===t||(a=r.items)!=null&&a.length&&re(r.items,t))return!0}):!1}const ae={hover:"--sideNav-hover"},_={hover:`var(${ae.hover})`},Se={body:"shade",bodyAlt:"shadeAlt"};function Ce(){const e=be();return{buttonId:`sideNav-${e}-button`,bodyId:`sideNav-${e}-body`,navId:`sideNav-${e}-nav`,titleId:`sideNav-${e}-title`}}const S=({children:e,background:t})=>{const r=Se[t];return i(l,{as:"aside",background:t,css:fe({...q.print.hidden,[ae.hover]:he(r,a=>ge[a])}),children:e})};try{S.displayName="SideNavContainer",S.__docgenInfo={description:"",displayName:"SideNavContainer",props:{background:{defaultValue:null,description:"",name:"background",required:!0,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}}}}}catch{}function C({children:e,id:t,href:r,isCurrentPage:a}){const o=Y();return r?i(l,{as:"h2",id:t,borderBottom:!0,borderBottomWidth:"xl",children:i(l,{as:o,padding:1,color:"text",fontSize:"sm",fontWeight:"bold",lineHeight:"heading",display:"block",focus:!0,href:r,"aria-current":a?"page":void 0,css:{textDecoration:"none","&:hover":{...q.underline,backgroundColor:_.hover}},children:e})}):i(l,{as:"h2",id:t,borderBottom:!0,borderBottomWidth:"xl",display:"block",padding:1,color:"text",fontSize:"sm",fontWeight:"bold",lineHeight:"heading",children:e})}try{C.displayName="SideNavTitle",C.__docgenInfo={description:"",displayName:"SideNavTitle",props:{id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isCurrentPage:{defaultValue:null,description:"",name:"isCurrentPage",required:!0,type:{name:"boolean"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}}}}}catch{}const Le=X(ke),L=({ariaControls:e,children:t,id:r,isOpen:a,onClick:o})=>{const n=Z(),d=ee({from:{transform:"rotate(0deg)"},to:{transform:`rotate(${a?180:0}deg)`},immediate:n});return g(J,{as:_e,"aria-controls":e,"aria-expanded":a,onClick:o,id:r,color:"action",fontSize:"md",lineHeight:"heading",fontWeight:"bold",padding:1,justifyContent:"space-between",alignItems:"center",width:"100%",link:!0,focus:!0,borderBottom:!0,css:{"&:hover":{background:_.hover},[u.mediaQuery.min.md]:{display:"none"}},children:[t,i(Le,{size:"sm",weight:"bold",style:d})]})};try{L.displayName="SideNavCollapseButton",L.__docgenInfo={description:"",displayName:"SideNavCollapseButton",props:{ariaControls:{defaultValue:null,description:"",name:"ariaControls",required:!0,type:{name:"string"}},id:{defaultValue:null,description:"",name:"id",required:!0,type:{name:"string"}},isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"() => void"}}}}}catch{}const ie=k.createContext(0),oe=()=>k.useContext(ie);function I({children:e}){const r=oe()+1;return i(ie.Provider,{value:r,children:i(l,{as:"ul",children:e})})}try{I.displayName="SideNavGroup",I.__docgenInfo={description:"",displayName:"SideNavGroup",props:{}}}catch{}function w({isActive:e,isCurrentPage:t,children:r,label:a,...o}){const n=oe(),d=Y();return g(Ie,{isActive:e,depth:n,children:[g(J,{as:d,"aria-current":t?"page":void 0,gap:.75,color:"muted",fontSize:"xs",paddingY:1,paddingRight:1,borderBottom:!0,borderBottomWidth:"sm",borderColor:"muted",focus:!0,...o,css:{textDecoration:"none",paddingLeft:`${n}rem`,"&:hover":{color:b.foregroundText,backgroundColor:_.hover,"& span:last-of-type":q.underline},...t&&{position:"relative",color:b.foregroundText,backgroundColor:_.hover,fontWeight:u.fontWeight.bold,":before":{content:'""',position:"absolute",top:0,left:0,bottom:0,borderLeftWidth:u.borderWidth.xl,borderLeftStyle:"solid",borderLeftColor:b.foregroundAction,pointerEvents:"none"}}},children:[i(we,{depth:n}),i("span",{children:a})]}),r]})}function Ie({children:e,depth:t,isActive:r}){return i("li",{css:t===1&&r?{position:"relative",":before":{content:'""',position:"absolute",top:0,left:0,bottom:0,borderLeftWidth:u.borderWidth.xl,borderLeftStyle:"solid",borderLeftColor:b.borderMuted,pointerEvents:"none"}}:void 0,children:e})}function we({depth:e}){return e>2?i("span",{"aria-hidden":!0,children:"—"}):e>1?i("span",{"aria-hidden":!0,children:"–"}):null}try{w.displayName="SideNavLink",w.__docgenInfo={description:"",displayName:"SideNavLink",props:{"aria-label":{defaultValue:null,description:"Describes the anchor element to assistive technologies.",name:"aria-label",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"The CSS class name, typically generated from the `css` prop.",name:"className",required:!1,type:{name:"string"}},download:{defaultValue:null,description:"Causes the browser to treat the linked URL as a download.",name:"download",required:!1,type:{name:"any"}},href:{defaultValue:null,description:"The URL that the hyperlink points to.",name:"href",required:!1,type:{name:"string"}},id:{defaultValue:null,description:"The ID of the hyperlink.",name:"id",required:!1,type:{name:"string"}},referrerPolicy:{defaultValue:null,description:"How much of the referrer to send when following the link.",name:"referrerPolicy",required:!1,type:{name:"enum",value:[{value:'""'},{value:'"no-referrer"'},{value:'"no-referrer-when-downgrade"'},{value:'"origin"'},{value:'"origin-when-cross-origin"'},{value:'"same-origin"'},{value:'"strict-origin"'},{value:'"strict-origin-when-cross-origin"'},{value:'"unsafe-url"'}]}},rel:{defaultValue:null,description:"The relationship of the linked URL as space-separated link types.",name:"rel",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"Where to display the linked URL, as the name for a browsing context (a tab, window, or <iframe>).",name:"target",required:!1,type:{name:"HTMLAttributeAnchorTarget"}},isActive:{defaultValue:null,description:"",name:"isActive",required:!1,type:{name:"boolean"}},isCurrentPage:{defaultValue:null,description:"",name:"isCurrentPage",required:!1,type:{name:"boolean"}},label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"ReactNode"}}}}}catch{}function x({activePath:e,items:t}){const r=k.useMemo(()=>t.map(a=>({...a,isActive:a.href===e||re(a.items,e)})),[e,t]);return i(ne,{activePath:e,items:r})}function ne({activePath:e,items:t}){return i(I,{children:t.map(({isActive:r,items:a,...o},n)=>i(w,{isActive:r,isCurrentPage:o.href===e,...o,children:a!=null&&a.length?i(ne,{items:a,activePath:e}):null},n))})}try{x.displayName="SideNavLinkList",x.__docgenInfo={description:"",displayName:"SideNavLinkList",props:{activePath:{defaultValue:null,description:"",name:"activePath",required:!0,type:{name:"string | undefined"}},items:{defaultValue:null,description:"",name:"items",required:!0,type:{name:"SideNavMenuItemType[]"}}}}}catch{}function c({activePath:e,collapseTitle:t,items:r,background:a="body",title:o,titleLink:n}){const{bodyId:d,buttonId:T,navId:le,titleId:A}=Ce(),B=k.useRef(null),[v,de]=ye(!1,!0),se=Z(),ue=ee({from:{display:"none",height:0},to:async N=>{var W;v&&await N({display:"block",overflow:"hidden"}),await N({overflow:"hidden",height:v?(W=B.current)==null?void 0:W.offsetHeight:0,immediate:se}),await N(v?{height:"auto",overflow:"initial"}:{display:"none",overflow:"initial"})}}),{windowWidth:ce}=ve(),pe=(ce||0)<=u.breakpoint.lg-1,me=Ne(r,e);return g(S,{background:a,children:[i(L,{isOpen:v,onClick:de,ariaControls:d,id:T,children:t}),i(X.div,{id:d,...pe&&{role:"region","aria-labelledby":T},style:ue,css:{[u.mediaQuery.min.md]:{overflow:"unset",display:"block !important",height:"auto !important"}},children:g(l,{ref:B,as:"nav","aria-labelledby":A,id:le,fontFamily:"body",fontSize:"sm",lineHeight:"default",children:[i(C,{id:A,href:n,isCurrentPage:e===n,children:o}),i(x,{activePath:me,items:r})]})})]})}try{c.displayName="SideNav",c.__docgenInfo={description:"",displayName:"SideNav",props:{activePath:{defaultValue:null,description:"Used for highlighting the active element.",name:"activePath",required:!0,type:{name:"string"}},collapseTitle:{defaultValue:null,description:"Used as the title of the expand/collapse trigger on smaller screen sizes.",name:"collapseTitle",required:!0,type:{name:"string"}},background:{defaultValue:{value:"body"},description:"If SideNav is placed on 'bodyAlt' background, please set this to 'bodyAlt'.",name:"background",required:!1,type:{name:"enum",value:[{value:'"body"'},{value:'"bodyAlt"'}]}},items:{defaultValue:null,description:"The list of links.",name:"items",required:!0,type:{name:"SideNavMenuItemType[]"}},title:{defaultValue:null,description:"The title is placed at the top of the list of links.",name:"title",required:!0,type:{name:"string"}},titleLink:{defaultValue:null,description:"If provided, the title will be rendered as an anchor element.",name:"titleLink",required:!1,type:{name:"string"}}}}}catch{}const y={title:"Lodging your tax return",titleLink:"/",collapseTitle:"In this section",items:[{href:"/welcome",label:"Welcome"},{href:"/do-you-need-to-lodge-a-tax-return",label:"Do you need to lodge a tax return?"},{href:"/lodge-online",label:"Lodge online",items:[{href:"/lodge-online/pre-filling",label:"Pre-filling your online tax return"}]},{href:"/whats-new-for-individuals",label:"What's new for individuals"},{href:"/why-you-may-receive-a-tax-bill",label:"Why you may receive a tax bill"},{href:"/in-detail",label:"In detail",items:[{href:"/in-detail/record-keeping",label:"Record keeping",items:[{href:"/in-detail/record-keeping/tax",label:"Keeping your tax records"},{href:"/in-detail/record-keeping/incorrect-amounts",label:"Incorrect amounts"}]},{href:"/tax-receipt",label:"Tax receipt"},{href:"/pre-fill availability",label:"Pre-fill availability"}]}],activePath:"/in-detail"},Ye={title:"navigation/SideNav",component:c},V=e=>i(c,{...e}),p=V.bind({});p.args={...y};const m=V.bind({});m.args={...y,activePath:"/in-detail/record-keeping"};const f=V.bind({});f.args={...y,activePath:"/in-detail/record-keeping/incorrect-amounts"};const h=e=>i(c,{...e});h.args={...y,titleLink:void 0,activePath:"/in-detail"};const s=e=>i(l,{padding:2,background:"bodyAlt",children:i(c,{...e})});s.args={...y,background:"bodyAlt"};s.storyName="On bodyAlt background";var P,M,R;p.parameters={...p.parameters,docs:{...(P=p.parameters)==null?void 0:P.docs,source:{originalSource:"args => <SideNav {...args} />",...(R=(M=p.parameters)==null?void 0:M.docs)==null?void 0:R.source}}};var z,H,D;m.parameters={...m.parameters,docs:{...(z=m.parameters)==null?void 0:z.docs,source:{originalSource:"args => <SideNav {...args} />",...(D=(H=m.parameters)==null?void 0:H.docs)==null?void 0:D.source}}};var $,O,U;f.parameters={...f.parameters,docs:{...($=f.parameters)==null?void 0:$.docs,source:{originalSource:"args => <SideNav {...args} />",...(U=(O=f.parameters)==null?void 0:O.docs)==null?void 0:U.source}}};var G,j,E;h.parameters={...h.parameters,docs:{...(G=h.parameters)==null?void 0:G.docs,source:{originalSource:"args => <SideNav {...args} />",...(E=(j=h.parameters)==null?void 0:j.docs)==null?void 0:E.source}}};var F,Q,K;s.parameters={...s.parameters,docs:{...(F=s.parameters)==null?void 0:F.docs,source:{originalSource:`args => <Box padding={2} background="bodyAlt">
        <SideNav {...args} />
    </Box>`,...(K=(Q=s.parameters)==null?void 0:Q.docs)==null?void 0:K.source}}};const Je=["Basic","ChildActive","GrandChildActive","WithoutTitleLink","OnBodyAlt"];export{p as Basic,m as ChildActive,f as GrandChildActive,s as OnBodyAlt,h as WithoutTitleLink,Je as __namedExportsOrder,Ye as default};
//# sourceMappingURL=SideNav.stories-ff420f4f.js.map
