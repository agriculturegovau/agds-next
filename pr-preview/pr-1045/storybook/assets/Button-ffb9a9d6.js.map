{"version":3,"file":"Button-ffb9a9d6.js","sources":["../../../../packages/react/src/button/styles.tsx","../../../../packages/react/src/button/BaseButton.tsx","../../../../packages/react/src/button/Button.tsx"],"sourcesContent":["import { packs, boxPalette, tokens, mapSpacing } from '../core';\n\nconst variants = {\n\tprimary: {\n\t\tbackground: boxPalette.foregroundAction,\n\t\tborderColor: boxPalette.foregroundAction,\n\t\tcolor: boxPalette.backgroundBody,\n\t\ttextDecoration: 'none',\n\n\t\t'&:not(:disabled):hover': {\n\t\t\tbackground: boxPalette.foregroundText,\n\t\t\tborderColor: boxPalette.foregroundText,\n\t\t\tcolor: boxPalette.backgroundBody,\n\t\t\t...packs.underline,\n\t\t},\n\t},\n\tsecondary: {\n\t\tbackground: boxPalette.backgroundBody,\n\t\tborderColor: boxPalette.foregroundAction,\n\t\tcolor: boxPalette.foregroundAction,\n\t\ttextDecoration: 'none',\n\n\t\t'&:not(:disabled):hover': {\n\t\t\tbackground: boxPalette.backgroundBody,\n\t\t\tborderColor: boxPalette.foregroundText,\n\t\t\tcolor: boxPalette.foregroundText,\n\t\t\t...packs.underline,\n\t\t},\n\t},\n\ttertiary: {\n\t\tbackground: 'transparent',\n\t\tborderColor: 'transparent',\n\t\tcolor: boxPalette.foregroundAction,\n\t\t...packs.underline,\n\n\t\t'&:not(:disabled):hover': {\n\t\t\tbackground: 'transparent',\n\t\t\tborderColor: 'transparent',\n\t\t\tcolor: boxPalette.foregroundText,\n\t\t\ttextDecoration: 'none',\n\t\t},\n\t},\n\ttext: {\n\t\theight: 'auto',\n\t\tpaddingLeft: 0,\n\t\tpaddingRight: 0,\n\t\tborderWidth: 0,\n\t\tbackground: 'transparent',\n\t\tcolor: boxPalette.foregroundAction,\n\t\t...packs.underline,\n\n\t\t'&:not(:disabled):hover': {\n\t\t\tbackground: 'transparent',\n\t\t\tcolor: boxPalette.foregroundText,\n\t\t\ttextDecoration: 'none',\n\t\t},\n\t},\n} as const;\n\nexport type ButtonVariant = keyof typeof variants;\n\nconst sizes = {\n\tsm: {\n\t\t...packs.input.sm,\n\t\tgap: mapSpacing(0.25),\n\t\tpaddingLeft: mapSpacing(0.75),\n\t\tpaddingRight: mapSpacing(0.75),\n\t},\n\tmd: {\n\t\t...packs.input.md,\n\t\tgap: mapSpacing(0.5),\n\t\tpaddingLeft: mapSpacing(1.5),\n\t\tpaddingRight: mapSpacing(1.5),\n\t},\n};\n\nexport type ButtonSize = keyof typeof sizes;\n\nexport const iconSize = {\n\tsm: 'sm',\n\tmd: 'md',\n} as const;\n\nexport const loadingSize = {\n\tsm: 'sm',\n\tmd: 'md',\n} as const;\n\nexport function buttonStyles({\n\tblock,\n\tvariant,\n\tsize,\n}: {\n\tblock: boolean;\n\tvariant: ButtonVariant;\n\tsize: ButtonSize;\n}) {\n\treturn {\n\t\tappearance: 'none',\n\t\tboxSizing: 'border-box',\n\t\tposition: 'relative',\n\t\tdisplay: block ? 'flex' : 'inline-flex',\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tborderWidth: tokens.borderWidth.lg,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: tokens.borderRadius,\n\t\tcursor: 'pointer',\n\t\tfontFamily: tokens.font.body,\n\t\tmargin: 0,\n\t\ttextAlign: 'center',\n\n\t\t...(block && {\n\t\t\twidth: '100%',\n\t\t}),\n\n\t\t'&:disabled': {\n\t\t\tcursor: 'not-allowed',\n\t\t\topacity: 0.3,\n\t\t},\n\n\t\t'&:focus': packs.outline,\n\n\t\t...sizes[size],\n\t\t...variants[variant],\n\t} as const;\n}\n","import {\n\tButtonHTMLAttributes,\n\tMouseEvent,\n\tforwardRef,\n\tuseCallback,\n\tuseRef,\n\tPropsWithChildren,\n} from 'react';\nimport { mergeRefs, tokens } from '../core';\n\ntype NativeButtonProps = ButtonHTMLAttributes<HTMLButtonElement>;\n\nexport type BaseButtonProps = PropsWithChildren<{\n\t/** Identifies the element (or elements) whose contents or presence are controlled by the current element. */\n\t'aria-controls'?: NativeButtonProps['aria-controls'];\n\t/** Identifies the element (or elements) that describes the object. */\n\t'aria-describedby'?: NativeButtonProps['aria-describedby'];\n\t/** Indicates whether the element, or another grouping element it controls, is currently expanded or collapsed. */\n\t'aria-expanded'?: NativeButtonProps['aria-expanded'];\n\t/** Describes the button element to assistive technologies. */\n\t'aria-label'?: NativeButtonProps['aria-label'];\n\t/** The CSS class name, typically generated from the `css` prop. */\n\tclassName?: string;\n\t/** When true, prevents onClick from firing. */\n\tdisabled?: boolean;\n\t/** Defines an identifier (ID) which must be unique. */\n\tid?: string;\n\t/** Function to be fired following a click event of the button. */\n\tonClick?: NativeButtonProps['onClick'];\n\t/** Provide an alternate type if the button is within a form. */\n\ttype?: NativeButtonProps['type'];\n}>;\n\nexport const BaseButton = forwardRef<HTMLButtonElement, BaseButtonProps>(\n\tfunction BaseButton(\n\t\t{ onClick: onClickProp, type = 'button', ...props },\n\t\tforwardedRef\n\t) {\n\t\tconst ref = useRef<HTMLButtonElement>(null);\n\n\t\t/**\n\t\t * In Safari buttons are not focused automatically by the browser once pressed, the default behaviour is to focus the nearest focusable ancestor.\n\t\t * To fix this we need to manually focus the button element after the user presses the element.\n\t\t */\n\t\tconst onClick = useCallback(\n\t\t\t(event: MouseEvent<HTMLButtonElement>) => {\n\t\t\t\tref.current?.focus();\n\t\t\t\tonClickProp?.(event);\n\t\t\t},\n\t\t\t[ref, onClickProp]\n\t\t);\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tref={mergeRefs([ref, forwardedRef])}\n\t\t\t\ttype={type}\n\t\t\t\tonClick={onClick}\n\t\t\t\tcss={{\n\t\t\t\t\tappearance: 'none',\n\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\ttextAlign: 'left',\n\t\t\t\t\tborder: 'none',\n\t\t\t\t\tpadding: 0,\n\t\t\t\t\tfontFamily: tokens.font.body,\n\t\t\t\t\tfontSize: 'inherit',\n\t\t\t\t\tlineHeight: 'inherit',\n\t\t\t\t}}\n\t\t\t\t{...props}\n\t\t\t/>\n\t\t);\n\t}\n);\n","import { ComponentType, forwardRef } from 'react';\nimport { LinkProps, useLinkComponent } from '../core';\nimport { IconProps } from '../icon';\nimport { LoadingDots } from '../loading';\nimport {\n\tbuttonStyles,\n\tButtonSize,\n\tButtonVariant,\n\ticonSize,\n\tloadingSize,\n} from './styles';\nimport { BaseButton, BaseButtonProps } from './BaseButton';\n\ntype CommonButtonProps = {\n\t/** If true, the button will stretch to the fill the width of its container. */\n\tblock?: boolean;\n\t/** The icon to display before the buttons children. */\n\ticonBefore?: ComponentType<IconProps>;\n\t/** The icon to display after the buttons children. */\n\ticonAfter?: ComponentType<IconProps>;\n\t/** The size of the button. */\n\tsize?: ButtonSize;\n\t/** The variant of the button. */\n\tvariant?: ButtonVariant;\n};\n\ntype LoadingButtonProps = {\n\t/** When true, the button will display a loading indicator. */\n\tloading?: boolean;\n\t/** Text to read out to assistive technologies when button is loading. */\n\tloadingLabel?: string;\n};\n\nexport type ButtonProps = CommonButtonProps &\n\tLoadingButtonProps &\n\tBaseButtonProps;\n\nexport const Button = forwardRef<HTMLButtonElement, ButtonProps>(\n\tfunction Button(\n\t\t{\n\t\t\ttype = 'button',\n\t\t\tblock = false,\n\t\t\ticonBefore: IconBefore,\n\t\t\ticonAfter: IconAfter,\n\t\t\tchildren,\n\t\t\tsize = 'md',\n\t\t\tloading = false,\n\t\t\tloadingLabel = 'Busy',\n\t\t\tvariant = 'primary',\n\t\t\t...props\n\t\t},\n\t\tref\n\t) {\n\t\tconst styles = buttonStyles({ block, size, variant });\n\t\treturn (\n\t\t\t<BaseButton ref={ref} css={styles} type={type} {...props}>\n\t\t\t\t{IconBefore ? (\n\t\t\t\t\t<IconBefore size={iconSize[size]} weight=\"regular\" />\n\t\t\t\t) : null}\n\t\t\t\t<span>\n\t\t\t\t\t<span css={{ opacity: loading ? 0 : 1 }}>{children}</span>\n\t\t\t\t\t<ButtonLoadingDots\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tlabel={loadingLabel}\n\t\t\t\t\t\tsize={size}\n\t\t\t\t\t/>\n\t\t\t\t</span>\n\t\t\t\t{IconAfter ? (\n\t\t\t\t\t<IconAfter size={iconSize[size]} weight=\"regular\" />\n\t\t\t\t) : null}\n\t\t\t</BaseButton>\n\t\t);\n\t}\n);\n\nexport type ButtonLinkProps = CommonButtonProps & LinkProps;\n\nexport const ButtonLink = forwardRef<HTMLAnchorElement, ButtonLinkProps>(\n\tfunction ButtonLink(\n\t\t{\n\t\t\tchildren,\n\t\t\tblock = false,\n\t\t\ticonBefore: IconBefore,\n\t\t\ticonAfter: IconAfter,\n\t\t\tsize = 'md',\n\t\t\tvariant = 'primary',\n\t\t\t...props\n\t\t},\n\t\tref\n\t) {\n\t\tconst styles = buttonStyles({ block, size, variant });\n\t\tconst Link = useLinkComponent();\n\t\treturn (\n\t\t\t<Link ref={ref} css={styles} {...props}>\n\t\t\t\t{IconBefore ? (\n\t\t\t\t\t<IconBefore size={iconSize[size]} weight=\"regular\" />\n\t\t\t\t) : null}\n\t\t\t\t{children}\n\t\t\t\t{IconAfter ? (\n\t\t\t\t\t<IconAfter size={iconSize[size]} weight=\"regular\" />\n\t\t\t\t) : null}\n\t\t\t</Link>\n\t\t);\n\t}\n);\n\nconst ButtonLoadingDots = ({\n\tlabel,\n\tloading,\n\tsize,\n}: {\n\tlabel: string;\n\tloading?: boolean;\n\tsize: ButtonSize;\n}) => {\n\t// aria-live container must be present in the DOM before the loading dots are added\n\treturn (\n\t\t<span aria-live=\"assertive\">\n\t\t\t{loading ? (\n\t\t\t\t<LoadingDots\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tsize={loadingSize[size]}\n\t\t\t\t\tcss={{\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tleft: '50%',\n\t\t\t\t\t\ttop: '50%',\n\t\t\t\t\t\ttransform: 'translate(-50%, -50%)',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t) : null}\n\t\t</span>\n\t);\n};\n"],"names":["variants","boxPalette","packs","sizes","mapSpacing","iconSize","loadingSize","buttonStyles","block","variant","size","tokens","BaseButton","forwardRef","onClickProp","type","props","forwardedRef","ref","useRef","onClick","useCallback","event","_a","jsx","mergeRefs","Button","IconBefore","IconAfter","children","loading","loadingLabel","styles","jsxs","ButtonLoadingDots","ButtonLink","Link","useLinkComponent","label","LoadingDots"],"mappings":"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"}