(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2265],{31789:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(27378);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.focusOnMount,n=e.focusOnUpdate,o=e.forwardedRef,i=(0,r.useRef)(null),a=o||i;return(0,r.useEffect)(function(){var e,r;!n&&!t||!("current"in a)||Array.isArray(n)&&0===n.filter(Boolean).length||null==a||null===(e=a.current)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e)},[n]),a}},7214:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(10043),o=n(27378),i=n(24377),a=n(77797),c=n(6396),l=n(73474),s=n(87800);function u(e){var t=e.drawerContent,n=e.linkContent,u=e.linkHref,d=(0,o.useState)(!1),f=d[0],p=d[1];return(0,s.BX)(s.HY,{children:[(0,s.BX)(a.h,{href:u,onClick:function(e){e.metaKey||(e.preventDefault(),p(!0))},children:[n,(0,s.tZ)(c.q9,{css:(0,r.iv)({position:"relative",top:3,marginLeft:(0,l.XH)(.25)},"",""),size:"sm",weight:"regular"})]}),(0,s.tZ)(i.d,{actions:(0,s.tZ)(a.z,{href:u,children:"Open in new window"}),isOpen:f,onClose:function(){p(!1)},title:"Help",width:"lg",children:t})]})}},41792:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(27378),o=n(58229),i=n(92288),a=n(25294),c=n(87600),l=n(87800);function s(e){var t=e.isOpen,n=e.itemsToDelete,s=e.onClose,u=e.onConfirm,d=(0,r.useState)(!1),f=d[0],p=d[1],h=(0,r.useMemo)(function(){return Array.isArray(n)?{title:"Are you sure you want to remove access for ".concat(n.length," staff ").concat((0,c.Ho)(n.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(n.name,"?"),description:"Access will be removed immediately. You can not undo this action."}},[n]),g=h.title,b=h.description;return(0,l.tZ)(a.u,{actions:(0,l.BX)(o.hE,{children:[(0,l.tZ)(o.zx,{loading:f,onClick:function(){p(!0),setTimeout(function(){p(!1),u()},1500)},children:"Remove access"}),(0,l.tZ)(o.zx,{onClick:s,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:s,title:g,children:(0,l.tZ)(i.x,{as:"p",children:b})})}},87600:function(e,t,n){"use strict";n.d(t,{Ho:function(){return i},KD:function(){return r},UO:function(){return o}});var r=function(e){var t=e.loading,n=e.totalItems,r=e.pagination;if(t)return"Staff members";var o=1===n?"1 item":"".concat(n," items"),i=(r.page-1)*r.perPage+1,a=(r.page-1)*r.perPage+r.perPage;return a>n?"Staff members (".concat(o,")"):"Staff members (".concat(i," - ").concat(a," of ").concat(o,")")},o={Active:{label:"Active",tone:"success"},Invited:{label:"Invited",tone:"info"},Paused:{label:"Paused",tone:"neutral"}},i=function(e,t,n){return 1===e?t:n}},78972:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return nt}});var r,o=n(27378),i=n(23969),a=n(96778),c=n(90849),l=n(10043),s=n(58229),u=n(48050),d=n(73474),f=(0,o.createContext)(void 0);function p(){var e=(0,o.useContext)(f);if(void 0===e)throw Error("TabsContext not found.");return e}var h=(0,o.createContext)(void 0);function g(e,t){return{tabButtonId:"".concat(e,"-tab-button-").concat(t),panelId:"".concat(e,"-tab-panel-").concat(t)}}function b(){var e=(0,d.iP)().windowWidth;return(void 0===e?0:e)>=d.TV.breakpoint.sm?"horizontal":"vertical"}var m={body:{panelBg:d._X.backgroundBody,panelFg:d._X.foregroundText,buttonBg:d._X.backgroundBody,buttonFg:d._X.foregroundAction,buttonBgHover:d._X.backgroundShade,buttonFgHover:d._X.foregroundText},bodyAlt:{panelBg:d._X.backgroundBodyAlt,panelFg:d._X.foregroundText,buttonBg:d._X.backgroundBodyAlt,buttonFg:d._X.foregroundAction,buttonBgHover:d._X.backgroundShade,buttonFgHover:d._X.foregroundText}},v="--agds-tabs-panel-bg",y="--agds-tabs-panel-fg",O="--agds-tabs-button-bg",Z="--agds-tabs-button-fg",w="--agds-tabs-button-bg-hover",C="--agds-tabs-button-fg-hover",P={panelBg:"var(".concat(v,")"),panelFg:"var(".concat(y,")"),buttonBg:"var(".concat(O,")"),buttonFg:"var(".concat(Z,")"),buttonBgHover:"var(".concat(w,")"),buttonFgHover:"var(".concat(C,")")},x=n(87800);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e){var t,n=e.children,r=e.endElement,i=p(),a=i.tabsId,f=i.activeIndex,m=i.setActiveIndex,v=i.goToFirstTab,y=i.goToLastTab,O=i.goToPreviousTab,Z=i.goToNextTab,w=function(){var e=(0,o.useContext)(h);if(void 0===e)throw Error("TabListContext not found.");return e}().tabIndex,C=g(a,w),S=C.tabButtonId,k=C.panelId,T=b(),A=f===w;return(0,x.BX)(u.xu,{"aria-controls":k,"aria-selected":A,as:s.Yd,css:(0,l.iv)(j(j(j({position:"relative",display:"flex",alignItems:"center",justifyContent:"space-between",gap:(0,d.XH)(.5)},(0,d.vY)("sm","default")),A?{background:P.panelBg,"& > span:first-of-type":{fontWeight:d.TV.fontWeight.bold,color:d._X.foregroundText}}:{background:P.buttonBg,"&:hover":{background:P.buttonBgHover},"& > span:first-of-type":j(j({},d.lB.underline),{},{color:P.buttonFg}),"&:hover > span:first-of-type":{color:P.buttonFgHover,textDecoration:"none"}}),{},(t={"&:focus-visible":{zIndex:d.TV.zIndex.elevated}},(0,c.Z)(t,d.TV.mediaQuery.max.xs,{borderWidth:d.TV.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:d._X.border,"&:first-of-type":{overflow:"hidden",borderRadius:"".concat(d.TV.borderRadius,"px ").concat(d.TV.borderRadius,"px 0 0")},"&:last-of-type":{borderBottomWidth:d.TV.borderWidth.sm},"::before":{content:"''",position:"absolute",top:0,left:0,bottom:0,width:A?d.TV.borderWidth.xxl:d.TV.borderWidth.xl,background:A?d._X.selected:d._X.borderMuted,"@media (forced-colors: active)":{backgroundColor:A?"MenuText":"GrayText"}}}),(0,c.Z)(t,d.TV.mediaQuery.min.sm,j({borderWidth:d.TV.borderWidth.sm,borderBottomWidth:0,borderStyle:"solid",borderColor:d._X.border,borderRadius:"".concat(d.TV.borderRadius,"px ").concat(d.TV.borderRadius,"px 0 0")},A&&{"::before":{content:"''",position:"absolute",top:0,left:0,right:0,height:d.TV.borderWidth.xl,background:d._X.selected},"::after":{content:"''",position:"absolute",bottom:-1,left:0,right:0,height:1,background:P.panelBg}})),t),d.S0.exactColor),"",""),focusRingFor:"keyboard",id:S,onClick:function(){m(w)},onKeyDown:function(e){switch(e.code){case"ArrowLeft":if("vertical"===T)break;e.preventDefault(),O();break;case"ArrowRight":if("vertical"===T)break;e.preventDefault(),Z();break;case"ArrowUp":if("horizontal"===T)break;e.preventDefault(),O();break;case"ArrowDown":if("horizontal"===T)break;e.preventDefault(),Z();break;case"Home":e.preventDefault(),v();break;case"End":e.preventDefault(),y()}},paddingX:1.5,paddingY:.75,role:"tab",tabIndex:A?0:-1,children:[(0,x.tZ)("span",{children:n}),r]})}var T=n(52809),A=n(19631);function X(e){var t=e.children,n=b();return(0,x.tZ)(A.k,{"aria-orientation":n,flexDirection:{xs:"column",sm:"row"},flexWrap:"wrap",gap:{xs:0,sm:.5},role:"tablist",children:(0,T.Z)(t).map(function(e,t){return(0,x.tZ)(h.Provider,{value:{tabIndex:t},children:e},t)})})}var E=(0,o.createContext)(void 0);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function R(e){var t=e.children,n=p(),r=n.tabsId,i=n.activeIndex,a=n.contained,s=function(){var e=(0,o.useContext)(E);if(void 0===e)throw Error("TabPanelsContext not found.");return e}().panelIndex,f=g(r,s),h=f.tabButtonId,b=f.panelId,m=i===s;return(0,x.tZ)(u.xu,{"aria-labelledby":h,border:!0,css:(0,l.iv)((0,c.Z)({background:P.panelBg,color:P.panelFg,borderTopWidth:0,borderRadius:"0 0 ".concat(d.TV.borderRadius,"px ").concat(d.TV.borderRadius,"px")},d.TV.mediaQuery.min.sm,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({borderTopWidth:d.TV.borderWidth.sm},a?{borderRadius:"0 ".concat(d.TV.borderRadius,"px ").concat(d.TV.borderRadius,"px")}:{paddingLeft:0,paddingRight:0,borderLeftWidth:0,borderRightWidth:0,borderRadius:0})),"",""),display:m?void 0:"none",focusRingFor:"keyboard",id:b,paddingX:{xs:.75,md:1.5},paddingY:1.5,role:"tabpanel",tabIndex:m?0:-1,children:t})}function B(e){var t=e.children;return(0,x.tZ)("div",{children:(0,T.Z)(t).map(function(e,t){return(0,x.tZ)(E.Provider,{value:{panelIndex:t},children:e},t)})})}function I(e){var t,n,r,i=e.children,a=e.background,l=e.contained,s=e.activeIndex,u=e.onChange,p=(0,o.useRef)(null),h=(0,o.useState)(),g=h[0],b=h[1],P=null!=g&&g.length?g.length-1:0;(0,o.useEffect)(function(){var e,t,n=null===(e=p.current)||void 0===e?void 0:e.querySelectorAll('[role="tab"]'),r=null===(t=p.current)||void 0===t?void 0:t.querySelectorAll('[role="tabpanel"]');if((null==n?void 0:n.length)!==(null==r?void 0:r.length))throw Error("The number of `TabButton` components do not match the number of `TabPanel` components.");b(n)},[i]);var S=(0,o.useState)(0),j=S[0],k=S[1],T="number"==typeof s?s:j;function A(e){var t;k(e),null==u||u(e),null==g||null===(t=g[e])||void 0===t||t.focus()}var X=(t=(0,d.Me)(),"tabs-".concat(t));return(0,x.tZ)(f.Provider,{value:{tabsId:X,contained:void 0===l||l,activeIndex:T,setActiveIndex:A,goToFirstTab:function(){A(0)},goToLastTab:function(){A(P)},goToPreviousTab:function(){A(0===T?P:T-1)},goToNextTab:function(){A(T===P?0:T+1)}},children:(0,x.tZ)("div",{css:(n=void 0===a?"body":a,r={},(0,c.Z)(r,v,m[n].panelBg),(0,c.Z)(r,y,m[n].panelFg),(0,c.Z)(r,O,m[n].buttonBg),(0,c.Z)(r,Z,m[n].buttonFg),(0,c.Z)(r,w,m[n].buttonBgHover),(0,c.Z)(r,C,m[n].buttonFgHover),r),id:X,ref:p,children:i})})}var _=n(84315),N=n(73933),L=n(92288),F=n(42434),z=n(83083),W=n(33040),M=n(38734),H=n(76002),V=n(97700),K=n(7214),q=n(11246),G=n(86677),Y=n(6396),U=n(89236),J=(0,o.createContext)(void 0),Q=function(e){var t=e.children,n=e.value;return(0,x.tZ)(J.Provider,{value:n,children:t})},$=function(){var e=(0,o.useContext)(J);if(void 0===e)throw Error("useSortAndFilterContext must be used within a SortAndFilterProvider");return e},ee=(0,o.createContext)(void 0),et=function(e){var t=e.children,n=e.value;return(0,x.tZ)(ee.Provider,{value:n,children:t})},en=function(){var e=(0,o.useContext)(ee);if(void 0===e)throw Error("useDataContext must be used within a DataProvider");return e},er=n(44285);function eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eo(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ea={activeUsers:!1,dateJoinedFrom:void 0,dateJoinedTo:void 0,foodSafetyCertificate:!1,lastActiveFrom:void 0,lastActiveTo:void 0,name:void 0,role:{Manager:!1,Employee:!1,Trainee:!1,"Work experience":!1},status:void 0,trainingCompleted:{Deliveries:!1,Distribution:!1,"Ice cream making":!1,Packaging:!1}},ec=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,o.useReducer)(el,{pagination:{page:1,perPage:e.itemsPerPage||10},sort:{field:"name",order:"ASC"},filters:ei(ei({},ea),e.filters),selection:[]}),n=t[0],r=t[1],i=n.sort,a=n.filters,c=n.pagination,l=n.selection;return{sort:i,setSort:function(e){r({type:"SET_SORT",payload:e}),r({type:"RESET_PAGINATION"})},filters:a,setFilter:function(e){r({type:"SET_FILTER",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},setFilters:function(e){r({type:"SET_FILTERS",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},removeFilter:function(e){r({type:"REMOVE_FILTER",payload:e}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},resetFilters:function(){r({type:"RESET_FILTERS"}),r({type:"RESET_PAGINATION"}),r({type:"CLEAR_SELECTION"})},pagination:c,setPagination:function(e){r({type:"SET_PAGINATION",payload:e}),r({type:"CLEAR_SELECTION"})},selection:l,isRowSelected:function(e){return l.some(function(t){return t===e})},toggleRowSelected:function(e){r({type:"TOGGLE_ROW",payload:e})},selectRows:function(e){r({type:"SELECT_ROWS",payload:e})},clearRowSelections:function(){r({type:"CLEAR_SELECTION"})}}};function el(e,t){switch(t.type){case"SET_SORT":return ei(ei({},e),{},{sort:t.payload});case"SET_FILTERS":return ei(ei({},e),{},{filters:t.payload});case"SET_FILTER":return ei(ei({},e),{},{filters:ei(ei({},e.filters),t.payload)});case"REMOVE_FILTER":return ei(ei({},e),{},{filters:ei(ei({},e.filters),{},(0,c.Z)({},t.payload,ea[t.payload]))});case"RESET_FILTERS":return ei(ei({},e),{},{filters:ea});case"SET_PAGINATION":return ei(ei({},e),{},{pagination:t.payload});case"RESET_PAGINATION":return ei(ei({},e),{},{pagination:ei(ei({},e.pagination),{},{page:1})});case"TOGGLE_ROW":if(e.selection.includes(t.payload))return ei(ei({},e),{},{selection:e.selection.filter(function(e){return e!==t.payload})});return ei(ei({},e),{},{selection:[].concat((0,er.Z)(e.selection),[t.payload])});case"SELECT_ROWS":return ei(ei({},e),{},{selection:t.payload});case"CLEAR_SELECTION":return ei(ei({},e),{},{selection:[]});default:return e}}var es=n(93e3),eu=n(55732),ed=n(50824),ef=n.n(ed);function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eg=function(e,t){var n,r=!0,o=t.activeUsers,i=t.lastActiveFrom,a=t.lastActiveTo,c=t.name,l=t.role,s=t.status,u=t.trainingCompleted;if(o&&(r="Active"===e.status&&r),i||a){var d=new Date(i||0).getTime(),f=(a?new Date(a):new Date).getTime(),p=new Date(e.lastActive).getTime();(d>p||f<p)&&(r=!1)}return s&&(r=e.status===s&&r),l&&Object.values(l).some(Boolean)&&(r=!!l[e.role]&&r),u&&Object.values(u).some(Boolean)&&(r=!!(null!=e&&null!==(n=e.trainingCompleted)&&void 0!==n&&n.map(function(e){return u[e]}).some(Boolean))&&r),c&&(r=!!e.name.toLowerCase().includes(c.toLowerCase())&&r),r},eb=function(e,t,n){var r=n.field,o=n.order,i=e[r],a=t[r];return null==i?1:null==a?-1:i>a?"ASC"===o?1:-1:i<a?"ASC"===o?-1:1:0};function em(){return(em=(0,eu.Z)(ef().mark(function e(t,n){var r,o,i,a,c;return ef().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(r=n.pagination).page,i=r.perPage,c=(a=t.filter(function(e){return eg(e,n.filters)}).sort(function(e,t){return eb(e,t,n.sort)}).map(function(e,t){return eh(eh({},e),{},{index:t})})).slice((o-1)*i,o*i),e.abrupt("return",new Promise(function(e){setTimeout(function(){e({displayData:c,total:a.length,totalPages:Math.ceil(a.length/i),totalItems:a.length})},1e3)}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ev=n(23982),ey=n(93653),eO=n(87600),eZ=function(e){for(var t=e.filters,n=e.removeFilter,r=Object.entries(t),o=[],i=0;i<r.length;i++)if(0===function(){var e=(0,q.Z)(r[i],2),t=e[0],a=e[1];if(!a)return 0;var c={activeUsers:!1,dateJoinedFrom:"Date joined",dateJoinedTo:"Date joined",foodSafetyCertificate:"Food safety certificate",lastActiveFrom:"Last active",lastActiveTo:"Last active",name:"Name",role:"Role",status:"Status",trainingCompleted:"Training completed"}[t],l=function(){return n(t)};if("activeUsers"===t)return a&&o.push({label:"Active users",onRemove:l}),0;if("role"===t){var s=Object.keys(a);return s.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(s.reduce(function(e,t){return a[t]?[].concat((0,er.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}if("trainingCompleted"===t){var u=Object.keys(a);return u.some(function(e){return a[e]})&&o.push({label:"".concat(c,": ").concat(u.reduce(function(e,t){return a[t]?[].concat((0,er.Z)(e),[t]):e},[]).join(", ")),onRemove:l}),0}return"status"===t?(o.push({label:"".concat(c,": ").concat(eO.UO[a].label),onRemove:l}),0):"lastActiveFrom"===t?(o.push({label:"Last active from: ".concat((0,ev.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):"lastActiveTo"===t?(o.push({label:"Last active to: ".concat((0,ev.Z)(new Date(a),"dd/MM/yyyy")),onRemove:l}),0):Array.isArray(a)?(0===a.length||o.push({label:"".concat(c,": ").concat(a.join(", ")),onRemove:l}),0):void o.push({label:"".concat(c,": ").concat(a),onRemove:l})}())continue;return o},ew=function(){var e=$(),t=e.filters,n=e.removeFilter,r=e.resetFilters,o=eZ({filters:t,removeFilter:n});return 0===o.length?null:(0,x.BX)(A.k,{alignItems:"flex-end",flexWrap:"wrap",gap:.75,children:[(0,x.tZ)(ey.$G,{heading:(0,x.tZ)(L.x,{as:"h3",fontWeight:"bold",children:"Active filters"}),items:o}),(0,x.tZ)(s.zx,{iconAfter:Y.Tw,onClick:r,size:"sm",variant:"text",children:"Clear filters"})]})},eC=n(63087),eP=n(2694),ex=n(34456),eS=n(11752),ej=(0,l.F4)(r||(r=(0,eS.Z)(["\n  0% { opacity: 0.84; }\n  100% { opacity: 0.2 }\n"]))),ek=function(e){var t=e.fontSize,n=e.lineHeight,r=e.height,o=e.width;return(0,x.tZ)(u.xu,{"aria-hidden":!0,css:(0,l.iv)({animation:"".concat(ej," 1200ms ").concat(d.TV.transition.timingFunction," infinite alternate"),backgroundColor:d._X.border,cursor:"progress","&::before":{content:'"\\00a0"'}},"",""),display:"block",fontSize:void 0===t?"sm":t,height:void 0===r?"auto":r,highContrastOutline:!0,lineHeight:void 0===n?"default":n,rounded:!0,width:void 0===o?"100%":o})},eT=function(e){var t=e.fontSize,n=e.lineHeight,r=e.width;return(0,x.tZ)(ek,{fontSize:void 0===t?"sm":t,lineHeight:void 0===n?"default":n,width:void 0===r?"100%":r})},eA=n(18607),eX=n(77797),eE=n(78010),eD=n(7150),eR=n(61118),eB=n(24377),eI=n(99682),e_=n(52949),eN=function(e){var t=e.currentRole,n=e.isOpen,r=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],u=(0,o.useState)(t),d=u[0],f=u[1],p=(0,o.useCallback)(function(e){return function(){return f(e)}},[]),h=function(e){return e===d};return(0,x.tZ)(eB.d,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{form:"change-role-drawer",loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Change role"}),(0,x.tZ)(s.zx,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:n,onClose:r,title:"Change role",children:(0,x.tZ)("form",{id:"change-role-drawer",children:(0,x.BX)(eI.e,{block:!0,label:"Export service role",required:!0,children:[(0,x.BX)(e_.Y,{checked:h("Manager"),onChange:p("Manager"),children:["Manager","Manager"===t&&" (current role)"]}),(0,x.BX)(e_.Y,{checked:h("Employee"),onChange:p("Employee"),children:["Employee","Employee"===t&&" (current role)"]}),(0,x.BX)(e_.Y,{checked:h("Trainee"),onChange:p("Trainee"),children:["Trainee","Trainee"===t&&" (current role)"]})]})})})},eL=n(25294);function eF(e){var t=e.isOpen,n=e.itemsToPause,r=e.onClose,i=e.onConfirm,a=(0,o.useState)(!1),c=a[0],l=a[1],u=(0,o.useMemo)(function(){return Array.isArray(n)?{title:"Are you sure you want to pause access for ".concat(n.length," staff ").concat((0,eO.Ho)(n.length,"member","members"),"?"),description:"Access will be paused immediately. You can not undo this action."}:{title:"Are you sure you want to pause access for ".concat(n.name,"?"),description:"Access will be paused immediately. You can not undo this action."}},[n]),d=u.title,f=u.description;return(0,x.tZ)(eL.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),i()},1500)},children:"Pause access"}),(0,x.tZ)(s.zx,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,x.tZ)(L.x,{as:"p",children:f})})}var ez=n(41792);function eW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eM={Active:{label:"Active",tone:"successMedium"},Invited:{label:"Invited",tone:"inProgressLow"},Paused:{label:"Paused",tone:"pausedLow"}},eH=function(e){var t=e.status;return(0,x.tZ)(eA.pj,{children:(0,x.tZ)(eD.O,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eW(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({appearance:"subtle"},eM[t]))})},eV=function(e){var t=e.children,n=e.item,r=e.itemId,i=e.name,a=e.rowIndex,c=e.selectable,l=en(),s=l.setSuccessMessageType,u=l.setUpdatedStaffMemberName,d=(0,es.M)(),f=d.staffMembersDelete,p=d.staffMembersUpdate,h=$(),g=h.isRowSelected,b=h.toggleRowSelected,m=(0,o.useState)(!1),v=m[0],y=m[1],O=(0,o.useState)(!1),Z=O[0],w=O[1],C=(0,o.useState)(!1),P=C[0],S=C[1];return c?(0,x.BX)(eA.SC,{"aria-rowindex":a,selected:g(r),children:[(0,x.tZ)(eA.pj,{children:(0,x.tZ)(eE.X,{checked:g(r),onChange:function(){return b(r)},size:"sm",children:(0,x.tZ)(ex.TX,{children:"Select ".concat(i)})})}),t,(0,x.tZ)(eA.pj,{children:(0,x.BX)(eR.h_,{children:[(0,x.tZ)(eR.r0,{"aria-describedby":"".concat(r,"-name"),children:"Actions"}),(0,x.BX)(eR.AQ,{children:[(0,x.tZ)(eR.Xi,{onClick:function(){w(!0)},children:"Pause access"}),(0,x.tZ)(eR.Xi,{onClick:function(){y(!0)},children:"Remove access"})]})]})}),(0,x.tZ)(eN,{currentRole:n.role,isOpen:P,onClose:function(){return S(!1)},onConfirm:function(){console.log("Change role"),S(!1)}}),(0,x.tZ)(eF,{isOpen:Z,itemsToPause:n,onClose:function(){return w(!1)},onConfirm:function(){p({staffToUpdate:n,updates:{status:"Paused"}}),w(!1),null==u||u(n.name),null==s||s("pause")}}),(0,x.tZ)(ez.E,{isOpen:v,itemsToDelete:n,onClose:function(){return y(!1)},onConfirm:function(){f(n),y(!1),null==u||u(n.name),null==s||s("remove")}})]}):(0,x.tZ)(eA.SC,{"aria-rowindex":a,children:t})};function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eG=function(){var e=en(),t=e.setSuccessMessageType,n=e.setUpdatedStaffMemberName,r=(0,es.M)(),i=r.staffMembersDelete,a=r.staffMembersUpdate,l=$(),u=l.selection,d=l.clearRowSelections,f=en().displayData,p=(0,o.useMemo)(function(){return f.reduce(function(e,t){return null!=t&&t.name?eq(eq({},e),{},(0,c.Z)({},t.id,t)):e},{})},[f]),h=u.map(function(e){return p[e]}),g=(0,o.useState)(!1),b=g[0],m=g[1],v=(0,o.useState)(!1),y=v[0],O=v[1],Z=(0,o.useState)(!1),w=Z[0],C=Z[1];return u.length?(0,x.BX)(eA.HY,{children:[(0,x.BX)(eA.Sh,{children:["Apply action to ",u.length," ",(0,eO.Ho)(u.length,"item","items")]}),(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{onClick:function(){O(!0)},size:"sm",variant:"secondary",children:"Pause access"}),(0,x.tZ)(s.zx,{onClick:function(){m(!0)},size:"sm",variant:"secondary",children:"Remove access"}),(0,x.tZ)(s.zx,{onClick:d,size:"sm",variant:"tertiary",children:"Cancel"})]}),(0,x.tZ)(eN,{isOpen:w,onClose:function(){return C(!1)},onConfirm:function(){console.log("Change role"),C(!1)}}),(0,x.tZ)(eF,{isOpen:y,itemsToPause:h,onClose:function(){return O(!1)},onConfirm:function(){a({staffToUpdate:h,updates:{status:"Paused"}}),O(!1),d(),null==n||n("".concat(h.length," ").concat(h.length>1?"people":"person")),null==t||t(h.length>1?"pauseBatch":"pause")}}),(0,x.tZ)(ez.E,{isOpen:b,itemsToDelete:h,onClose:function(){return m(!1)},onConfirm:function(){i(h),m(!1),d(),null==n||n("".concat(h.length," ").concat(h.length>1?"people":"person")),null==t||t(h.length>1?"removeBatch":"remove")}})]}):null},eY="data-table",eU="data-table-description",eJ=(0,o.forwardRef)(function(e,t){var n=e.headingId,r=e.selectable,i=$(),c=i.sort,l=i.setSort,u=i.pagination,d=i.resetFilters,f=en(),p=f.displayData,h=f.loading,g=f.totalItems,b=f.error,m=!!c||!!l,v=(0,eO.KD)({loading:h,totalItems:g,pagination:u});return b?(0,x.BX)(a.K,{gap:1,id:eY,role:"alert",children:[(0,x.tZ)(Y.z$,{color:"error",size:"lg"}),(0,x.tZ)(N.X,{fontSize:"lg",type:"h2",children:"Failed to load"}),(0,x.tZ)(L.x,{children:"There was an error loading the data. Please try refreshing the page to try again."})]}):h||0!==p.length?(0,x.BX)(a.K,{gap:.5,children:[n?(0,x.tZ)("div",{css:ex.JM,id:eU,children:"Table column headers with buttons are sortable."}):null,(0,x.tZ)("div",{css:ex.JM,role:"status",children:h?"Loading staff members":""}),(0,x.tZ)(eA.y6,{children:(0,x.BX)(eA.iA,{"aria-labelledby":n?"".concat(n," ").concat(eU):void 0,"aria-rowcount":g,id:eY,ref:t,tabIndex:-1,tableLayout:"fixed",children:[!n&&(0,x.BX)(eA.Rn,{children:[v,(0,x.tZ)(ex.TX,{children:", column headers with buttons are sortable."})]}),(0,x.tZ)(eA.ss,{children:(0,x.BX)(eA.SC,{"aria-rowindex":1,children:[r&&(0,x.tZ)(eA.xD,{scope:"col",width:"5rem",children:"Select"}),eQ.map(function(e){var t=e.isSortable,n=e.label,r=e.sortKey,o=e.width;if(m&&t){var i=(null==c?void 0:c.field)===r;return(0,x.tZ)(eA._s,{onClick:function(){return null==l?void 0:l({field:r,order:(null==c?void 0:c.field)===r&&(null==c?void 0:c.order)==="ASC"?"DESC":"ASC"})},sort:i?null==c?void 0:c.order:void 0,width:o,children:n},r)}return(0,x.tZ)(eA.xD,{scope:"col",width:o,children:n},r)})]})}),(0,x.tZ)(eA.RM,{children:h?(0,x.tZ)(o.Fragment,{children:Array.from(Array(u.perPage).keys()).map(function(e){return(0,x.BX)(eA.SC,{children:[r&&(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(eT,{}),(0,x.tZ)(ex.TX,{children:"Loading"})]}),(0,x.BX)(eA.pj,{children:[(0,x.tZ)(ek,{height:32}),(0,x.tZ)(ex.TX,{children:"Loading"})]})]},e)})}):(0,x.tZ)(o.Fragment,{children:p.map(function(e){var t=e.index,n=e.name,o=e.role,i=e.status,a=e.lastActive,c=e.dateJoined;return(0,x.BX)(eV,{item:e,itemId:e.id,name:n,rowIndex:t+2,selectable:r,children:[(0,x.tZ)(eA.pj,{as:"th",fontWeight:"bold",scope:"row",children:(0,x.tZ)(eX.h,{href:"/app/staff/".concat(e.name.toLowerCase().replaceAll(" ","-")),id:"".concat(e.id,"-name"),children:n})}),(0,x.tZ)(eA.pj,{children:o}),(0,x.tZ)(eH,{status:i}),(0,x.tZ)(eA.pj,{children:a&&"".concat((0,eP.Z)(new Date,new Date(a))," ago")}),(0,x.tZ)(eA.pj,{children:c&&(0,ev.Z)(new Date(c),"d MMMM yyyy")})]},n)})})})]})}),(0,x.tZ)(eG,{})]}):(0,x.BX)(a.K,{alignItems:"flex-start",gap:2,id:eY,paddingY:1,role:"status",children:[(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(Y.by,{color:"muted",size:"lg"}),(0,x.tZ)(N.X,{fontSize:"lg",type:"h2",children:"No results found"}),(0,x.tZ)(L.x,{children:"Try adjusting your filter options."})]}),(0,x.tZ)(s.zx,{onClick:d,children:"Clear filters"})]})}),eQ=[{label:"Name",sortKey:"name",width:"20rem",isSortable:!0},{label:"Role",sortKey:"role",width:"12rem",isSortable:!0},{label:"Status",sortKey:"status",width:"12rem",isSortable:!0},{label:"Last active",sortKey:"lastActive",width:"12rem",isSortable:!0},{label:"Date joined",sortKey:"dateJoined",width:"14rem",isSortable:!0},{label:"Actions",sortKey:"actions",width:"9rem",isSortable:!1}],e$=function(){var e=$(),t=e.sort,n=e.setSort;return(0,x.tZ)(eC.P,{"aria-controls":eY,hideOptionalLabel:!0,label:"Sort by",onChange:function(e){var t=e.target.value.split("-"),r=(0,q.Z)(t,2);n({field:r[0],order:r[1]})},options:[{value:"name-ASC",label:"Name (A-Z)"},{value:"name-DESC",label:"Name (Z-A)"},{value:"role-ASC",label:"Role (A-Z)"},{value:"role-DESC",label:"Role (Z-A)"},{value:"status-ASC",label:"Status (A-Z)"},{value:"status-DESC",label:"Status (Z-A)"},{value:"lastActive-ASC",label:"Last active (oldest first)"},{value:"lastActive-DESC",label:"Last active (newest first)"},{value:"dateJoined-ASC",label:"Date joined (oldest first)"},{value:"dateJoined-DESC",label:"Date joined (newest first)"}],value:"".concat(t.field,"-").concat(t.order)})},e0=n(75136),e1=n(98943);function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e7(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e5=function(e){var t=e.isDrawerOpen,n=e.closeDrawer,r=$(),i=r.filters,a=r.setFilters,l=r.resetFilters,u=(0,o.useState)(i),d=u[0],f=u[1],p=(0,o.useState)(!1),h=p[0],g=p[1],b=(0,o.useState)(!1),m=b[0],v=b[1],y=(0,o.useRef)(null),O=(0,o.useRef)(null);(0,o.useEffect)(function(){f(i)},[i]);var Z=function(){n(),g(!1),v(!1),f(i)},w=function(){throw Error("Not implemented")},C=function(e){return function(t){return f(function(n){return e7(e7({},n),{},{role:e7(e7({},n.role),{},(0,c.Z)({},e,t.target.checked))})})}},P=function(e){return function(t){return f(function(n){return e7(e7({},n),{},{trainingCompleted:e7(e7({},n.trainingCompleted),{},(0,c.Z)({},e,t.target.checked))})})}};return(0,x.tZ)(Q,{value:{filters:d,setFilters:f,setFilter:function(e){f(e7(e7({},d),e))},sort:{field:"dateJoined",order:"ASC"},setSort:w,removeFilter:w,resetFilters:w,pagination:{page:1,perPage:1},setPagination:w,selection:[],isRowSelected:w,toggleRowSelected:w,selectRows:w,clearRowSelections:w},children:(0,x.tZ)(eB.d,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{form:"staff-filters-form",onClick:function(){var e,t;if(m&&!h){null===(e=O.current)||void 0===e||e.focus();return}if(h){null===(t=y.current)||void 0===t||t.focus();return}a(d),n()},children:"Apply filters"}),(0,x.tZ)(s.zx,{onClick:function(){g(!1),v(!1),l(),f(ea)},variant:"secondary",children:"Clear filters"}),(0,x.tZ)(s.zx,{onClick:Z,variant:"tertiary",children:"Cancel"})]}),isOpen:t,onClose:Z,title:"Filter by",children:(0,x.tZ)("form",{id:"staff-filters-form",children:(0,x.BX)(e0.R,{children:[(0,x.BX)(eI.e,{block:!0,hideOptionalLabel:!0,label:"Role",children:[(0,x.tZ)(eE.X,{checked:d.role.Manager,onChange:C("Manager"),value:"manager",children:"Manager"}),(0,x.tZ)(eE.X,{checked:d.role.Employee,onChange:C("Employee"),value:"employee",children:"Employee"}),(0,x.tZ)(eE.X,{checked:d.role.Trainee,onChange:C("Trainee"),value:"trainee",children:"Trainee"}),(0,x.tZ)(eE.X,{checked:d.role["Work experience"],onChange:C("Work experience"),value:"work-experience",children:"Work experience"})]}),(0,x.BX)(eI.e,{block:!0,hideOptionalLabel:!0,label:"Training completed",children:[(0,x.tZ)(eE.X,{checked:d.trainingCompleted.Deliveries,onChange:P("Deliveries"),value:"deliveries",children:"Deliveries"}),(0,x.tZ)(eE.X,{checked:d.trainingCompleted.Distribution,onChange:P("Distribution"),value:"distribution",children:"Distribution"}),(0,x.tZ)(eE.X,{checked:d.trainingCompleted["Ice cream making"],onChange:P("Ice cream making"),value:"ice-cream-making",children:"Ice cream making"}),(0,x.tZ)(eE.X,{checked:d.trainingCompleted.Packaging,onChange:P("Packaging"),value:"packaging",children:"Packaging"})]}),(0,x.tZ)(e1.Pc,{fromInputRef:y,fromInvalid:h,fromLabel:"From date",legend:"Last active",message:h&&m?"From date and To date is invalid":h?"From date is invalid":m?"To date is invalid":void 0,onChange:function(e){var t,n,r,o,i=(t=e.from,n=e.to,!!t&&!(0,e1.qb)(t,{toDate:n})),a=(r=e.to,o=e.from,!!r&&!(0,e1.qb)(r,{fromDate:o}));g(i),v(a),f(function(t){return e7(e7({},t),{},{lastActiveFrom:!e.from||i?e.from:new Date(e.from).toISOString(),lastActiveTo:!e.to||a?e.to:new Date(e.to).toISOString()})})},required:!0,toInputRef:O,toInvalid:m,toLabel:"To date",value:{from:d.lastActiveFrom,to:d.lastActiveTo}})]})})})})},e3=n(90089),e8=n(13306),e9=n(66338);function e4(e){var t=e.children,n=e.maxWidth;return(0,x.tZ)("div",{css:(0,l.iv)({position:"relative",maxWidth:n},"",""),children:t})}function e6(e){var t=e.disabled,n=e.onClick;return(0,x.tZ)(A.k,{alignItems:"center","aria-label":"Clear search",css:(0,l.iv)({position:"absolute",top:"50%",right:"calc(".concat((0,d.XH)(.5)," + ").concat(d.TV.borderWidth.lg,"px)"),transform:"translateY(-50%)",opacity:t?.3:void 0,cursor:"pointer",color:d._X.foregroundAction,"&:hover":{color:d._X.foregroundText}},"",""),height:"2rem",justifyContent:"center",onClick:n,role:"button",width:"2rem",children:(0,x.tZ)(Y.Tw,{color:"inherit"})})}function te(e){var t=e.disabled;return(0,x.tZ)(Y.W1,{color:"muted",css:(0,l.iv)({position:"absolute",top:"50%",left:"calc(".concat((0,d.XH)(.75)," + ").concat(d.TV.borderWidth.lg,"px)"),transform:"translateY(-50%)",pointerEvents:"none",opacity:t?.3:void 0},"",""),size:"md",weight:"regular"})}var tt=["label","hideOptionalLabel","required","hint","message","invalid","block","maxWidth","id","disabled","value","onChange","onClear"],tn=["maxWidth"];function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function to(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ti=(0,o.forwardRef)(function(e,t){var n,r,i,a,c,l=e.label,s=e.hideOptionalLabel,u=e.required,f=e.hint,p=e.message,h=e.invalid,g=e.block,b=e.maxWidth,m=void 0===b?"md":b,v=e.id,y=e.disabled,O=e.value,Z=e.onChange,w=e.onClear,C=(0,e3.Z)(e,tt),P=(0,o.useRef)(null),S=(0,o.useState)(O||""),j=S[0],k=S[1],T="string"==typeof O?O:j,A=function(e){null==Z||Z(e),k(e)},X=function(){var e;T&&(A(""),null==w||w(),null===(e=P.current)||void 0===e||e.focus())},E=function(e){"Escape"===e.code&&X()},D=!!T,R=(r=(n={block:g,maxWidth:m,showClearButton:D}).block,i=n.maxWidth,a=n.showClearButton,[(c=(0,e9.c)({block:r,maxWidth:i})).maxWidth,to(to(to({},(0,e3.Z)(c,tn)),{},{width:"100%",maxWidth:void 0,paddingLeft:"3rem"},a&&{paddingRight:"3rem"}),{},{"&::-webkit-search-decoration, &::-webkit-search-cancel-button, &::-webkit-search-results-button, &::-webkit-search-results-decoration":{display:"none"}})]),B=(0,q.Z)(R,2),I=B[0],_=B[1];return(0,x.tZ)(e8.gN,{hideOptionalLabel:s,hint:f,id:v,invalid:h,label:l,maxWidth:m,message:p,required:u,children:function(e){return(0,x.BX)(e4,{maxWidth:I,children:[(0,x.tZ)(te,{disabled:y}),(0,x.tZ)("input",to(to({autoComplete:"off",css:_,disabled:y,onChange:function(e){return A(e.target.value)},onKeyDown:E,ref:(0,d.lq)([P,t]),type:"search",value:T},e),C)),D?(0,x.tZ)(e6,{disabled:y,onClick:X}):null]})}})}),ta=function(e){var t=e.block,n=$(),r=n.filters,o=n.setFilter;return(0,x.tZ)("div",{"aria-label":"Staff members",role:"search",children:(0,x.tZ)(ti,{"aria-controls":eY,block:t,hideOptionalLabel:!0,label:"Search name",maxWidth:"lg",onChange:function(e){o({name:e})},value:r.name||""})})},tc=function(e){var t=e.children;return(0,x.tZ)(a.K,{"aria-label":"Filters",as:"section",borderBottom:!0,gap:1,paddingBottom:1.5,children:t})},tl=function(e){var t=e.children;return(0,x.tZ)(A.k,{alignItems:{xs:"stretch",lg:"flex-end"},columnGap:1,flexDirection:{xs:"column",lg:"row"},justifyContent:{xs:"flex-start",md:"space-between"},rowGap:1.5,children:t})},ts=function(e){var t=e.children;return(0,x.tZ)(A.k,{alignItems:{xs:"stretch",md:"flex-end"},columnGap:1,flexDirection:{xs:"column",md:"row"},flexWrap:"wrap",rowGap:1.5,children:t})},tu=function(e){var t=e.children,n=e["aria-label"];return(0,x.tZ)("nav",{"aria-label":n,children:(0,x.tZ)(A.k,{alignItems:"center",as:"ol",flexWrap:"wrap",justifyContent:"center",children:t})})},td=function(e){var t=e.children,n=e.hasRightArea;return(0,x.tZ)(A.k,{alignItems:"center",flexDirection:{xs:"column",lg:"row"},flexWrap:"wrap",gap:1,justifyContent:n?"space-between":"center",children:t})},tf=function(e){var t=e.children;return(0,x.tZ)(A.k,{alignItems:"center",columnGap:2,flexDirection:{xs:"column",lg:"row"},rowGap:1,children:t})},tp=n(67119),th="2.75rem",tg="3rem",tb=["children"],tm=["as","children","direction"];function tv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tO(e){var t=e.direction,n=e.onClick;return(0,x.tZ)(tZ,{direction:t,children:(0,x.tZ)(tw,{"aria-label":"Go to ".concat("left"==t?"previous":"next"," page"),direction:t,onClick:n,children:"left"===t?"Previous":"Next"})})}function tZ(e){var t=e.children,n=e.direction;return(0,x.tZ)(u.xu,{as:"li",paddingLeft:"right"===n?{sm:1}:void 0,paddingRight:"left"===n?{sm:1}:void 0,children:t})}var tw=function(e){var t=e.children,n=(0,e3.Z)(e,tb);return(0,x.tZ)(tC,ty(ty({as:s.Yd},n),{},{children:t}))},tC=function(e){var t=e.as,n=e.children,r=e.direction,o=(0,e3.Z)(e,tm),i=(0,tp.R7)("sm");return(0,x.BX)(A.k,ty(ty({alignItems:"center",as:t,css:(0,l.iv)(ty({alignSelf:"flex-start",svg:{transition:i.transition},":hover svg":{transform:i.transform}},d.S0.hideHref),"",""),focusRingFor:"keyboard",fontFamily:"body",fontWeight:"normal",gap:.5,height:{xs:th,sm:tg},inline:!0,justifyContent:"center",link:!0,width:{xs:th,sm:"auto"}},o),{},{children:["left"===r?(0,x.tZ)(Y.Y4,{size:"sm"}):null,(0,x.tZ)(u.xu,{as:"span",display:["none","inline"],children:n}),"right"===r?(0,x.tZ)(Y.LZ,{size:"sm"}):null]}))},tP=(0,d.yV)(function(e,t){var n=e.pageNumber,r=e.onClick,o=e.isActive;return(0,x.tZ)("li",{children:(0,x.tZ)(A.k,{alignItems:"center","aria-current":o?"page":void 0,"aria-label":"Go to page ".concat(n),as:s.Yd,css:o?{color:d._X.foregroundText,textDecoration:"none"}:void 0,focusRingFor:"keyboard",fontWeight:o?"bold":"normal",height:{xs:th,sm:tg},justifyContent:"center",link:!0,onClick:r,ref:t,width:{xs:th,sm:tg},children:n})})});function tx(e){var t=e.isLinks,n=e.missingLeftPageNumber,r=e.missingRightPageNumber;return(0,x.tZ)(A.k,{alignItems:"center","aria-label":"… Pages ".concat(n," to ").concat(r," are hidden. Use the Previous and Next ").concat(t?"links":"buttons"," to navigate"),as:"li",height:{sm:tg},justifyContent:"center",width:{sm:tg},children:(0,x.tZ)(L.x,{children:"…"})})}var tS=["label","maxWidth","options","placeholder","id"];function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tT=function(e){var t=e.label,n=e.maxWidth,r=e.options,o=e.placeholder,i=e.id,a=(0,e3.Z)(e,tS);return(0,x.BX)(A.k,{alignItems:"center",gap:1,children:[(0,x.tZ)(L.x,{as:"label",fontWeight:"bold",htmlFor:i,children:t}),(0,x.BX)("div",{css:(0,l.iv)({position:"relative",maxWidth:d.TV.maxWidth.field[void 0===n?"md":n]},"",""),children:[(0,x.tZ)("select",tk(tk({css:tE,id:i},a),{},{children:(0,x.tZ)(tA,{options:r,placeholder:o})})),(0,x.tZ)(tX,{})]})]})},tA=function(e){var t=e.options,n=e.placeholder;return(0,x.BX)(o.Fragment,{children:[n?(0,x.tZ)("option",{value:"",children:n}):null,t.map(function(e){return"options"in e?(0,x.tZ)("optgroup",{disabled:e.disabled,label:e.label,children:e.options.map(function(e){var t=e.value,n=e.label,r=e.disabled;return(0,x.tZ)("option",{disabled:r,value:t,children:n},t)})},e.label):(0,x.tZ)("option",{disabled:e.disabled,value:e.value,children:e.label},e.value)})]})},tX=function(e){var t=e.disabled;return(0,x.tZ)(Y.v4,{css:(0,l.iv)({position:"absolute",top:"50%",right:(0,d.XH)(.75),transform:"translateY(-50%)",opacity:t?.3:void 0,pointerEvents:"none",color:d._X.foregroundAction},"","")})},tE=tk(tk(tk({position:"relative",appearance:"none",boxSizing:"border-box",paddingLeft:(0,d.XH)(1),paddingRight:"calc(".concat(d.TV.borderWidth.lg,"px + 2.5rem)"),margin:0,background:d._X.backgroundBody,borderWidth:d.TV.borderWidth.lg,borderStyle:"solid",borderColor:d._X.border,borderRadius:d.TV.borderRadius,color:d._X.foregroundText,width:"100%",fontFamily:d.TV.font.body},d.lB.input.md),{},{lineHeight:d.TV.lineHeight.default},d.lB.truncate),{},{"&:disabled":{opacity:1,cursor:"not-allowed",borderColor:d._X.borderMuted,backgroundColor:d._X.backgroundShade,color:d._X.foregroundMuted},"&:focus":d.lB.outline}),tD=function(e){var t=e.value,n=e.options,r=e.onChange,o=(0,d.Me)();return(0,x.tZ)(tT,{id:"pagination-per-page-select-".concat(o),label:"Items per page",maxWidth:"sm",onChange:function(e){return r(Number(e.target.value))},options:(void 0===n?[10,20,50,100]:n).map(function(e){return{label:"".concat(e),value:"".concat(e)}}),value:"".concat(t)})};function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tB(e){var t,n=e["aria-label"],r=e.currentPage,i=e.itemRangeText,a=e.itemsPerPage,l=e.itemsPerPageOptions,s=e.onChange,u=e.onItemsPerPageChange,d=e.totalPages,f=e.windowLimit,p=(0,o.useState)(!1),h=p[0],g=p[1],b=(0,o.useRef)(null),m=function(e){var t=e.currentPage,n=e.totalPages,r=e.windowLimit,o=[],i=1,a=n;if(r<n){var c=Math.floor(r/2);i=t-(c+r%2-1),a=t+c,i<1&&(a=r,i=1),a>n&&(i=n-r+1,a=n)}t>1&&o.push({type:"direction",direction:"left",pageNumber:t-1}),i>1&&(o.push({type:"page",pageNumber:1,isActive:1===t}),i>3?o.push({type:"separator",pageNumber:0}):2!==i&&o.push({type:"page",pageNumber:2,isActive:2===t}));for(var l=i;l<=a;l++){var s=l===t;o.push({type:"page",pageNumber:l,isActive:s})}return a+1<n&&(a+1!==n-1?o.push({type:"separator",pageNumber:0}):o.push({type:"page",pageNumber:n-1,isActive:n-1===t})),a<n&&o.push({type:"page",pageNumber:n,isActive:n===t}),t<n&&o.push({type:"direction",direction:"right",pageNumber:t+1}),o}({currentPage:r,totalPages:d,windowLimit:void 0===f?3:f}),v=!!(a&&u||i);return h&&1===r&&(null===(t=b.current)||void 0===t||t.focus(),g(!1)),(0,x.BX)(td,{hasRightArea:v,children:[(0,x.tZ)(tu,{"aria-label":void 0===n?"Pagination":n,children:m.map(function(e,t){switch(e.type){case"direction":return(0,x.tZ)(tO,{direction:e.direction,onClick:function(){s(e.pageNumber),1===e.pageNumber&&g(!0)}},e.direction);case"page":return(0,x.tZ)(tP,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({isActive:e.isActive,onClick:function(){return s(e.pageNumber)},pageNumber:e.pageNumber},1===e.pageNumber&&{ref:b}),e.pageNumber);case"separator":return(0,x.tZ)(tx,{isLinks:!1,missingLeftPageNumber:m[t-1].pageNumber+1,missingRightPageNumber:m[t+1].pageNumber-1},"".concat(t,"-separator"));default:return null}})}),v&&(0,x.BX)(tf,{children:[i&&(0,x.tZ)(L.x,{role:"status",children:i}),a&&u&&(0,x.tZ)(tD,{onChange:u,options:l,value:a})]})]})}var tI=function(){var e,t,n,r,i,a,c,l,s=$(),u=s.pagination,d=s.setPagination,f=en(),p=f.displayData,h=f.totalItems,g=f.totalPages,b=f.loading,m=(t=(e={totalItems:h,currentPage:u.page,itemsPerPage:u.perPage,singularNoun:"item",pluralNoun:"items"}).totalItems,n=e.itemsPerPage,r=e.currentPage,i=e.singularNoun,a=e.pluralNoun,c=1===t?void 0===i?"item":i:void 0===a?"items":a,l=Math.min((r-1)*n+n,t),"".concat((r-1)*n+1," – ").concat(l," of ").concat(t," ").concat(c)),v=(0,o.useState)({page:u.page,itemRangeText:m,perPage:u.perPage}),y=v[0],O=v[1];return((0,o.useEffect)(function(){b||O({page:u.page,itemRangeText:m,perPage:u.perPage})},[m,b,u.page,u.perPage]),p.length)?(0,x.tZ)(tB,{currentPage:y.page,itemRangeText:y.itemRangeText,itemsPerPage:y.perPage,onChange:function(e){return d({perPage:y.perPage,page:e})},onItemsPerPageChange:function(e){return d({page:t_({currentPage:u.page,totalItems:h,perPage:e,prevPerPage:u.perPage}),perPage:e})},totalPages:g}):null},t_=function(e){var t=e.currentPage,n=e.totalItems,r=e.perPage,o=e.prevPerPage;return t>n/r?Math.ceil(n/r):Math.floor(Math.floor(t*o+(1-o))/r+1)},tN=function(){var e,t,n,r,i,a,c,l,s=(e=en().displayData,n=(t=$()).selection,r=t.selectRows,i=t.clearRowSelections,a=(0,o.useMemo)(function(){return e.map(function(e){return e.id})},[e]),c=(0,o.useMemo)(function(){return n.length>0},[n]),{isSelectAllCheckboxChecked:l=(0,o.useMemo)(function(){return a.length>0&&a.every(function(e){return n.includes(e)})},[a,n]),isSelectAllCheckboxIndeterminate:!l&&c,toggleAllRowsSelected:function(){l?i():r(a)}}),u=s.toggleAllRowsSelected,d=s.isSelectAllCheckboxChecked,f=s.isSelectAllCheckboxIndeterminate;return(0,x.tZ)(eE.X,{checked:d,indeterminate:f,onChange:u,size:"sm",children:"Select all rows"})},tL={sm:{borderWidth:d.lB.control.sm.borderWidth,height:d.lB.control.sm.height,thumbCheckedPos:"1.25rem",width:"2.75rem"},md:{borderWidth:d.lB.control.md.borderWidth,height:d.lB.control.md.height,thumbCheckedPos:"1.5rem",width:"3.5rem"}};function tF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tF(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tW={name:"sfltnx",styles:"position:relative;flex-shrink:0"},tM=function(e){var t=e.children,n=tL[e.size],r=n.width,o=n.height;return(0,x.tZ)(u.xu,{as:"span",css:tW,height:o,width:r,children:t})},tH=function(e){var t=e.checked,n=tL[e.size],r=n.borderWidth,o=n.height;return(0,x.tZ)(u.xu,{as:"span",css:(0,l.iv)(tz(tz({borderWidth:r,borderStyle:"solid",borderRadius:o,position:"absolute",inset:0},d.S0.exactColor),t?{backgroundColor:d._X.selected,borderColor:d._X.selected}:{borderColor:d._X.border,backgroundColor:d._X.backgroundShade}),"","")})},tV={sm:{prop:"sm",actual:"0.875rem"},md:{prop:"md",actual:"1.375rem"}},tK=function(e){var t=e.checked,n=e.size,r=tL[n],o=r.thumbCheckedPos,i=r.borderWidth,a=r.height,c=tV[n];return(0,x.tZ)(A.k,{alignItems:"center",as:"span",background:"body",css:(0,l.iv)({borderRadius:a,borderWidth:i,borderStyle:"solid",borderColor:t?d._X.selected:d._X.foregroundAction,position:"absolute",transition:"left ".concat(d.TV.transition.duration,"ms ").concat(d.TV.transition.timingFunction),left:t?o:"0rem"},"",""),height:a,justifyContent:"center",width:a,children:t&&(0,x.tZ)(Y.nQ,{color:"selected",css:(0,l.iv)({width:c.actual,height:c.actual},"",""),size:c.prop,weight:"bold"})})},tq=["size","label","onChange","checked"];function tG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tG(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tU=function(e){var t=e.size,n=void 0===t?"md":t,r=e.label,o=e.onChange,i=e.checked,a=(0,e3.Z)(e,tq);return(0,x.BX)(A.k,{alignItems:"center",as:"label",css:(0,l.iv)({width:"fit-content",cursor:"pointer","&:hover":{"& input:not(:focus) ~ span:first-of-type":{borderColor:d._X.foregroundText,backgroundColor:i?d._X.foregroundText:d._X.backgroundShadeAlt},"& input:not(:focus) ~ span:last-of-type":{borderColor:d._X.foregroundText,"& svg":{stroke:i?d._X.foregroundText:void 0}}}},"",""),gap:.75,children:[(0,x.BX)(tM,{size:n,children:[(0,x.tZ)("input",{"aria-checked":i,"aria-controls":a["aria-controls"],checked:i,css:(0,l.iv)(tY(tY({},ex.JM),{},{"&:focus-visible ~ span:first-of-type":d.lB.outline}),"",""),onChange:function(){return o(!i)},role:"switch",type:"checkbox"}),(0,x.tZ)(tH,{checked:i,size:n}),(0,x.tZ)(tK,{checked:i,size:n})]}),(0,x.tZ)(L.x,{children:r})]})},tJ=function(){var e=$(),t=e.filters,n=e.setFilter;return(0,x.tZ)(u.xu,{paddingBottom:.5,children:(0,x.tZ)(tU,{"aria-controls":eY,checked:t.activeUsers,label:"Active users",onChange:function(e){n({activeUsers:e})}})})};function tQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tQ(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var t0={invite:{description:"will receive an email asking them to create a staff account.",titlePrefix:"An email invitation has been sent to",titleSuffix:""},update:{description:null,titlePrefix:"",titleSuffix:"has been updated"},pause:{description:null,titlePrefix:"",titleSuffix:"has been paused as a staff member"},pauseBatch:{description:null,titlePrefix:"",titleSuffix:"have been paused as staff members"},remove:{description:null,titlePrefix:"",titleSuffix:"has been removed as a staff member"},removeBatch:{description:null,titlePrefix:"",titleSuffix:"have been removed as a staff members"}},t1=function(e){var t,n,r,i,c,f,p,h,g,b,m,v,y,O,Z,w,C,P,S=e.selectable,j=e.tableRef,k=(0,G.useRouter)(),T=(0,o.useRef)(null),A=(0,es.M)(),X=A.staffMembersGetState,E=A.staffMembersDelete,D=(0,d.hb)(!1),R=(0,q.Z)(D,3),B=R[0],I=R[1],_=R[2],N=ec(),F=(n=(t={filters:N.filters,pagination:N.pagination,sort:N.sort}).sort,r=t.filters,i=t.pagination,c=t.throwError,p=(f=(0,o.useState)(!0))[0],h=f[1],b=(g=(0,o.useState)([]))[0],m=g[1],y=(v=(0,o.useState)(0))[0],O=v[1],w=(Z=(0,o.useState)(0))[0],C=Z[1],P=(0,(0,es.M)().staffMembersGetState)(),((0,o.useEffect)(function(){h(!0),(function(e,t){return em.apply(this,arguments)})(P,{sort:n,filters:r,pagination:i}).then(function(e){m(e.displayData),O(e.totalPages),C(e.totalItems),h(!1)})},[P,n,r,i]),c)?{error:"Something went wrong",loading:!1,displayData:[],totalPages:0,totalItems:0}:{loading:p,displayData:b,totalPages:y,totalItems:w}),z=(0,o.useState)(k.query.successType),W=z[0],M=z[1],H=(0,o.useState)(function(){var e=X().find(function(e){return k.query.staffId===(null==e?void 0:e.id)});return e&&"remove"===k.query.successType&&E(e),(null==e?void 0:e.name)||""}),V=H[0],K=H[1];return(0,o.useEffect)(function(){W&&V&&setTimeout(function(){var e;null===(e=T.current)||void 0===e||e.focus()},500)},[W,V]),(0,x.tZ)(Q,{value:N,children:(0,x.BX)(et,{value:t$(t$({},F),{},{setSuccessMessageType:M,setUpdatedStaffMemberName:K}),children:[(0,x.tZ)(u.xu,{css:(0,l.iv)({display:W&&V?"block":"none"},"",""),focusRingFor:"all",ref:T,tabIndex:-1,children:(0,x.tZ)(U.E,{onClose:function(){M(null),k.replace(k.pathname,void 0,{shallow:!0})},title:W?"".concat(t0[W].titlePrefix," ").concat(V," ").concat(t0[W].titleSuffix):"",tone:"successHigh",children:W&&t0[W].description&&(0,x.BX)(L.x,{as:"p",children:[V," ",t0[W].description]})})}),(0,x.BX)(a.K,{gap:0,children:[(0,x.BX)(tc,{children:[(0,x.BX)(tl,{children:[(0,x.BX)(ts,{children:[(0,x.tZ)(ta,{}),(0,x.tZ)(tJ,{}),(0,x.tZ)(s.zx,{iconBefore:Y.k1,onClick:I,variant:"secondary",children:"Show filters"})]}),(0,x.tZ)(e$,{})]}),(0,x.tZ)(e5,{closeDrawer:_,isDrawerOpen:B}),(0,x.tZ)(ew,{})]}),S&&!!F.totalItems&&(0,x.tZ)(u.xu,{borderBottom:!0,padding:1,children:(0,x.tZ)(tN,{})}),(0,x.tZ)(eJ,{headingId:"staff-members-heading",ref:j,selectable:S})]}),(0,x.tZ)(tI,{})]})})},t2=n(72320);function t7(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose,i=e.itemsToApprove,a=(0,o.useState)(!1),c=a[0],l=a[1],u=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to approve access for ".concat(i.length," staff ").concat((0,eO.Ho)(i.length,"member","members"),"?"),description:"Access will be approved immediately."}:{title:"Are you sure you want to approve access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be approved immediately."}},[i]),d=u.title,f=u.description;return(0,x.tZ)(eL.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),n()},1500)},children:"Approve access"}),(0,x.tZ)(s.zx,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,x.tZ)(L.x,{as:"p",children:f})})}function t5(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose,i=e.itemsToReject,a=(0,o.useState)(!1),c=a[0],l=a[1],u=(0,o.useMemo)(function(){return Array.isArray(i)?{title:"Are you sure you want to remove access for ".concat(i.length," staff ").concat((0,eO.Ho)(i.length,"member","members"),"?"),description:"Access will be removed immediately. You can not undo this action."}:{title:"Are you sure you want to remove access for ".concat(i.firstName," ").concat(i.lastName,"?"),description:"Access will be removed immediately. You can not undo this action."}},[i]),d=u.title,f=u.description;return(0,x.tZ)(eL.u,{actions:(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{loading:c,onClick:function(){l(!0),setTimeout(function(){l(!1),n()},1500)},children:"Reject access"}),(0,x.tZ)(s.zx,{onClick:r,variant:"secondary",children:"Cancel"})]}),isOpen:t,onClose:r,title:d,children:(0,x.tZ)(L.x,{as:"p",children:f})})}var t3=function(e){var t=e.isOpen,n=e.onConfirm,r=e.onClose;return(0,x.tZ)(eL.u,{actions:(0,x.tZ)(s.hE,{children:(0,x.tZ)(s.zx,{onClick:n,children:"Okay"})}),isOpen:t,onClose:r,title:"This feature is not yet available.",children:(0,x.tZ)(L.x,{as:"p",children:"Note: the yourGov app is for demonstration purposes only."})})};function t8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t8(Object(n),!0).forEach(function(t){(0,c.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var t4=function(){var e=(0,o.useRef)(null),t=(0,es.M)(),n=t.accessRequestsDelete,r=t.accessRequestsGetState,i=t.accessRequestsUpdate,f=(0,o.useState)([]),p=f[0],h=f[1],g=(0,o.useState)(),b=g[0],m=g[1],v=(0,d.hb)(!1),y=(0,q.Z)(v,3),O=y[0],Z=y[1],w=y[2],C=(0,d.hb)(!1),P=(0,q.Z)(C,3),S=P[0],j=P[1],k=P[2],T=(0,d.hb)(!1),X=(0,q.Z)(T,3),E=X[0],D=X[1],R=X[2],B=(0,o.useState)(),I=B[0],_=B[1],F=(0,o.useState)(),z=F[0],W=F[1],M=r(),H=(0,o.useMemo)(function(){return M.reduce(function(e,t){return null!=t&&t.firstName?t9(t9({},e),{},(0,c.Z)({},t.id,t)):e},{})},[M]),V=p.map(function(e){return H[e]}),K=function(){return h([])},G=p.length===M.length,J=p.length>0&&!G;return(0,o.useEffect)(function(){I&&z&&setTimeout(function(){var t;null===(t=e.current)||void 0===t||t.focus()},500)},[I,z]),(0,x.BX)(x.HY,{children:[(0,x.tZ)(u.xu,{css:(0,l.iv)({display:I&&z?"block":"none"},"",""),focusRingFor:"all",ref:e,tabIndex:-1,children:(0,x.tZ)(U.E,{onClose:function(){_(void 0)},title:"Access request for ".concat(Array.isArray(I)?I.length:"".concat(null==I?void 0:I.firstName," ").concat(null==I?void 0:I.lastName)," ").concat((0,eO.Ho)(Array.isArray(I)?I.length:1,"person has","people have")," been ").concat(z),tone:"successHigh",children:(0,x.BX)(L.x,{as:"p",children:["Staff members will receive an email letting them know that their request has been ",z,"."]})})}),(0,x.BX)(a.K,{gap:.5,children:[0===M.length?(0,x.tZ)(a.K,{alignItems:"flex-start",gap:2,paddingY:1,role:"status",children:(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(Y.fM,{color:"muted",size:"lg"}),(0,x.tZ)(N.X,{fontSize:"lg",type:"h3",children:"There are no access requests"}),(0,x.tZ)(L.x,{children:"All access requests have been actioned."})]})}):(0,x.BX)(x.HY,{children:[(0,x.tZ)(u.xu,{css:(0,l.iv)({marginLeft:(0,d.XH)(.75)},"",""),children:(0,x.tZ)(eE.X,{checked:G,indeterminate:J,onChange:function(){G?K():h(M.map(function(e){return e.id}))},size:"sm",children:"Select all rows"})}),(0,x.tZ)(t2.i,{}),(0,x.tZ)(eA.y6,{children:(0,x.BX)(eA.iA,{"aria-labelledby":"access-requests-heading",children:[(0,x.tZ)(eA.ss,{children:(0,x.BX)(eA.SC,{children:[(0,x.tZ)(eA.xD,{scope:"col",width:"5rem",children:"Select"}),(0,x.tZ)(eA.xD,{scope:"col",children:"Name"}),(0,x.tZ)(eA.xD,{scope:"col",children:"Role"}),(0,x.tZ)(eA.xD,{scope:"col",children:"Status"}),(0,x.tZ)(eA.xD,{scope:"col",width:"5rem",children:"Actions"})]})}),(0,x.tZ)(eA.RM,{children:M.map(function(e){var t="".concat(e.firstName," ").concat(e.lastName);return(0,x.BX)(eA.SC,{selected:p.includes(e.id),children:[(0,x.tZ)(eA.pj,{children:(0,x.tZ)(eE.X,{checked:p.includes(e.id),onChange:function(){return h(function(t){return t.includes(e.id)?t.filter(function(t){return t!==e.id}):[].concat((0,er.Z)(t),[e.id])})},size:"sm",children:(0,x.tZ)(ex.TX,{children:"Select ".concat(t)})})}),(0,x.tZ)(eA.pj,{as:"th",fontWeight:"bold",id:"".concat(e.id,"-name"),scope:"row",children:(0,x.tZ)(eX.h,{href:"/not-found",onClick:function(e){e.preventDefault(),D()},children:t})}),(0,x.tZ)(eA.pj,{children:e.role}),(0,x.tZ)(eA.pj,{children:(0,x.tZ)(eD.O,{appearance:"subtle",label:e.status,tone:"infoMedium"})}),(0,x.tZ)(eA.pj,{children:(0,x.BX)(A.k,{gap:1,children:[(0,x.tZ)(s.zx,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){m(e),Z()},variant:"text",children:"Approve"}),(0,x.tZ)(s.zx,{"aria-describedby":"".concat(e.id,"-name"),onClick:function(){m(e),j()},variant:"text",children:"Reject"})]})})]},e.id)})})]})})]}),p.length>0&&(0,x.BX)(eA.HY,{children:[(0,x.BX)(eA.Sh,{children:["Apply action to ",p.length," ",(0,eO.Ho)(p.length,"item","items")]}),(0,x.BX)(s.hE,{children:[(0,x.tZ)(s.zx,{onClick:Z,size:"sm",variant:"secondary",children:"Approve access"}),(0,x.tZ)(s.zx,{onClick:j,size:"sm",variant:"secondary",children:"Reject access"}),(0,x.tZ)(s.zx,{onClick:K,size:"sm",variant:"tertiary",children:"Cancel"})]})]}),(0,x.tZ)(t7,{isOpen:O,itemsToApprove:b||V,onClose:function(){w(),m(void 0)},onConfirm:function(){W("approved"),_(b||V),K(),i({accessRequestsToUpdate:b||V,updates:{status:"Active"}}),m(void 0),w()}}),(0,x.tZ)(t5,{isOpen:S,itemsToReject:b||V,onClose:function(){k(),m(void 0)},onConfirm:function(){W("rejected"),_(b||V),K(),n(b||V),m(void 0),k()}}),(0,x.tZ)(t3,{isOpen:E,onClose:R,onConfirm:R})]})]})},t6=n(28882),ne=function(){var e=(0,t6.w)().selectedBusiness,t=(0,(0,es.M)().accessRequestsGetState)(),n=(0,o.useRef)(null);return(0,x.BX)(o.Fragment,{children:[(0,x.tZ)(W.$,{title:"Staff".concat(null!=e&&e.name?" | ".concat(e.name):"")}),(0,x.tZ)(i.JH,{children:(0,x.BX)(a.K,{gap:3,children:[(0,x.tZ)(H.V,{callToAction:(0,x.BX)(a.K,{gap:2,maxWidth:"42rem",children:[(0,x.tZ)(F.P,{iconBefore:!0,label:"Why should I invite a new staff member?",children:(0,x.BX)(a.K,{gap:1,children:[(0,x.tZ)(L.x,{as:"p",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,x.tZ)(K.f,{drawerContent:(0,x.BX)(a.K,{gap:2,children:[(0,x.tZ)(N.H1,{children:"Learn more about inviting a staff member"}),(0,x.tZ)(L.x,{as:"p",color:"muted",fontSize:"lg",children:"Inviting individuals to join your staff can bring numerous benefits to your business and help streamline your operations."}),(0,x.tZ)(L.x,{as:"p",fontSize:"md",children:"As your business grows, you’ll need to scale your team accordingly. Inviting new staff members allows you to expand your workforce in line with your evolving needs."}),(0,x.tZ)(L.x,{as:"p",fontSize:"md",children:"Below are a list of the types of roles available:"}),(0,x.tZ)(N.H2,{children:"Owner"}),(0,x.tZ)(L.x,{as:"p",fontSize:"md",children:"Owners have the highest level of access. They can add, edit and remove managers and staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,x.tZ)(N.H2,{children:"Manager"}),(0,x.tZ)(L.x,{as:"p",fontSize:"md",children:"Managers can add, edit and remove staff members. They can set rosters, send an receive messages with owners, employees and other managers."}),(0,x.tZ)(N.H2,{children:"Employee"}),(0,x.tZ)(L.x,{as:"p",fontSize:"md",children:"Employees can see their shifts, send an receive messages with managers and edit their personal and contact information."}),(0,x.tZ)(V.O,{})]}),linkContent:"Learn more about inviting a staff member",linkHref:"https://exports.agriculture.gov.au/help/page/example-reference-article"})]})}),(0,x.tZ)(s.ZP,{alignSelf:"start",href:"/app/staff/invite-staff-member",children:"Invite staff member"})]}),introduction:(0,x.BX)(x.HY,{children:["Manage who can act for"," ",(0,x.tZ)(L.x,{fontSize:"md",fontWeight:"bold",children:"Walker‘s Frozen Food"}),"."]}),title:"Staff"}),(0,x.BX)(I,{contained:!1,children:[(0,x.BX)(X,{children:[(0,x.tZ)(k,{children:"Staff members"}),(0,x.tZ)(k,{children:(0,x.BX)(A.k,{gap:.5,children:["Access requests"," ",t.length>0&&(0,x.tZ)(z.C,{tone:"action",value:t.length})]})})]}),(0,x.BX)(B,{children:[(0,x.tZ)(R,{children:(0,x.BX)(a.K,{gap:1.5,children:[(0,x.tZ)(N.H2,{id:"staff-members-heading",children:"Staff members"}),(0,x.tZ)(t1,{selectable:!0,tableRef:n})]})}),(0,x.tZ)(R,{children:(0,x.BX)(a.K,{gap:1.5,children:[(0,x.tZ)(N.H2,{id:"access-requests-heading",children:"Access requests"}),(0,x.tZ)(t4,{})]})})]})]}),(0,x.tZ)(_.o,{cols:{xs:1,sm:4},children:(0,x.tZ)(_.s,{columnSpan:{xs:1,sm:3},children:(0,x.tZ)(V.O,{})})})]})})]})},nt=ne;ne.getLayout=function(e){return(0,x.tZ)(M.L,{children:(0,x.tZ)(es.w,{children:e})})}},56861:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app/staff",function(){return n(78972)}])}},function(e){e.O(0,[1065,3982,6343,1131,6236,9678,5294,8734,2370,8010,8927,7171,6174,1863,2888,9774,179],function(){return e(e.s=56861)}),_N_E=e.O()}]);