name: Tests

on:
  push:
    branches:
      - main
  pull_request:
  workflow_dispatch:

jobs:
  jest:
    name: Unit Tests
    uses: ./.github/workflows/checkout-with-cache.yml
    env:
      CI: true
    steps:
      - name: Unit tests
        run: yarn test

  linting:
    name: Linting
    uses: ./.github/workflows/checkout-with-cache.yml

    steps:
      - name: Generate component props
        run: yarn docs:generate-component-props

      - name: Packages
        run: yarn lint:packages

      - name: Example
        run: yarn lint:example

      - name: Docs
        run: yarn lint:docs

      - name: Prettier
        run: yarn lint:prettier

      - name: Typescript
        run: yarn lint:typescript
