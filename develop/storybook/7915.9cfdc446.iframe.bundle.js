"use strict";(self.webpackChunkagds_next=self.webpackChunkagds_next||[]).push([[7915],{"./.storybook/stories/DataFiltering/ListFiltering.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{j:()=>ListFiltering});var defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),a11y=__webpack_require__("./packages/react/src/a11y/index.ts"),box=__webpack_require__("./packages/react/src/box/index.ts"),core=__webpack_require__("./packages/react/src/core/index.ts"),columns=__webpack_require__("./packages/react/src/columns/index.ts"),date_range_picker=__webpack_require__("./packages/react/src/date-range-picker/index.ts"),filter_sidebar=__webpack_require__("./packages/react/src/filter-sidebar/index.ts"),flex=__webpack_require__("./packages/react/src/flex/index.ts"),stack=__webpack_require__("./packages/react/src/stack/index.ts"),src_text=__webpack_require__("./packages/react/src/text/index.ts"),form_stack=__webpack_require__("./packages/react/src/form-stack/index.ts"),DashboardPagination=__webpack_require__("./.storybook/stories/DataFiltering/components/DashboardPagination.tsx"),card=__webpack_require__("./packages/react/src/card/index.ts"),heading=__webpack_require__("./packages/react/src/heading/index.ts"),skeleton=__webpack_require__("./packages/react/src/skeleton/index.ts"),icon=__webpack_require__("./packages/react/src/icon/index.ts"),src_button=__webpack_require__("./packages/react/src/button/index.ts"),contexts=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),DataTable=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const DataList=({loading,data})=>{const{pagination,resetFilters}=(0,contexts.YM)();return(0,emotion_react_jsx_runtime_browser_esm.FD)("div",{id:DataTable.s,children:[loading?(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.Stack,{as:"ul",gap:1,children:Array.from(Array(pagination.perPage).keys()).map((i=>(0,emotion_react_jsx_runtime_browser_esm.Y)(DataListItemSkeleton,{},i)))}):data.length>0&&(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.Stack,{as:"ul",gap:1,children:data.map((item=>(0,emotion_react_jsx_runtime_browser_esm.Y)(DataListItem,{data:item},item.id)))}),(0,emotion_react_jsx_runtime_browser_esm.Y)(stack.Stack,{alignItems:"flex-start",gap:2,role:"alert",children:!loading&&0===data.length&&(0,emotion_react_jsx_runtime_browser_esm.FD)(emotion_react_jsx_runtime_browser_esm.FK,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:1,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.NT,{color:"muted",size:"lg"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(heading.Heading,{fontSize:"lg",type:"h2",children:"No results found"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{children:"Try adjusting your filter options."})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{onClick:resetFilters,children:"Clear filters"})]})})]})},DataListItem=({data})=>(0,emotion_react_jsx_runtime_browser_esm.Y)(card.Card,{as:"li",clickable:!0,shadow:!0,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(card.CardInner,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{flexWrap:"wrap",gap:1,width:"100%",children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(heading.H3,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(card.CardLink,{href:`#${data.id}`,children:data.businessName})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{children:`${data.city}, ${data.state}`}),(0,emotion_react_jsx_runtime_browser_esm.FD)(src_text.Text,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{fontWeight:"bold",children:"Destinations: "}),data.destinations.join(", ")]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(src_text.Text,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{fontWeight:"bold",children:"Services: "}),data.services.join(", ")]})]})})}),DataListItemSkeleton=()=>(0,emotion_react_jsx_runtime_browser_esm.Y)(card.Card,{as:"li",shadow:!0,children:(0,emotion_react_jsx_runtime_browser_esm.Y)(card.CardInner,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:1,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.I1,{type:"h3",width:"50%"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{fontSize:"sm",width:"12%"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{fontSize:"sm",width:"25%"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{fontSize:"sm",width:"25%"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]})})});var FilterAssigneeSelect=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterAssigneeSelect.tsx"),FilterDestinationsSelect=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterDestinationsSelect.tsx"),FilterSearchInput=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterSearchInput.tsx"),FilterServicesSelect=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterServicesSelect.tsx"),FilterStateSelect=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterStateSelect.tsx"),FilterStatusSelect=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterStatusSelect.tsx"),utils=__webpack_require__("./.storybook/stories/DataFiltering/lib/utils.ts"),SortBySelect=__webpack_require__("./.storybook/stories/DataFiltering/components/SortBySelect.tsx"),ActiveFilters=__webpack_require__("./.storybook/stories/DataFiltering/components/ActiveFilters.tsx");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var _ref={name:"1nob2mz",styles:"&:focus{outline:none;}"};const ListFiltering=()=>{const{filters,resetFilters,setFilter,pagination}=(0,contexts.YM)(),{data,loading,totalItems}=(0,contexts.fK)(),activeFiltersCount=(0,utils.y4)(filters),tableCaption=(0,utils.mw)({loading,totalItems,pagination});return(0,emotion_react_jsx_runtime_browser_esm.FD)(columns.Columns,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(columns.Column,{columnSpan:{xs:12,md:4,lg:3},children:(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{css:(0,emotion_react_browser_esm.AH)({[core.tokens.mediaQuery.min.md]:{marginTop:"3.5rem"}},"",""),gap:1,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(filter_sidebar.H,{activeFiltersCount,onClearFilters:resetFilters,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(form_stack.FormStack,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{color:"muted",children:"Results update immediately"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterSearchInput.X,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterStatusSelect.Z,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterStateSelect.E,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterAssigneeSelect.o,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterDestinationsSelect.C,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(FilterServicesSelect.n,{block:!0}),(0,emotion_react_jsx_runtime_browser_esm.Y)(date_range_picker.DateRangePicker,{fromLabel:"Registered from",hideOptionalLabel:!0,onChange:requestDate=>setFilter({requestDate}),onFromInputChange:from=>setFilter({requestDate:_objectSpread(_objectSpread({},filters.requestDate),{},{from})}),onToInputChange:to=>setFilter({requestDate:_objectSpread(_objectSpread({},filters.requestDate),{},{to})}),toLabel:"Registered to",value:filters.requestDate})]})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(box.Box,{display:{xs:"block",lg:"none"},children:(0,emotion_react_jsx_runtime_browser_esm.Y)(ActiveFilters.S,{})})]})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(columns.Column,{"aria-label":"List of establishments",as:"main",columnSpan:{xs:12,md:8},columnStart:{lg:5},css:_ref,id:"main-content",tabIndex:-1,children:(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:2,children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(flex.Flex,{alignItems:{xs:"flex-start",md:"flex-end"},borderBottom:!0,borderBottomWidth:{xs:"none",md:"sm"},flexDirection:{xs:"column",md:"row"},gap:1,justifyContent:{xs:"flex-start",md:"space-between"},paddingBottom:{md:1},children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{as:"h2",fontSize:"md",fontWeight:{xs:"normal",md:"bold"},lineHeight:"heading",children:tableCaption}),(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:a11y.O_,role:"status",children:loading?"Loading audits":""}),(0,emotion_react_jsx_runtime_browser_esm.Y)(SortBySelect.a,{})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DataList,{data,loading}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DashboardPagination.H,{})]})})]})}},"./.storybook/stories/DataFiltering/components/ActiveFilters.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{S:()=>ActiveFilters});var date_fns__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),_packages_react_src_text__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/text/index.ts"),_packages_react_src_flex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/flex/index.ts"),_packages_react_src_button__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/button/index.ts"),_packages_react_src_icon__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/react/src/icon/index.ts"),_packages_react_src_tags__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/react/src/tags/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_lib_utils__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./.storybook/stories/DataFiltering/lib/utils.ts"),_FilterStateSelect__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./.storybook/stories/DataFiltering/components/FilterStateSelect.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const formatDate=date=>{if(date)return(0,date_fns__WEBPACK_IMPORTED_MODULE_8__.A)(date,"dd/MM/yyyy")};function formatFilterKey(key){return{requestDate:"Request date",assignee:"Assignee",businessName:"Business name",state:"State",status:"Status",services:"Services",destinations:"Destinations"}[key]}const ActiveFilters=()=>{const{filters,removeFilter,resetFilters}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_5__.YM)(),tags=(({filters,removeFilter})=>{const filterEntries=Object.entries(filters),tags=[];for(const[key,value]of filterEntries){if(!value)continue;const formattedKey=formatFilterKey(key),onRemove=()=>removeFilter(key);if("state"!==key)if("status"!==key)if("requestDate"!==key)if(Array.isArray(value)){if(0===value.length)continue;tags.push({label:`${formattedKey}: ${value.join(", ")}`,onRemove})}else tags.push({label:`${formattedKey}: ${value}`,onRemove});else{const fromDate=value.from&&"string"!=typeof value.from?value.from:void 0,toDate=value.to&&"string"!=typeof value.to?value.to:void 0;if(!fromDate&&!toDate)continue;tags.push({label:`${formattedKey}: ${[formatDate(fromDate),formatDate(toDate)].filter(Boolean).join(" - ")}`,onRemove})}else tags.push({label:`${formattedKey}: ${_lib_utils__WEBPACK_IMPORTED_MODULE_6__.I[value].label}`,onRemove});else{const option=_FilterStateSelect__WEBPACK_IMPORTED_MODULE_7__.J.find((o=>o.value===value));if(!option)continue;tags.push({label:`${formattedKey}: ${option.label}`,onRemove})}}return tags})({filters,removeFilter});return 0===tags.length?null:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.FD)(_packages_react_src_flex__WEBPACK_IMPORTED_MODULE_1__.Flex,{alignItems:"flex-end",flexWrap:"wrap",gap:.75,children:[(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_packages_react_src_tags__WEBPACK_IMPORTED_MODULE_4__.YD,{heading:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_packages_react_src_text__WEBPACK_IMPORTED_MODULE_0__.Text,{fontWeight:"bold",children:"Active filters"}),items:tags}),(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__.Y)(_packages_react_src_button__WEBPACK_IMPORTED_MODULE_2__.Button,{iconAfter:_packages_react_src_icon__WEBPACK_IMPORTED_MODULE_3__.US,onClick:resetFilters,size:"sm",variant:"text",children:"Clear filters"})]})}},"./.storybook/stories/DataFiltering/components/DashboardPagination.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>DashboardPagination});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_packages_react_src_pagination__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/pagination/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const DashboardPagination=()=>{const{pagination,setPagination}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_2__.YM)(),{data,totalItems,totalPages,loading}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_2__.fK)(),itemRangeText=(0,_packages_react_src_pagination__WEBPACK_IMPORTED_MODULE_1__.iW)({totalItems,currentPage:pagination.page,itemsPerPage:pagination.perPage,singularNoun:"audit",pluralNoun:"audits"}),{0:displayText,1:setDisplayText}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({page:pagination.page,itemRangeText,perPage:pagination.perPage});return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{loading||setDisplayText({page:pagination.page,itemRangeText,perPage:pagination.perPage})}),[loading]),data.length?(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(_packages_react_src_pagination__WEBPACK_IMPORTED_MODULE_1__.g8,{currentPage:displayText.page,itemRangeText:displayText.itemRangeText,itemsPerPage:displayText.perPage,onChange:page=>setPagination({perPage:displayText.perPage,page}),onItemsPerPageChange:perPage=>setPagination({page:getValidPage({currentPage:pagination.page,totalItems,perPage,prevPerPage:pagination.perPage}),perPage}),totalPages}):null},getValidPage=({currentPage,totalItems,perPage,prevPerPage})=>{const lowestDisplayedItemPosition=Math.floor(currentPage*prevPerPage+(1-prevPerPage)),newPageWithLowestDisplayedItemPosition=Math.floor(lowestDisplayedItemPosition/perPage+1);return currentPage>totalItems/perPage?Math.ceil(totalItems/perPage):newPageWithLowestDisplayedItemPosition}},"./.storybook/stories/DataFiltering/components/DataTable.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>DataTable,s:()=>tableId});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),format=__webpack_require__("./node_modules/date-fns/esm/format/index.js"),a11y=__webpack_require__("./packages/react/src/a11y/index.ts"),skeleton=__webpack_require__("./packages/react/src/skeleton/index.ts"),table=__webpack_require__("./packages/react/src/table/index.ts"),text_link=__webpack_require__("./packages/react/src/text-link/index.ts"),src_text=__webpack_require__("./packages/react/src/text/index.ts"),stack=__webpack_require__("./packages/react/src/stack/index.ts"),icon=__webpack_require__("./packages/react/src/icon/index.ts"),heading=__webpack_require__("./packages/react/src/heading/index.ts"),src_button=__webpack_require__("./packages/react/src/button/index.ts"),utils=__webpack_require__("./.storybook/stories/DataFiltering/lib/utils.ts"),contexts=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),flex=__webpack_require__("./packages/react/src/flex/index.ts"),avatar=__webpack_require__("./packages/react/src/avatar/index.ts"),src_checkbox=__webpack_require__("./packages/react/src/checkbox/index.ts"),status_badge=__webpack_require__("./packages/react/src/status-badge/index.ts"),emotion_react_jsx_runtime_browser_esm=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const DataTableRowAssignee=({assignee})=>assignee?(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(flex.Flex,{alignItems:"center",gap:.25,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(avatar.e,{"aria-hidden":!0,name:assignee,size:"sm"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{children:assignee})]})}):(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{children:"-"}),itemStatusMap={notBooked:{label:"Not booked",tone:"notStartedLow"},booked:{label:"Booked",tone:"infoMedium"},completed:{label:"Completed",tone:"successMedium"},cancelled:{label:"Cancelled",tone:"errorMedium"}},DataTableRowStatus=({status})=>(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(status_badge.W,_objectSpread({appearance:"subtle"},itemStatusMap[status]))}),DataTableRow=({businessName,children,itemId,rowIndex,selectable})=>{const{isRowSelected,toggleRowSelected}=(0,contexts.YM)();return selectable?(0,emotion_react_jsx_runtime_browser_esm.FD)(table.Hj,{"aria-rowindex":rowIndex,selected:isRowSelected(itemId),children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{children:(0,emotion_react_jsx_runtime_browser_esm.Y)(src_checkbox.Checkbox,{checked:isRowSelected(itemId),onChange:()=>toggleRowSelected(itemId),size:"sm",children:(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:`Select ${businessName}`})})}),children]}):(0,emotion_react_jsx_runtime_browser_esm.Y)(table.Hj,{"aria-rowindex":rowIndex,children})};var SelectableTableBatchActions_utils=__webpack_require__("./.storybook/stories/SelectableTableBatchActions/utils.ts"),console=__webpack_require__("./node_modules/console-browserify/index.js");const DataTableBatchActionsBar=()=>{const{selection,clearRowSelections}=(0,contexts.YM)();return selection.length?(0,emotion_react_jsx_runtime_browser_esm.FD)(table.Zk,{children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(table.qB,{children:["Apply action to ",selection.length," ",(0,SelectableTableBatchActions_utils.L)(selection.length,"item","items")]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(src_button.ButtonGroup,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{onClick:()=>{console.log("Add tracking number"),clearRowSelections()},size:"sm",variant:"secondary",children:"Add tracking number"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{onClick:()=>{console.log("Delete"),clearRowSelections()},size:"sm",variant:"secondary",children:"Delete"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{onClick:clearRowSelections,size:"sm",variant:"tertiary",children:"Cancel"})]})]}):null},tableId="data-table",DataTable=(0,react.forwardRef)((function DataTable({headingId,selectable},ref){const{sort,setSort,pagination,resetFilters}=(0,contexts.YM)(),{data,loading,totalItems,error}=(0,contexts.fK)(),isTableSortable=!!sort||!!setSort,caption=(0,utils.mw)({loading,totalItems,pagination});return error?(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:1,role:"alert",children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.AlertFilledIcon,{color:"error",size:"lg"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(heading.Heading,{fontSize:"lg",type:"h2",children:"Failed to load"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{children:"There was an error loading the data. Please try refreshing the page to try again."})]}):loading||0!==data.length?(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:.5,children:[headingId?(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:a11y.O_,id:"data-table-description",children:"Table column headers with buttons are sortable."}):null,(0,emotion_react_jsx_runtime_browser_esm.Y)("div",{css:a11y.O_,role:"status",children:loading?"Loading audits":""}),(0,emotion_react_jsx_runtime_browser_esm.Y)(table.AC,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(table.XI,{"aria-labelledby":headingId?`${headingId} data-table-description`:void 0,"aria-rowcount":totalItems,id:tableId,ref,tabIndex:-1,tableLayout:"fixed",children:[!headingId&&(0,emotion_react_jsx_runtime_browser_esm.FD)(table.r6,{children:[caption,(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:", column headers with buttons are sortable."})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nd,{children:(0,emotion_react_jsx_runtime_browser_esm.FD)(table.Hj,{"aria-rowindex":1,children:[selectable&&(0,emotion_react_jsx_runtime_browser_esm.Y)(table.A0,{scope:"col",width:"5rem",children:"Select"}),headers.map((({label,sortKey,textAlign,width,isSortable:isFieldSortable})=>{if(isTableSortable&&isFieldSortable){const isFieldTheActiveSortField=sort?.field===sortKey,onClick=()=>setSort?.({field:sortKey,order:sort?.field===sortKey&&"ASC"===sort?.order?"DESC":"ASC"});return(0,emotion_react_jsx_runtime_browser_esm.Y)(table.a9,{onClick,sort:isFieldTheActiveSortField?sort?.order:void 0,textAlign,width,children:label},sortKey)}return(0,emotion_react_jsx_runtime_browser_esm.Y)(table.A0,{scope:"col",width,children:label},sortKey)}))]})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(table.BF,{children:loading?(0,emotion_react_jsx_runtime_browser_esm.Y)(react.Fragment,{children:Array.from(Array(pagination.perPage).keys()).map((i=>(0,emotion_react_jsx_runtime_browser_esm.FD)(table.Hj,{children:[selectable&&(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.rr,{}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(skeleton.fk,{height:32}),(0,emotion_react_jsx_runtime_browser_esm.Y)(a11y.s6,{children:"Loading"})]})]},i)))}):(0,emotion_react_jsx_runtime_browser_esm.Y)(react.Fragment,{children:data.map((({index,id,assignee,businessName,city,state,requestDate,status})=>{const rowIndex=index+2;return(0,emotion_react_jsx_runtime_browser_esm.FD)(DataTableRow,{businessName,itemId:id,rowIndex,selectable,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{as:"th",scope:"row",children:(0,emotion_react_jsx_runtime_browser_esm.Y)(text_link.TextLink,{href:`#${id}`,children:businessName})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DataTableRowAssignee,{assignee}),(0,emotion_react_jsx_runtime_browser_esm.FD)(table.nA,{children:[city,", ",state]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(table.nA,{children:(0,format.A)(requestDate,"dd/MM/yyyy")}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DataTableRowStatus,{status})]},id)}))})})]})}),(0,emotion_react_jsx_runtime_browser_esm.Y)(DataTableBatchActionsBar,{})]}):(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{alignItems:"flex-start",gap:2,paddingY:1,role:"alert",children:[(0,emotion_react_jsx_runtime_browser_esm.FD)(stack.Stack,{gap:1,children:[(0,emotion_react_jsx_runtime_browser_esm.Y)(icon.NT,{color:"muted",size:"lg"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(heading.Heading,{fontSize:"lg",type:"h2",children:"No results found"}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_text.Text,{children:"Try adjusting your filter options."})]}),(0,emotion_react_jsx_runtime_browser_esm.Y)(src_button.Button,{onClick:resetFilters,children:"Clear filters"})]})})),headers=[{label:"Business name",sortKey:"businessName",width:{xs:"20rem",lg:"auto"},isSortable:!0},{label:"Assignee",sortKey:"assignee",width:"12rem",isSortable:!0},{label:"City",sortKey:"city",width:{xs:"16rem",lg:"auto"},isSortable:!1},{label:"Date registered",sortKey:"requestDate",width:"12rem",isSortable:!0},{label:"Status",sortKey:"status",width:"11rem",isSortable:!0}]},"./.storybook/stories/DataFiltering/components/FilterAssigneeSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{o:()=>FilterAssigneeSelect});var _packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/select/index.ts"),_lib_generateBusinessData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/stories/DataFiltering/lib/generateBusinessData.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterAssigneeSelect=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_2__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Y)(_packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__.Select,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_3__.s,block,hideOptionalLabel:!0,label:"Assignee",onChange:e=>{const value=e.target.value;setFilter({assignee:""===value?void 0:value})},options:_lib_generateBusinessData__WEBPACK_IMPORTED_MODULE_1__.Hy.map((option=>({label:option,value:option}))),placeholder:"All",value:filters.assignee||""})}},"./.storybook/stories/DataFiltering/components/FilterDestinationsSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{C:()=>FilterDestinationsSelect});var _packages_react_src_combobox__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/combobox/index.ts"),_docs_components_designSystemComponents__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./docs/components/designSystemComponents.tsx"),_lib_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterDestinationsSelect=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_2__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Y)(_packages_react_src_combobox__WEBPACK_IMPORTED_MODULE_0__.ND,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_3__.s,block,hideOptionalLabel:!0,hint:"Start typing to see results",label:"Destinations",onChange:selectedCountries=>{setFilter({destinations:selectedCountries.map((({label})=>label))})},options:_docs_components_designSystemComponents__WEBPACK_IMPORTED_MODULE_1__.gH6,value:(filters.destinations??[]).map((country=>({label:country,value:country})))})}},"./.storybook/stories/DataFiltering/components/FilterSearchInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{X:()=>FilterSearchInput});var _packages_react_src_search_input__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/search-input/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterSearchInput=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_1__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)("div",{"aria-label":"Audits",role:"search",children:(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(_packages_react_src_search_input__WEBPACK_IMPORTED_MODULE_0__.D,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_2__.s,block,hideOptionalLabel:!0,label:"Search Business name",maxWidth:"lg",onChange:searchString=>{setFilter({businessName:searchString})},value:filters.businessName||""})})}},"./.storybook/stories/DataFiltering/components/FilterServicesSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{n:()=>FilterServicesSelect});var _packages_react_src_control_group__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/control-group/index.ts"),_packages_react_src_checkbox__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/react/src/checkbox/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_lib_generateBusinessData__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./.storybook/stories/DataFiltering/lib/generateBusinessData.ts"),_DataTable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterServicesSelect=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_2__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Y)(_packages_react_src_control_group__WEBPACK_IMPORTED_MODULE_0__.ControlGroup,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_4__.s,block,hideOptionalLabel:!0,label:"Services",children:_lib_generateBusinessData__WEBPACK_IMPORTED_MODULE_3__.$p.map((service=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.Y)(_packages_react_src_checkbox__WEBPACK_IMPORTED_MODULE_1__.Checkbox,{checked:(filters.services||[]).includes(service),onChange:e=>{const checked=e.target.checked;setFilter({services:checked?[...filters.services||[],service]:filters.services?.filter((s=>s!==service))})},value:service,children:service},service)))})}},"./.storybook/stories/DataFiltering/components/FilterStateSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>FilterStateSelect,J:()=>STATE_OPTIONS});var _packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/select/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterStateSelect=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_1__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(_packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__.Select,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_2__.s,block,hideOptionalLabel:!0,label:"State",onChange:e=>{const value=e.target.value;setFilter({state:""===value?void 0:value})},options:STATE_OPTIONS,placeholder:"All",value:filters.state||""})},STATE_OPTIONS=[{value:"act",label:"ACT"},{value:"nsw",label:"NSW"},{value:"nt",label:"NT"},{value:"qld",label:"QLD"},{value:"sa",label:"SA"},{value:"tas",label:"TAS"},{value:"vic",label:"VIC"},{value:"wa",label:"WA"}]},"./.storybook/stories/DataFiltering/components/FilterStatusSelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>FilterStatusSelect});var _packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/select/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const FilterStatusSelect=({block})=>{const{filters,setFilter}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_1__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(_packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__.Select,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_2__.s,block,hideOptionalLabel:!0,label:"Status",onChange:e=>{const value=e.target.value;setFilter({status:""===value?void 0:value})},options:[{value:"booked",label:"Booked"},{value:"notBooked",label:"Not booked"},{value:"completed",label:"Completed"},{value:"cancelled",label:"Cancelled"}],placeholder:"All",value:filters.status||""})}},"./.storybook/stories/DataFiltering/components/SortBySelect.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>SortBySelect});var _packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./packages/react/src/select/index.ts"),_lib_contexts__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./.storybook/stories/DataFiltering/lib/contexts.tsx"),_DataTable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./.storybook/stories/DataFiltering/components/DataTable.tsx"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const SortBySelect=()=>{const{sort,setSort}=(0,_lib_contexts__WEBPACK_IMPORTED_MODULE_1__.YM)();return(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Y)(_packages_react_src_select__WEBPACK_IMPORTED_MODULE_0__.Select,{"aria-controls":_DataTable__WEBPACK_IMPORTED_MODULE_2__.s,hideOptionalLabel:!0,label:"Sort by",onChange:e=>{const[field,order]=e.target.value.split("-");setSort({field,order})},options:[{value:"businessName-ASC",label:"Business name (A-Z)"},{value:"businessName-DESC",label:"Business name (Z-A)"},{value:"assignee-ASC",label:"Assignee (A-Z)"},{value:"assignee-DESC",label:"Assignee (Z-A)"},{value:"requestDate-ASC",label:"Date registered (oldest first)"},{value:"requestDate-DESC",label:"Date registered (newest first)"},{value:"status-ASC",label:"Status (A-Z)"},{value:"status-DESC",label:"Status (Z-A)"}],value:`${sort.field}-${sort.order}`})}},"./.storybook/stories/DataFiltering/lib/contexts.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M9:()=>DataProvider,YM:()=>useSortAndFilterContext,fK:()=>useDataContext,rl:()=>SortAndFilterProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const SortAndFilterContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),SortAndFilterProvider=({children,value})=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(SortAndFilterContext.Provider,{value,children}),useSortAndFilterContext=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(SortAndFilterContext);if(void 0===context)throw new Error("useSortAndFilterContext must be used within a SortAndFilterProvider");return context},DataContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0),DataProvider=({children,value})=>(0,_emotion_react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Y)(DataContext.Provider,{value,children}),useDataContext=()=>{const context=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(DataContext);if(void 0===context)throw new Error("useDataContext must be used within a DataProvider");return context}},"./.storybook/stories/DataFiltering/lib/generateBusinessData.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{$p:()=>services,Hy:()=>assignees,gh:()=>generateBusinessData});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@faker-js/faker/dist/esm/index.mjs"),_packages_react_src_combobox_test_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/react/src/combobox/test-utils.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const EXAMPLE_BUSINESSES=[{businessName:"Agriculture Victoria",city:"Melbourne",state:"VIC"},{businessName:"Orange Meat Works",city:"Orange",state:"NSW"},{businessName:"Molong Farming",city:"Molong",state:"NSW"},{businessName:"Wagga Wagga Poultry",city:"Wagga Wagga",state:"NSW"},{businessName:"Aussie Agribusiness",city:"Sydney",state:"NSW"},{businessName:"Down Under Dairy",city:"Brisbane",state:"QLD"},{businessName:"Outback Organic Farms"},{businessName:"Australian Cattle Co."},{businessName:"The Grazing Land"},{businessName:"The Harvest House"},{businessName:"The Aussie Farmer"},{businessName:"The Australian Orchard"},{businessName:"Cropland Australia"},{businessName:"The Australian Wheatfields"},{businessName:"The Australian Sheep Co."},{businessName:"The Australian Cotton Co."},{businessName:"The Australian Grape Co."},{businessName:"The Australian Fruit Co."},{businessName:"The Australian Beef Co."},{businessName:"The Australian Pork Co."},{businessName:"The Australian Poultry Co."},{businessName:"Down Under Produce Co."},{businessName:"Kangaroo Valley Farms"},{businessName:"The Outback Orchard"},{businessName:"Aussie Agro Supplies"},{businessName:"Woolaroo Ranch",city:"Woolaroo",state:"NSW"},{businessName:"The Land Down Under Livestock Co."},{businessName:"The Oz Harvest Co."},{businessName:"The Aussie Farmerâ€™s Market"},{businessName:"The Australian Crop Co."},{businessName:"The Great Barrier Reef Seafood Co.",city:"Hamilton Island",state:"QLD"},{businessName:"Down Under Harvest"},{businessName:"Outback Orchards"},{businessName:"Bushland Farms"},{businessName:"Aussie Acres Produce"},{businessName:"Kookaburra Crops"},{businessName:"Wombat Ranch"},{businessName:"Koala Country Farms"},{businessName:"Eucalyptus Grove"},{businessName:"Kangaroo Cattle Co."},{businessName:"Dingo Dairy"},{businessName:"The Aussie Farmer"},{businessName:"The Outback Grower"},{businessName:"The Bush Farmer"},{businessName:"The Australian Harvest"},{businessName:"The Kookaburra Farmer"},{businessName:"The Wombat Farmer"},{businessName:"The Koala Farmer"},{businessName:"The Eucalyptus Farmer"},{businessName:"The Kangaroo Farmer"},{businessName:"The Dingo Farmer"},{businessName:"The Aussie Orchard"},{businessName:"The Outback Orchard"},{businessName:"The Bush Orchard"},{businessName:"The Australian Orchard"},{businessName:"The Kookaburra Orchard"},{businessName:"The Wombat Orchard"},{businessName:"The Koala Orchard"},{businessName:"The Eucalyptus Orchard"},{businessName:"The Kangaroo Orchard"},{businessName:"The Dingo Orchard"},{businessName:"The Aussie Crop"},{businessName:"The Outback Crop"},{businessName:"The Bush Crop"},{businessName:"The Australian Crop"},{businessName:"The Kookaburra Crop"},{businessName:"The Wombat Crop"},{businessName:"The Koala Crop"},{businessName:"The Eucalyptus Crop"},{businessName:"The Kangaroo Crop"},{businessName:"The Dingo Crop"},{businessName:"The Aussie Ranch"},{businessName:"The Outback Ranch"},{businessName:"The Bush Ranch"},{businessName:"The Australian Ranch"},{businessName:"The Kookaburra Ranch"},{businessName:"The Wombat Ranch"},{businessName:"The Koala Ranch"},{businessName:"The Eucalyptus Ranch"},{businessName:"The Kangaroo Ranch"},{businessName:"The Dingo Ranch"},{businessName:"Canobolas Orchard",city:"Orange",state:"NSW"}],assignees=["Oscar Piastri","George Russell","Lando Norris"],services=["Loading","Packing","Producing"],generateBusinessData=()=>Array.from({length:150}).map(((_,index)=>{const exampleAustralianBusiness=EXAMPLE_BUSINESSES[index]||{};return function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({id:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.datatype.uuid(),assignee:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.helpers.arrayElement([...assignees,void 0]),businessName:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.company.name(),city:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.address.city(),state:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.helpers.arrayElement(["NSW","QLD","VIC","SA","WA","TAS","NT","ACT"]),status:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.helpers.arrayElement(["notBooked","booked","completed","cancelled"]),requestDate:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.date.past(),destinations:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.helpers.arrayElements(_packages_react_src_combobox_test_utils__WEBPACK_IMPORTED_MODULE_2__.gH.map((({label})=>label)),2),services:_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.helpers.arrayElements(services,_faker_js_faker__WEBPACK_IMPORTED_MODULE_1__.az.datatype.number({min:1,max:3}))},exampleAustralianBusiness)}))},"./.storybook/stories/DataFiltering/lib/useFetchData.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{G:()=>useFetchData});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),generateBusinessData=__webpack_require__("./.storybook/stories/DataFiltering/lib/generateBusinessData.ts");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const doesBusinessMatchFilters=(business,filters)=>{let isValid=!0;const{requestDate,state,status,businessName,assignee,services,destinations}=filters;if(requestDate&&requestDate.from&&"string"!=typeof requestDate.from&&business.requestDate<requestDate.from&&(isValid=!1),requestDate&&requestDate.to&&"string"!=typeof requestDate.to&&business.requestDate>requestDate.to&&(isValid=!1),state){const value=state.toLowerCase();-1===business.state.toString().toLowerCase().indexOf(value)&&(isValid=!1)}if(status){const value=status.toLowerCase();-1===business.status.toString().toLowerCase().indexOf(value)&&(isValid=!1)}if(businessName){const value=businessName.toLowerCase();business.businessName.toString().toLowerCase().includes(value)||(isValid=!1)}if(assignee&&(!business.assignee||business.assignee&&business.assignee!==assignee)&&(isValid=!1),services&&services.length>0){services.every((service=>business.services.includes(service)))||(isValid=!1)}if(destinations&&destinations.length>0){destinations.some((destination=>business.destinations.includes(destination)))||(isValid=!1)}return isValid},sortData=(a,b,sort)=>{const{field,order}=sort,aValue=a[field],bValue=b[field];return void 0===aValue?1:void 0===bValue?-1:aValue>bValue?"ASC"===order?1:-1:aValue<bValue?"ASC"===order?-1:1:0},allData=(0,generateBusinessData.gh)();function useFetchData({sort,filters,pagination,throwError}){const{0:loading,1:setLoading}=(0,react.useState)(!0),{0:data,1:setData}=(0,react.useState)([]),{0:totalPages,1:setTotalPages}=(0,react.useState)(0),{0:totalItems,1:setTotalItems}=(0,react.useState)(0);return(0,react.useEffect)((()=>{setLoading(!0),async function getData(params){const{page,perPage}=params.pagination,sortedData=allData.filter((business=>doesBusinessMatchFilters(business,params.filters))).sort(((a,b)=>sortData(a,b,params.sort))).map(((business,index)=>_objectSpread(_objectSpread({},business),{},{index}))),paginatedData=sortedData.slice((page-1)*perPage,page*perPage);return new Promise((resolve=>{setTimeout((()=>{resolve({data:paginatedData,total:sortedData.length,totalPages:Math.ceil(sortedData.length/perPage),totalItems:sortedData.length})}),1e3)}))}({sort,filters,pagination}).then((response=>{setData(response.data),setTotalPages(response.totalPages),setTotalItems(response.totalItems),setLoading(!1)}))}),[sort,filters,pagination]),throwError?{error:"Something went wrong",loading:!1,data:[],totalPages:0,totalItems:0}:{loading,data,totalPages,totalItems}}},"./.storybook/stories/DataFiltering/lib/useSortAndFilter.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>useSortAndFilter});var _home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_runner_work_agds_next_agds_next_node_modules_next_dist_compiled_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_0__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const defaultFilters={assignee:void 0,businessName:void 0,state:void 0,status:void 0,requestDate:{from:void 0,to:void 0},services:void 0,destinations:void 0},useSortAndFilter=(args={})=>{const{0:state,1:dispatch}=(0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)(sortFilterReducer,{pagination:{page:1,perPage:args.itemsPerPage||10},sort:{field:"businessName",order:"ASC"},filters:_objectSpread(_objectSpread({},defaultFilters),args.filters),selection:[]}),{sort,filters,pagination,selection}=state;return{sort,setSort:function setSort(sort){dispatch({type:"SET_SORT",payload:sort}),dispatch({type:"RESET_PAGINATION"})},filters,setFilter:function setFilter(filters){dispatch({type:"SET_FILTER",payload:filters}),dispatch({type:"RESET_PAGINATION"}),dispatch({type:"CLEAR_SELECTION"})},setFilters:function setFilters(filters){dispatch({type:"SET_FILTERS",payload:filters}),dispatch({type:"RESET_PAGINATION"}),dispatch({type:"CLEAR_SELECTION"})},removeFilter:function removeFilter(key){dispatch({type:"REMOVE_FILTER",payload:key}),dispatch({type:"RESET_PAGINATION"}),dispatch({type:"CLEAR_SELECTION"})},resetFilters:function resetFilters(){dispatch({type:"RESET_FILTERS"}),dispatch({type:"RESET_PAGINATION"}),dispatch({type:"CLEAR_SELECTION"})},pagination,setPagination:function setPagination(pagination){dispatch({type:"SET_PAGINATION",payload:pagination}),dispatch({type:"CLEAR_SELECTION"})},selection,isRowSelected:function isRowSelected(rowId){return selection.some((sId=>sId===rowId))},toggleRowSelected:function toggleRowSelected(rowId){dispatch({type:"TOGGLE_ROW",payload:rowId})},selectRows:function selectRows(rowIds){dispatch({type:"SELECT_ROWS",payload:rowIds})},clearRowSelections:function clearRowSelections(){dispatch({type:"CLEAR_SELECTION"})}}};function sortFilterReducer(state,action){switch(action.type){case"SET_SORT":return _objectSpread(_objectSpread({},state),{},{sort:action.payload});case"SET_FILTERS":return _objectSpread(_objectSpread({},state),{},{filters:action.payload});case"SET_FILTER":return _objectSpread(_objectSpread({},state),{},{filters:_objectSpread(_objectSpread({},state.filters),action.payload)});case"REMOVE_FILTER":return _objectSpread(_objectSpread({},state),{},{filters:_objectSpread(_objectSpread({},state.filters),{},{[action.payload]:"requestDate"===action.payload?{from:void 0,to:void 0}:void 0})});case"RESET_FILTERS":return _objectSpread(_objectSpread({},state),{},{filters:defaultFilters});case"SET_PAGINATION":return _objectSpread(_objectSpread({},state),{},{pagination:action.payload});case"RESET_PAGINATION":return _objectSpread(_objectSpread({},state),{},{pagination:_objectSpread(_objectSpread({},state.pagination),{},{page:1})});case"TOGGLE_ROW":return state.selection.includes(action.payload)?_objectSpread(_objectSpread({},state),{},{selection:state.selection.filter((s=>s!==action.payload))}):_objectSpread(_objectSpread({},state),{},{selection:[...state.selection,action.payload]});case"SELECT_ROWS":return _objectSpread(_objectSpread({},state),{},{selection:action.payload});case"CLEAR_SELECTION":return _objectSpread(_objectSpread({},state),{},{selection:[]});default:return state}}},"./.storybook/stories/DataFiltering/lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>STATUS_MAP,mw:()=>generateTableCaption,y4:()=>getNumberOfActiveFilters});const generateTableCaption=({loading,totalItems,pagination})=>{if(loading)return"Audits";const totalItemsPlural=1===totalItems?"1 item":`${totalItems} items`,firstItem=(pagination.page-1)*pagination.perPage+1,lastItem=(pagination.page-1)*pagination.perPage+pagination.perPage;return lastItem>totalItems?`Audits (${totalItemsPlural})`:`Audits (${firstItem} - ${lastItem} of ${totalItemsPlural})`},STATUS_MAP={notBooked:{label:"Not booked",tone:"neutral"},booked:{label:"Booked",tone:"info"},completed:{label:"Completed",tone:"success"},cancelled:{label:"Cancelled",tone:"error"}},getNumberOfActiveFilters=filters=>Object.keys(filters).reduce(((acc,key)=>"requestDate"===key?filters.requestDate?.from||filters.requestDate?.to?acc+1:acc:void 0!==filters[key]?acc+1:acc),0)},"./.storybook/stories/SelectableTableBatchActions/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>plural,U:()=>EXAMPLE_DATA});const exporters=["Lorem","Ipsum","Dolar","Amet"],status=["Draft","Issued","Submitted"];function sample(arr){return arr[Math.floor(Math.random()*arr.length)]}const EXAMPLE_DATA=Array.from(Array(40).keys()).map((idx=>{return{id:`${idx}`,certNumber:`CER${Math.random().toPrecision(8).slice(2)}`,exporter:sample(exporters),status:sample(status),amount:(min=10,max=90,Math.random()*(max-min+1)+min).toFixed(2)};var min,max}));function plural(arrayLength,singular,plural){return 1===arrayLength?singular:plural}}}]);