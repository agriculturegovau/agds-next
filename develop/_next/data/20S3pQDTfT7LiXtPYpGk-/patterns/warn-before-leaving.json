{"pageProps":{"breadcrumbs":[{"href":"/","label":"Home"},{"href":"/patterns","label":"Patterns"},{"label":"Warn before leaving"}],"navLinks":[{"href":"/patterns/accessible-form-validation-and-recovery","label":"Accessible form validation and error recovery"},{"href":"/patterns/ask-users-for-dates-and-times","label":"Ask users for dates and times"},{"href":"/patterns/conditional-reveal","label":"Conditionally revealed form content"},{"href":"/patterns/crud-data-tables","label":"Create, read, update and delete data in tables"},{"href":"/patterns/focus-mode","label":"Focus mode"},{"href":"/patterns/helpful-form-content","label":"Helpful form content"},{"href":"/patterns/loading-error-empty-states","label":"Loading, empty and error states"},{"href":"/patterns/messaging","label":"Messaging"},{"href":"/patterns/multi-task-form","label":"Multi-task form"},{"href":"/patterns/review-and-submit","label":"Review and submit"},{"href":"/patterns/search-filters","label":"Search filters"},{"href":"/patterns/selectable-table-with-batch-actions","label":"Selectable tables with batch actions"},{"href":"/patterns/selecting-an-option-from-a-list","label":"Selecting an option from a list"},{"href":"/patterns/selecting-multiple-options-from-a-list","label":"Selecting multiple options from a list"},{"href":"/patterns/warn-before-leaving","label":"Warn before leaving"},{"href":"/patterns/yourgov-example-application","label":"yourGov example application"}],"pattern":{"slug":"warn-before-leaving","source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction _createMdxContent(props) {\n  const _components = Object.assign({\n    h2: \"h2\",\n    p: \"p\",\n    h3: \"h3\",\n    code: \"code\",\n    ul: \"ul\",\n    li: \"li\"\n  }, _provideComponents(), props.components), {ImageWithBorder} = _components;\n  if (!ImageWithBorder) _missingMdxReference(\"ImageWithBorder\", true);\n  return _jsxs(_Fragment, {\n    children: [_jsx(_components.h2, {\n      children: \"Overview\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This pattern displays a confirmation modal when a user attempts to leave a page or step where unsaved information may be lost. It gives them the opportunity to stay and complete their action or confirm that they wish to leave without saving.\"\n    }), \"\\n\", _jsx(ImageWithBorder, {\n      alt: \"Screenshot of an open Modal dialog with the title ‘Are you sure you want to cancel?’ and description ‘If you cancel, you will lose all information entered.’\",\n      src: \"/img/patterns/warn-before-leaving-modal.png\"\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"When to use\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"A user is in the middle of completing a form or multi-step process\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Warn users when navigating away from a form or process will result in the loss of any information they’ve entered so far. This includes situations where the form does not autosave or where progress cannot be resumed later.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This warning is especially important in multi-step forms, where users may try to navigate using the progress indicator without realising their data isn’t saved. Users may also be interrupted or misunderstand where a button or link will take them.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Use this pattern to help prevent accidental data loss, reduce frustration, and protect anything the user has spent time entering. This is particularly important in longer or more complex processes like applications, registrations, or multi-page forms.\"\n    }), \"\\n\", _jsx(_components.h3, {\n      children: \"Leaving the current page would result in lost input or progress\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Warn users if leaving the current page will cause them to lose anything they’ve entered or selected. This could include typed responses, file uploads, selected options, or partially completed tasks that haven’t been saved.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"This situation often occurs when users accidentally click a navigation link, use the browser’s back button, or close the tab. In some cases, users may not realise that information is only temporarily held in the current session.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Use this pattern to help users avoid unintentionally discarding their work. This is especially important in forms, editable content, or processes that don’t autosave or can’t be resumed later.\"\n    }), \"\\n\", _jsxs(_components.p, {\n      children: [\"Note: browsers have restrictions on executing events when a user performs native browser functions like reloading or closing a tab. You will also need to hook into the browser’s \", _jsx(_components.code, {\n        children: \"window.onbeforeunload\"\n      }), \" event and use \", _jsx(_components.code, {\n        children: \"window.confirm\"\n      }), \" to warn users they are about to leave the page.\"]\n    }), \"\\n\", _jsx(_components.h2, {\n      children: \"Why it matters\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Users can be interrupted, misinterpret interface elements, or be unaware that leaving a page will cause them to lose progress. A clear warning helps prevent mistakes and gives users the chance to make an informed choice.\"\n    }), \"\\n\", _jsx(_components.p, {\n      children: \"Using this pattern:\"\n    }), \"\\n\", _jsxs(_components.ul, {\n      children: [\"\\n\", _jsx(_components.li, {\n        children: \"protects the user’s time and effort by preventing accidental loss of work\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"reduces frustration caused by unintended navigation\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"builds trust through transparency and giving users control over their actions\"\n      }), \"\\n\", _jsx(_components.li, {\n        children: \"improves accessibility for users who may be experiencing cognitive overload, using assistive technology, or navigating at a slower pace.\"\n      }), \"\\n\"]\n    })]\n  });\n}\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, props)\n  })) : _createMdxContent(props);\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"Warn before leaving","description":"Use the Warn before leaving pattern to prevent users from accidentally losing unsaved data when navigating away from a form or in-progress task.","relatedComponents":["modal"]}},"content":"\n## Overview\n\nThis pattern displays a confirmation modal when a user attempts to leave a page or step where unsaved information may be lost. It gives them the opportunity to stay and complete their action or confirm that they wish to leave without saving.\n\n<ImageWithBorder\n\talt=\"Screenshot of an open Modal dialog with the title ‘Are you sure you want to cancel?’ and description ‘If you cancel, you will lose all information entered.’\"\n\tsrc=\"/img/patterns/warn-before-leaving-modal.png\"\n/>\n\n## When to use\n\n### A user is in the middle of completing a form or multi-step process\n\nWarn users when navigating away from a form or process will result in the loss of any information they’ve entered so far. This includes situations where the form does not autosave or where progress cannot be resumed later.\n\nThis warning is especially important in multi-step forms, where users may try to navigate using the progress indicator without realising their data isn’t saved. Users may also be interrupted or misunderstand where a button or link will take them.\n\nUse this pattern to help prevent accidental data loss, reduce frustration, and protect anything the user has spent time entering. This is particularly important in longer or more complex processes like applications, registrations, or multi-page forms.\n\n### Leaving the current page would result in lost input or progress\n\nWarn users if leaving the current page will cause them to lose anything they’ve entered or selected. This could include typed responses, file uploads, selected options, or partially completed tasks that haven’t been saved.\n\nThis situation often occurs when users accidentally click a navigation link, use the browser’s back button, or close the tab. In some cases, users may not realise that information is only temporarily held in the current session.\n\nUse this pattern to help users avoid unintentionally discarding their work. This is especially important in forms, editable content, or processes that don’t autosave or can’t be resumed later.\n\nNote: browsers have restrictions on executing events when a user performs native browser functions like reloading or closing a tab. You will also need to hook into the browser’s `window.onbeforeunload` event and use `window.confirm` to warn users they are about to leave the page.\n\n## Why it matters\n\nUsers can be interrupted, misinterpret interface elements, or be unaware that leaving a page will cause them to lose progress. A clear warning helps prevent mistakes and gives users the chance to make an informed choice.\n\nUsing this pattern:\n\n- protects the user’s time and effort by preventing accidental loss of work\n- reduces frustration caused by unintended navigation\n- builds trust through transparency and giving users control over their actions\n- improves accessibility for users who may be experiencing cognitive overload, using assistive technology, or navigating at a slower pace.\n","data":{"title":"Warn before leaving","description":"Use the Warn before leaving pattern to prevent users from accidentally losing unsaved data when navigating away from a form or in-progress task.","relatedComponents":["modal"]},"title":"Warn before leaving","description":"Use the Warn before leaving pattern to prevent users from accidentally losing unsaved data when navigating away from a form or in-progress task.","figmaTemplateNodeId":null,"githubTemplatePath":null,"storybookPath":null,"relatedComponents":["modal"],"relatedPatterns":null},"relatedComponents":[{"slug":"modal","name":"modal","title":"Modal","description":"A modal is a dialog box that appears above the parent page and provides advance notice of a destructive action and consequence. They tell users a decision is needed.","storybookPath":"/story/content-modal--basic","figmaGalleryNodeId":"11981%3A101667","subNavItems":[{"label":"Overview","href":"/components/modal","path":"/home/runner/work/agds-next/agds-next/packages/react/src/modal/docs/overview.mdx"},{"label":"Rationale","href":"/components/modal/rationale","path":"/home/runner/work/agds-next/agds-next/packages/react/src/modal/docs/rationale.mdx"},{"label":"Code","href":"/components/modal/code","path":"/home/runner/work/agds-next/agds-next/packages/react/src/modal/docs/code.mdx"}],"relatedComponents":["drawer"],"relatedPatterns":null,"deprecated":false,"unreleased":false}],"relatedPatterns":null,"toc":[{"id":"overview","title":"Overview","level":2,"slug":"overview","items":[]},{"id":"when-to-use","title":"When to use","level":2,"slug":"when-to-use","items":[{"id":"a-user-is-in-the-middle-of-completing-a-form-or-multi-step-process","title":"A user is in the middle of completing a form or multi-step process","level":3,"slug":"a-user-is-in-the-middle-of-completing-a-form-or-multi-step-process","items":[]},{"id":"leaving-the-current-page-would-result-in-lost-input-or-progress","title":"Leaving the current page would result in lost input or progress","level":3,"slug":"leaving-the-current-page-would-result-in-lost-input-or-progress","items":[]}]},{"id":"why-it-matters","title":"Why it matters","level":2,"slug":"why-it-matters","items":[]},{"id":"related-components","items":[],"level":2,"slug":"related-components","title":"Related components"}]},"__N_SSG":true}